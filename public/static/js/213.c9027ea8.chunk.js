/*! For license information please see 213.c9027ea8.chunk.js.LICENSE.txt */
(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[213],{1896:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(711),o=a(471),r=a.n(o),c=a(474),i=a.n(c),l=a(1822),u=a(1719),d=(a(448),a(452)),p=a(446),f=a(445),m=a(465),g=a(450),b=a(451),h=a(463),O=a(1680),j=a(432),y=a(467),v=a(449),x=a(442),C=a(460),w=a.n(C),N=a(444),T=a.n(N),M=a(443),k=a(437),P=a(5);const _=T()(w.a);t.default=()=>{Object(s.g)();const[e,t]=Object(n.useState)(""),[a,o]=Object(n.useState)(0),[c,C]=Object(n.useState)(!0),[N,T]=Object(n.useState)(!1),[E,R]=Object(n.useState)([]),[S,D]=Object(n.useState)(0),B=localStorage.getItem("ip"),[L,z]=Object(n.useState)(!1),A=e=>_.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,showLoaderOnConfirm:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1,preConfirm:()=>x.a.depositDelete({deposit_id:e}).then((e=>{const{balance:t=0}=e.data.payload;return D(t),e})).catch((e=>(Object(k.a)(e),!1))),allowOutsideClick:()=>!w.a.isLoading()}).then((function(t){t.isConfirmed&&((e=>{const t=E.filter((t=>t.id!==e));R(t)})(e),_.fire({icon:"success",title:"Deleted!",text:"The Deposit has been deleted.",customClass:{confirmButton:"btn btn-success"}}))}));Object(n.useEffect)((()=>{x.a.depositLogList({page:1,limit:30,from_id:1,to_id:2,ip:B}).then((e=>{C(!1),R(e.data.payload.data),D(e.data.payload.current_balance)})).catch((e=>{Object(k.a)(e)}))}),[]);const Y=[{name:"Time",selector:e=>Object(M.b)(e.created_at),minWidth:"200px",sortable:!0},{name:"Till",selector:"till_id",minWidth:"100px",sortable:!0},{name:"Deposit Amount",selector:(e,t)=>"".concat(window.CURRENCY_SYMBOL," ").concat(Object(M.e)((+e.deposit_amount).toFixed(2))),minWidth:"150px",sortable:!0},{name:"Till Balance",selector:(e,t)=>"".concat(window.CURRENCY_SYMBOL," ").concat(Object(M.e)((+e.current_balance).toFixed(2))),minWidth:"200px",sortable:!0},{name:"User",selector:"created_by",minWidth:"200px",sortable:!0},{name:"Actions",allowOverflow:!0,cell:e=>Object(P.jsx)(l.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:t=>A(e.id)})}];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(d.a,{className:"py-0 px-1",children:[Object(P.jsx)(p.a,{className:"border-bottom",children:Object(P.jsx)(f.a,{tag:"h4",children:"Deposit to Safe"})}),Object(P.jsx)(m.a,{className:"my-2",style:{width:"100%"},onSubmit:a=>{a.preventDefault(),""!==e&&0!==Number(e)&&(T(!0),x.a.submitDeposit({deposit_amount:e,from_id:1,to_id:2,ip:B}).then((e=>{Object(k.c)(e);const{current_balance:a=0,deposit_amount:n,till_balance:s,till_id:o,username:r,id:c}=e.data.payload,i={id:c,created_at:(new Date).toISOString(),till_id:o,deposit_amount:n,created_by:r,current_balance:s};D(s),R([i,...E]),t(""),T(!1)})).catch((e=>{Object(k.a)(e),T(!1)})))},autoComplete:"off",children:Object(P.jsxs)(g.a,{children:[Object(P.jsxs)(b.a,{md:"6",children:[Object(P.jsx)(h.a,{for:"From",children:"Amount"}),Object(P.jsx)(O.a,{style:{width:"100%"},placeholder:"1000",type:"number",min:"0",id:"search-input",value:e,onChange:e=>{t(e.target.value)}})]}),Object(P.jsx)(b.a,{md:"2",children:N?Object(P.jsxs)(j.a.Ripple,{color:"primary",style:{marginTop:"22px"},disabled:!0,children:[Object(P.jsx)(y.a,{color:"white",size:"sm"}),Object(P.jsx)("small",{className:"ml-50",children:"Loading..."})]}):Object(P.jsx)(j.a.Ripple,{color:"primary",style:{marginTop:"22px"},type:"submit",children:Object(P.jsx)("span",{className:"align-middle ml-50",children:"Deposit"})})}),Object(P.jsxs)(b.a,{md:"4",children:[Object(P.jsx)(h.a,{for:"From",children:"Current Till Cash Balance"}),Object(P.jsx)("h2",{children:"".concat(window.CURRENCY_SYMBOL," ").concat(Object(M.e)((+S).toFixed(2)))})]})]})})]}),Object(P.jsxs)(d.a,{children:[Object(P.jsx)(p.a,{className:"border-bottom",children:Object(P.jsx)(f.a,{tag:"h4",children:"Last 30 Items"})}),Object(P.jsx)(i.a,{noHeader:!0,pagination:!0,columns:Y,paginationPerPage:5,className:"react-dataTable",sortIcon:Object(P.jsx)(u.a,{size:10}),paginationDefaultPage:a+1,paginationComponent:()=>Object(P.jsx)(r.a,{previousLabel:"",nextLabel:"",forcePage:a,onPageChange:e=>(e=>{o(e.selected)})(e),pageCount:E.length?E.length/5:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"}),data:E,progressPending:c,progressComponent:Object(P.jsx)(y.a,{color:"primary"}),responsive:!0}),Object(P.jsx)(v.a,{style:{paddingTop:"15px"}})]})]})}},437:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r}));a(0);var n=a(107);const s=e=>{try{const t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?n.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):n.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=e=>{try{const t=e.response;404!==t.status&&401!==t.status&&400!==t.status||n.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=e=>{const t=e.data.message||"success";n.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},443:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));var n=a(486),s=a.n(n);const o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},r=e=>new Date(e).toLocaleDateString(void 0,o),c=e=>{e.endsWith("Z")&&(e=e.slice(0,-1));const t=e.indexOf("+");return-1!==t&&(e=e.slice(0,t)),s()(e).format("MMMM D, YYYY [at] h:mm A")},i=e=>String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),l=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),u=async e=>{401===e&&(window.location.href="/Adminlogin",await localStorage.clear())},d=(e,t,a)=>{const n=document.createElement("a");let s=function(e){let a;return a="",a+=t.join(","),a+="\n",e.forEach((e=>{let n=0;t.forEach((t=>{n>0&&(a+=","),a+=e[t],n++})),a+="\n"})),a}(e);if(null===s)return;const o=JSON.parse(localStorage.getItem("userData")),r="".concat(a,"_").concat((new Date).toISOString(),"_").concat(o.fullname.replaceAll(/\s/g,""),".csv");s.match(/^data:text\/csv/i)||(s="data:text/csv;charset=utf-8,".concat(s)),n.setAttribute("href",encodeURI(s)),n.setAttribute("download",r),n.click()}},444:function(e,t,a){e.exports=function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?i(e):t}function u(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function d(e,t,a){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=u(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(a):s.value}},d(e,t,a||e)}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var p=[{key:"title",getter:function(e){return e.getTitle()}},{key:"html",getter:function(e){return e.getHtmlContainer()}},{key:"confirmButtonText",getter:function(e){return e.getConfirmButton()}},{key:"cancelButtonText",getter:function(e){return e.getCancelButton()}},{key:"footer",getter:function(e){return e.getFooter()}}],f=function(){},m=function(e){return new Error("sweetalert2-react-content: ".concat(e))};function g(n){return function(c){function i(){return a(this,i),l(this,r(i).apply(this,arguments))}return o(i,c),s(i,[{key:"_main",value:function(a){return(a=Object.assign({},a)).onOpen=a.onOpen||f,a.onDestroy=a.onDestroy||f,p.forEach((function(s){var o=s.key,r=s.getter;if(e.isValidElement(a[o])){var c,i=a[o];a[o]=" ";var l=a.onOpen;a.onOpen=function(e){c=r(n),t.render(i,c),l(e)};var u=a.onDestroy;a.onDestroy=function(e){u(e),c&&t.unmountComponentAtNode(c)}}})),d(r(i.prototype),"_main",this).call(this,a)}},{key:"update",value:function(){throw m("Swal.update() is not yet supported. See https://github.com/sweetalert2/sweetalert2-react-content/issues/73")}}],[{key:"argsToParams",value:function(t){if(e.isValidElement(t[0])||e.isValidElement(t[1])){var a={};return["title","html","icon"].forEach((function(e,n){void 0!==t[n]&&(a[e]=t[n])})),a}return n.argsToParams(t)}}]),i}(n)}return g}(a(0),a(27))},445:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},f=function(e){var t=e.className,a=e.cssModule,o=e.tag,c=Object(s.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-title"),a);return r.a.createElement(o,Object(n.a)({},c,{className:i}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},446:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},f=function(e){var t=e.className,a=e.cssModule,o=e.tag,c=Object(s.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-header"),a);return r.a.createElement(o,Object(n.a)({},c,{className:i}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},449:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},f=function(e){var t=e.className,a=e.cssModule,o=e.innerRef,c=e.tag,i=Object(s.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(u()(t,"card-body"),a);return r.a.createElement(c,Object(n.a)({},i,{className:l,ref:o}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},450:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p=i.a.oneOfType([i.a.number,i.a.string]),f={tag:d.tagPropType,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:p,sm:p,md:p,lg:p,xl:p},m={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e){var t=e.className,a=e.cssModule,o=e.noGutters,c=e.tag,i=e.form,l=e.widths,p=Object(s.a)(e,["className","cssModule","noGutters","tag","form","widths"]),f=[];l.forEach((function(t,a){var n=e[t];if(delete p[t],n){var s=!a;f.push(s?"row-cols-"+n:"row-cols-"+t+"-"+n)}}));var m=Object(d.mapToCssModules)(u()(t,o?"no-gutters":null,i?"form-row":"row",f),a);return r.a.createElement(c,Object(n.a)({},p,{className:m}))};g.propTypes=f,g.defaultProps=m,t.a=g},451:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p=i.a.oneOfType([i.a.number,i.a.string]),f=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:p,offset:p})]),m={tag:d.tagPropType,xs:f,sm:f,md:f,lg:f,xl:f,className:i.a.string,cssModule:i.a.object,widths:i.a.array},g={tag:"div",widths:["xs","sm","md","lg","xl"]},b=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},h=function(e){var t=e.className,a=e.cssModule,o=e.widths,c=e.tag,i=Object(s.a)(e,["className","cssModule","widths","tag"]),l=[];o.forEach((function(t,n){var s=e[t];if(delete i[t],s||""===s){var o=!n;if(Object(d.isObject)(s)){var r,c=o?"-":"-"+t+"-",p=b(o,t,s.size);l.push(Object(d.mapToCssModules)(u()(((r={})[p]=s.size||""===s.size,r["order"+c+s.order]=s.order||0===s.order,r["offset"+c+s.offset]=s.offset||0===s.offset,r)),a))}else{var f=b(o,t,s);l.push(f)}}})),l.length||l.push("col");var p=Object(d.mapToCssModules)(u()(t,l),a);return r.a.createElement(c,Object(n.a)({},i,{className:p}))};h.propTypes=m,h.defaultProps=g,t.a=h},452:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p={tag:d.tagPropType,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},f=function(e){var t=e.className,a=e.cssModule,o=e.color,c=e.body,i=e.inverse,l=e.outline,p=e.tag,f=e.innerRef,m=Object(s.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),g=Object(d.mapToCssModules)(u()(t,"card",!!i&&"text-white",!!c&&"card-body",!!o&&(l?"border":"bg")+"-"+o),a);return r.a.createElement(p,Object(n.a)({},m,{className:g,ref:f}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},463:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p=i.a.oneOfType([i.a.number,i.a.string]),f=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:p,order:p,offset:p})]),m={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,xs:f,sm:f,md:f,lg:f,xl:f,widths:i.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},b=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},h=function(e){var t=e.className,a=e.cssModule,o=e.hidden,c=e.widths,i=e.tag,l=e.check,p=e.size,f=e.for,m=Object(s.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];c.forEach((function(t,n){var s=e[t];if(delete m[t],s||""===s){var o,r=!n;if(Object(d.isObject)(s)){var c,i=r?"-":"-"+t+"-";o=b(r,t,s.size),g.push(Object(d.mapToCssModules)(u()(((c={})[o]=s.size||""===s.size,c["order"+i+s.order]=s.order||0===s.order,c["offset"+i+s.offset]=s.offset||0===s.offset,c))),a)}else o=b(r,t,s),g.push(o)}}));var h=Object(d.mapToCssModules)(u()(t,!!o&&"sr-only",!!l&&"form-check-label",!!p&&"col-form-label-"+p,g,!!g.length&&"col-form-label"),a);return r.a.createElement(i,Object(n.a)({htmlFor:f},m,{className:h}))};h.propTypes=m,h.defaultProps=g,t.a=h},465:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(106),r=a(105),c=a(0),i=a.n(c),l=a(4),u=a.n(l),d=a(52),p=a.n(d),f=a(74),m={children:u.a.node,inline:u.a.bool,tag:f.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},g=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(o.a)(a)),a.submit=a.submit.bind(Object(o.a)(a)),a}Object(r.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,o=e.inline,r=e.tag,c=e.innerRef,l=Object(s.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(f.mapToCssModules)(p()(t,!!o&&"form-inline"),a);return i.a.createElement(r,Object(n.a)({},l,{ref:c,className:u}))},t}(c.Component);g.propTypes=m,g.defaultProps={tag:"form"},t.a=g},467:function(e,t,a){"use strict";var n=a(13),s=a(18),o=a(0),r=a.n(o),c=a(4),i=a.n(c),l=a(52),u=a.n(l),d=a(74),p={tag:d.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},f=function(e){var t=e.className,a=e.cssModule,o=e.type,c=e.size,i=e.color,l=e.children,p=e.tag,f=Object(s.a)(e,["className","cssModule","type","size","color","children","tag"]),m=Object(d.mapToCssModules)(u()(t,!!c&&"spinner-"+o+"-"+c,"spinner-"+o,!!i&&"text-"+i),a);return r.a.createElement(p,Object(n.a)({role:"status"},f,{className:m}),l&&r.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",a)},l))};f.propTypes=p,f.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=f}}]);
//# sourceMappingURL=213.c9027ea8.chunk.js.map