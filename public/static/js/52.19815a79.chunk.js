(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[52],{1249:function(e,s,a){"use strict";var t=a(0),r=a(1657),o=a(463),c=a.p+"static/media/checkmark.869b116e.svg",n=a.p+"static/media/error.f16c6683.svg",l=a(5);s.a=e=>{let{password:s,passConfig:a,setIsValid:i}=e;const{is_special_charecter:d=!0,islowercase:u=!0,isnumber:p=!0,isuppercase:b=!0,length:j=8}=a,h=[];return s.length>=j&&h.push(0),b&&!Boolean(s.match(/[A-Z]/))||h.push(1),u&&!Boolean(s.match(/[a-z]/))||h.push(2),p&&!Boolean(s.match(/[0-9]/))||h.push(3),d&&!Boolean(s.match(/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/))||h.push(4),Object(t.useEffect)((()=>{i(5===h.length||!1)}),[h]),Object(l.jsx)(t.Fragment,{children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)("div",{className:"d-flex justify-content-between",children:Object(l.jsxs)(o.a,{className:"form-label",style:{color:h.includes(0)?"#4CAF50":"#fb606a"},children:[Object(l.jsx)("img",{src:h.includes(0)?c:n,height:14,width:14})," Must be minimum ",j," characters"]})}),b?Object(l.jsx)("div",{className:"d-flex justify-content-between",children:Object(l.jsxs)(o.a,{className:"form-label",style:{color:h.includes(1)?"#4CAF50":"#fb606a"},children:[Object(l.jsx)("img",{src:h.includes(1)?c:n,height:14,width:14})," Uppercase characters (A-Z)"]})}):null,u?Object(l.jsx)("div",{className:"d-flex justify-content-between",children:Object(l.jsxs)(o.a,{className:"form-label",style:{color:h.includes(2)?"#4CAF50":"#fb606a"},children:[Object(l.jsx)("img",{src:h.includes(2)?c:n,height:14,width:14})," Lowercase characters (a-z)"]})}):null,p?Object(l.jsx)("div",{className:"d-flex justify-content-between",children:Object(l.jsxs)(o.a,{className:"form-label",style:{color:h.includes(3)?"#4CAF50":"#fb606a"},children:[Object(l.jsx)("img",{src:h.includes(3)?c:n,height:14,width:14})," Must contain number (0-9)"]})}):null,d?Object(l.jsx)("div",{className:"d-flex justify-content-between",children:Object(l.jsxs)(o.a,{className:"form-label",style:{color:h.includes(4)?"#4CAF50":"#fb606a"},children:[Object(l.jsx)("img",{src:h.includes(4)?c:n,height:14,width:14})," Must contain special character"]})}):null]})})}},2368:function(e,s,a){"use strict";a.r(s);var t=a(442),r=a(0),o=a(108),c=a(109),n=a(814),l=a(1720),i=a(711),d=a(440),u=a(432),p=a(452),b=a(449),j=a(465),h=a(451),m=a(1657),g=a(463),f=a(1680),O=a(467),x=a(437),w=a(577),y=a(1249),v=a(5);s.default=()=>{var e,s;const a=Object(r.useContext)(c.a),N=Object(o.b)(),C=localStorage.getItem("username"),P=Object(i.h)(),T=Object(i.g)(),[M,k]=Object(r.useState)({}),[R,S]=Object(r.useState)(!1),[z,I]=Object(r.useState)(!0),[B,E]=Object(r.useState)(!1),[F,A]=Object(r.useState)({newpassword:"",conpassword:"",oldpassword:""}),[H,L]=Object(r.useState)({oldPass:"",newPass:"",conNewPass:""});Object(r.useEffect)((()=>{localStorage.setItem("useBMStoken",!1),localStorage.setItem("usePMStoken",!1),t.a.getPasswordConfig().then((e=>{console.log("getPasswordConfig",e),k(e.data.payload)})).catch((e=>{Object(x.a)(e),console.log(e)}))}),[]);const _=e=>{A({...F,[e.target.name]:e.target.value})};return Object(v.jsxs)(v.Fragment,{children:["/resetPassInside"===P.pathname&&Object(v.jsx)(u.a.Ripple,{className:"mb-1",color:"primary",tag:d.b,onClick:()=>T.goBack(),children:Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)(l.a,{size:17,style:{marginRight:"5px"}}),Object(v.jsx)("span",{children:"Back"})]})}),Object(v.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(v.jsxs)("div",{style:"/resetPassInside"===P.pathname?{marginTop:"10px"}:{marginTop:"100px"},children:[Object(v.jsx)("h4",{className:"text-center mb-2",children:"Reset Password"}),Object(v.jsxs)("div",{style:{padding:"10px 20px",color:"white",backgroundColor:"#f0ad4e"},children:[Object(v.jsx)("strong",{children:"Warning!"})," Your password is expired. Please reset it."]}),Object(v.jsx)(p.a,{children:Object(v.jsx)(b.a,{children:Object(v.jsxs)(j.a,{className:"row",style:{width:"100%"},onSubmit:e=>{if(e.preventDefault(),localStorage.setItem("useBMStoken",!1),localStorage.setItem("usePMStoken",!1),L({}),!B)return 0;if(F.newpassword!==F.conpassword)return L({...H,conNewPass:" must be same as new password."}),0;const{newpassword:s,oldpassword:r}=F;console.log({newpassword:s,oldpassword:r}),S(!0),t.a.changepassword({newpassword:s,oldpassword:r}).then((e=>{console.log(e),t.a.login({username:C,password:s}).then((async s=>{const t={...s.data.payload.user_info,fullname:"",avatar:"https://i.imgur.com/P4b2RHh.png",accessToken:s.data.payload.token,refreshToken:s.data.payload.refresh_token,extras:{eCommerceCartItemsCount:5},role:"admin",ability:[{action:"manage",subject:"ADMIN"},{action:"manage",subject:"Auth"}]};N(Object(n.a)(t)),a.update(t.ability),localStorage.setItem("username",C),Object(x.c)(e),"/resetPassInside"!==P.pathname&&(window.location.href=localStorage.getItem("link")),S(!1)})).catch((e=>{S(!1),Object(x.a)(e),console.log(e)}))})).catch((e=>{S(!1),Object(x.a)(e),console.log(e.response)}))},autoComplete:"off",children:[Object(v.jsx)(h.a,{sm:"12",children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(g.a,{for:"oldpassword",children:["Old Password",Object(v.jsxs)("span",{style:{color:"red"},children:["* ",H.oldPass]})]}),Object(v.jsx)(f.a,{type:"text",name:"oldpassword",id:"oldpassword",onChange:_,required:!0,placeholder:"type here..."})]})}),Object(v.jsxs)(h.a,{sm:"12",children:[Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(g.a,{for:"newpassword",children:["New Password",Object(v.jsxs)("span",{style:{color:"red"},children:["* ",H.newPass]})]}),Object(v.jsx)(w.a,{id:"newpassword",name:"newpassword",minLength:null===M||void 0===M||null===(e=M.length)||void 0===e?void 0:e.toString(),className:"input-group-merge",required:!0,onChange:_})]}),F.newpassword?Object(v.jsx)(y.a,{password:F.newpassword,setIsValid:E,passConfig:M}):null]}),Object(v.jsx)(h.a,{sm:"12",children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(g.a,{for:"conpassword",children:["Retype New Password",Object(v.jsxs)("span",{style:{color:"red"},children:["* ",H.conNewPass]})]}),Object(v.jsx)(w.a,{id:"conpassword",name:"conpassword",minLength:null===M||void 0===M||null===(s=M.length)||void 0===s?void 0:s.toString(),className:"input-group-merge",required:!0,onChange:_})]})}),Object(v.jsx)(h.a,{sm:"12",className:"text-center",children:R?Object(v.jsxs)(u.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(v.jsx)(O.a,{color:"white",size:"sm"}),Object(v.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(v.jsx)(u.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(v.jsx)("span",{children:"Reset Password"})})})]})})})]})})]})}},437:function(e,s,a){"use strict";a.d(s,"a",(function(){return r})),a.d(s,"b",(function(){return o})),a.d(s,"c",(function(){return c}));a(0);var t=a(107);const r=e=>{try{const s=e.response;404===s.status||401===s.status||400===s.status||500===s.status||409===s.status?t.f.error(s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):t.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(s){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=e=>{try{const s=e.response;404!==s.status&&401!==s.status&&400!==s.status||t.f.error(s.data.errors?s.data.errors[Object.keys(s.data.errors)[0]]:s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(s){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=e=>{const s=e.data.message||"success";t.f.success(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},449:function(e,s,a){"use strict";var t=a(13),r=a(18),o=a(0),c=a.n(o),n=a(4),l=a.n(n),i=a(52),d=a.n(i),u=a(74),p={tag:u.tagPropType,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},b=function(e){var s=e.className,a=e.cssModule,o=e.innerRef,n=e.tag,l=Object(r.a)(e,["className","cssModule","innerRef","tag"]),i=Object(u.mapToCssModules)(d()(s,"card-body"),a);return c.a.createElement(n,Object(t.a)({},l,{className:i,ref:o}))};b.propTypes=p,b.defaultProps={tag:"div"},s.a=b},451:function(e,s,a){"use strict";var t=a(13),r=a(18),o=a(0),c=a.n(o),n=a(4),l=a.n(n),i=a(52),d=a.n(i),u=a(74),p=l.a.oneOfType([l.a.number,l.a.string]),b=l.a.oneOfType([l.a.bool,l.a.number,l.a.string,l.a.shape({size:l.a.oneOfType([l.a.bool,l.a.number,l.a.string]),order:p,offset:p})]),j={tag:u.tagPropType,xs:b,sm:b,md:b,lg:b,xl:b,className:l.a.string,cssModule:l.a.object,widths:l.a.array},h={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e,s,a){return!0===a||""===a?e?"col":"col-"+s:"auto"===a?e?"col-auto":"col-"+s+"-auto":e?"col-"+a:"col-"+s+"-"+a},g=function(e){var s=e.className,a=e.cssModule,o=e.widths,n=e.tag,l=Object(r.a)(e,["className","cssModule","widths","tag"]),i=[];o.forEach((function(s,t){var r=e[s];if(delete l[s],r||""===r){var o=!t;if(Object(u.isObject)(r)){var c,n=o?"-":"-"+s+"-",p=m(o,s,r.size);i.push(Object(u.mapToCssModules)(d()(((c={})[p]=r.size||""===r.size,c["order"+n+r.order]=r.order||0===r.order,c["offset"+n+r.offset]=r.offset||0===r.offset,c)),a))}else{var b=m(o,s,r);i.push(b)}}})),i.length||i.push("col");var p=Object(u.mapToCssModules)(d()(s,i),a);return c.a.createElement(n,Object(t.a)({},l,{className:p}))};g.propTypes=j,g.defaultProps=h,s.a=g},452:function(e,s,a){"use strict";var t=a(13),r=a(18),o=a(0),c=a.n(o),n=a(4),l=a.n(n),i=a(52),d=a.n(i),u=a(74),p={tag:u.tagPropType,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},b=function(e){var s=e.className,a=e.cssModule,o=e.color,n=e.body,l=e.inverse,i=e.outline,p=e.tag,b=e.innerRef,j=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),h=Object(u.mapToCssModules)(d()(s,"card",!!l&&"text-white",!!n&&"card-body",!!o&&(i?"border":"bg")+"-"+o),a);return c.a.createElement(p,Object(t.a)({},j,{className:h,ref:b}))};b.propTypes=p,b.defaultProps={tag:"div"},s.a=b},463:function(e,s,a){"use strict";var t=a(13),r=a(18),o=a(0),c=a.n(o),n=a(4),l=a.n(n),i=a(52),d=a.n(i),u=a(74),p=l.a.oneOfType([l.a.number,l.a.string]),b=l.a.oneOfType([l.a.bool,l.a.string,l.a.number,l.a.shape({size:p,order:p,offset:p})]),j={children:l.a.node,hidden:l.a.bool,check:l.a.bool,size:l.a.string,for:l.a.string,tag:u.tagPropType,className:l.a.string,cssModule:l.a.object,xs:b,sm:b,md:b,lg:b,xl:b,widths:l.a.array},h={tag:"label",widths:["xs","sm","md","lg","xl"]},m=function(e,s,a){return!0===a||""===a?e?"col":"col-"+s:"auto"===a?e?"col-auto":"col-"+s+"-auto":e?"col-"+a:"col-"+s+"-"+a},g=function(e){var s=e.className,a=e.cssModule,o=e.hidden,n=e.widths,l=e.tag,i=e.check,p=e.size,b=e.for,j=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),h=[];n.forEach((function(s,t){var r=e[s];if(delete j[s],r||""===r){var o,c=!t;if(Object(u.isObject)(r)){var n,l=c?"-":"-"+s+"-";o=m(c,s,r.size),h.push(Object(u.mapToCssModules)(d()(((n={})[o]=r.size||""===r.size,n["order"+l+r.order]=r.order||0===r.order,n["offset"+l+r.offset]=r.offset||0===r.offset,n))),a)}else o=m(c,s,r),h.push(o)}}));var g=Object(u.mapToCssModules)(d()(s,!!o&&"sr-only",!!i&&"form-check-label",!!p&&"col-form-label-"+p,h,!!h.length&&"col-form-label"),a);return c.a.createElement(l,Object(t.a)({htmlFor:b},j,{className:g}))};g.propTypes=j,g.defaultProps=h,s.a=g},465:function(e,s,a){"use strict";var t=a(13),r=a(18),o=a(106),c=a(105),n=a(0),l=a.n(n),i=a(4),d=a.n(i),u=a(52),p=a.n(u),b=a(74),j={children:d.a.node,inline:d.a.bool,tag:b.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},h=function(e){function s(s){var a;return(a=e.call(this,s)||this).getRef=a.getRef.bind(Object(o.a)(a)),a.submit=a.submit.bind(Object(o.a)(a)),a}Object(c.a)(s,e);var a=s.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,s=e.className,a=e.cssModule,o=e.inline,c=e.tag,n=e.innerRef,i=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(b.mapToCssModules)(p()(s,!!o&&"form-inline"),a);return l.a.createElement(c,Object(t.a)({},i,{ref:n,className:d}))},s}(n.Component);h.propTypes=j,h.defaultProps={tag:"form"},s.a=h},467:function(e,s,a){"use strict";var t=a(13),r=a(18),o=a(0),c=a.n(o),n=a(4),l=a.n(n),i=a(52),d=a.n(i),u=a(74),p={tag:u.tagPropType,type:l.a.string,size:l.a.string,color:l.a.string,className:l.a.string,cssModule:l.a.object,children:l.a.string},b=function(e){var s=e.className,a=e.cssModule,o=e.type,n=e.size,l=e.color,i=e.children,p=e.tag,b=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),j=Object(u.mapToCssModules)(d()(s,!!n&&"spinner-"+o+"-"+n,"spinner-"+o,!!l&&"text-"+l),a);return c.a.createElement(p,Object(t.a)({role:"status"},b,{className:j}),i&&c.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",a)},i))};b.propTypes=p,b.defaultProps={tag:"div",type:"border",children:"Loading..."},s.a=b},577:function(e,s,a){"use strict";var t=a(0),r=a(52),o=a.n(r),c=a(1750),n=a(1749),l=a(463),i=a(1678),d=a(1680),u=a(1679),p=a(1319),b=a(5);const j=e=>{const{label:s,hideIcon:a,showIcon:r,visible:j,className:h,htmlFor:m,placeholder:g,iconSize:f,inputClassName:O,...x}=e,[w,y]=Object(t.useState)(j);return Object(b.jsxs)(t.Fragment,{children:[s?Object(b.jsx)(l.a,{for:m,children:s}):null,Object(b.jsxs)(i.a,{className:o()({[h]:h}),children:[Object(b.jsx)(d.a,{type:!1===w?"password":"text",placeholder:g||"\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7\xb7",className:o()({[O]:O}),...s&&m?{id:m}:{},...x}),Object(b.jsx)(u.a,{addonType:"append",onClick:()=>y(!w),children:Object(b.jsx)(p.a,{className:"cursor-pointer",children:(()=>{const e=f||14;return!1===w?a||Object(b.jsx)(c.a,{size:e}):r||Object(b.jsx)(n.a,{size:e})})()})})]})]})};s.a=j,j.defaultProps={visible:!1}}}]);
//# sourceMappingURL=52.19815a79.chunk.js.map