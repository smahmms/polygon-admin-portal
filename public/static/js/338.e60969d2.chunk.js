(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[338],{2472:function(e,a,s){"use strict";s.r(a);var t=s(0),r=(s(75),s(1720)),o=s(1682),c=s(432),i=s(452),l=s(446),n=s(445),p=s(449),d=s(465),u=s(451),m=s(1657),j=s(463),g=s(1680),h=s(467),b=s(442),O=s(437),f=s(440),x=s(461),y=s(448),v=(s(670),s(5));a.default=()=>{const[e,a]=Object(t.useState)(!1),[s,C]=Object(t.useState)({}),[N,_]=Object(t.useState)(null),[P,T]=Object(t.useState)(null),[k,w]=Object(t.useState)({complain_title:"",complain_description:"",complain_priority:"",image_url:"",category:""}),M=e=>{w({...k,[e.target.name]:e.target.value})};return Object(v.jsxs)(t.Fragment,{children:[Object(v.jsx)(c.a.Ripple,{className:"mb-1",color:"primary",tag:f.b,to:"/complainList",children:Object(v.jsxs)("div",{className:"d-flex align-items-center",children:[Object(v.jsx)(r.a,{size:17,style:{marginRight:"5px"}}),Object(v.jsx)("span",{children:"Back"})]})}),Object(v.jsxs)(i.a,{children:[Object(v.jsx)(l.a,{className:"border-bottom",children:Object(v.jsx)(n.a,{tag:"h4",children:"Create Complain"})}),Object(v.jsx)(p.a,{style:{paddingTop:"15px"},children:Object(v.jsxs)(d.a,{className:"row",style:{width:"100%"},onSubmit:async e=>{e.preventDefault(),a(!0);let{image_url:s}=k;const t=new FormData;t.append("image",N),await b.a.singleFileupload(t).then((e=>{console.log(e),s=e.data.payload})).catch((e=>{console.log(e.response),Object(O.a)(e)})),b.a.createComplain({...k,image_url:s}).then((e=>{a(!1),console.log(e),Object(O.c)(e)})).catch((e=>{Object(O.a)(e),a(!1),console.log(e)}))},autoComplete:"off",children:[Object(v.jsx)(u.a,{sm:"4",children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(j.a,{for:"ruleProvider",children:["Complain Category",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(x.a,{theme:y.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",value:{value:k.category,label:k.category?k.category:"select a category"},onChange:e=>{w({...k,category:e.value})},options:[{value:"category_1",label:"category_1"},{value:"category_2",label:"category_2"}]})]})}),Object(v.jsx)(u.a,{sm:"4",children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(j.a,{for:"ruleProvider",children:["Priority",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(x.a,{theme:y.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",value:{value:k.complain_priority,label:k.complain_priority?k.complain_priority:"select a priority"},onChange:e=>{w({...k,complain_priority:e.value})},options:[{value:"major",label:"major"},{value:"high",label:"high"},{value:"general",label:"general"}]})]})}),Object(v.jsx)(u.a,{sm:"4",children:"  "}),Object(v.jsx)(u.a,{sm:"4",children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(j.a,{for:"complain_title",children:["Complain Title",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(g.a,{type:"text",name:"complain_title",id:"complain_title",value:k.complain_title,onChange:M,required:!0,placeholder:"your title..."})]})}),Object(v.jsx)(u.a,{sm:"12",children:Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(j.a,{for:"complain_description",children:["Complain Description",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)(g.a,{type:"textarea",name:"complain_description",id:"complain_description",value:k.complain_description,onChange:M,required:!0,placeholder:"description here..."})]})}),Object(v.jsxs)(u.a,{md:"12",children:[Object(v.jsx)(j.a,{for:"voucherImage",children:"Complain Image"}),Object(v.jsxs)("div",{className:"d-flex",children:[P&&Object(v.jsx)("img",{src:P,alt:"voucher img",height:"100px",className:"mr-2"}),Object(v.jsxs)("div",{className:"file position-relative overflow-hidden",children:[Object(v.jsxs)("div",{className:"text-center p-1",style:{height:"102px",width:"102px",border:"1px dashed #d9d9d9",backgroundColor:"#fafafa"},children:[Object(v.jsx)("span",{children:Object(v.jsx)(o.a,{size:20,className:"my-1"})})," ",Object(v.jsx)("br",{}),Object(v.jsx)("span",{children:"Upload"})]}),Object(v.jsx)(g.a,{style:{position:"absolute",opacity:"0",left:"0",top:"0",height:"102px",width:"102px",cursor:"pointer"},type:"file",accept:"image/png, image/jpeg",required:!0,name:"voucherImage",id:"voucherImage",onChange:e=>{0!==e.target.files.length&&T(URL.createObjectURL(e.target.files[0])),_(e.target.files[0])}})]})]})]}),Object(v.jsx)(u.a,{sm:"12",className:"text-center",children:e?Object(v.jsxs)(c.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(v.jsx)(h.a,{color:"white",size:"sm"}),Object(v.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(v.jsx)(c.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(v.jsx)("span",{children:"Submit"})})})]})})]})]})}},437:function(e,a,s){"use strict";s.d(a,"a",(function(){return r})),s.d(a,"b",(function(){return o})),s.d(a,"c",(function(){return c}));s(0);var t=s(107);const r=e=>{try{const a=e.response;404===a.status||401===a.status||400===a.status||500===a.status||409===a.status?t.f.error(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):t.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=e=>{try{const a=e.response;404!==a.status&&401!==a.status&&400!==a.status||t.f.error(a.data.errors?a.data.errors[Object.keys(a.data.errors)[0]]:a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=e=>{const a=e.data.message||"success";t.f.success(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},463:function(e,a,s){"use strict";var t=s(13),r=s(18),o=s(0),c=s.n(o),i=s(4),l=s.n(i),n=s(52),p=s.n(n),d=s(74),u=l.a.oneOfType([l.a.number,l.a.string]),m=l.a.oneOfType([l.a.bool,l.a.string,l.a.number,l.a.shape({size:u,order:u,offset:u})]),j={children:l.a.node,hidden:l.a.bool,check:l.a.bool,size:l.a.string,for:l.a.string,tag:d.tagPropType,className:l.a.string,cssModule:l.a.object,xs:m,sm:m,md:m,lg:m,xl:m,widths:l.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,a,s){return!0===s||""===s?e?"col":"col-"+a:"auto"===s?e?"col-auto":"col-"+a+"-auto":e?"col-"+s:"col-"+a+"-"+s},b=function(e){var a=e.className,s=e.cssModule,o=e.hidden,i=e.widths,l=e.tag,n=e.check,u=e.size,m=e.for,j=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];i.forEach((function(a,t){var r=e[a];if(delete j[a],r||""===r){var o,c=!t;if(Object(d.isObject)(r)){var i,l=c?"-":"-"+a+"-";o=h(c,a,r.size),g.push(Object(d.mapToCssModules)(p()(((i={})[o]=r.size||""===r.size,i["order"+l+r.order]=r.order||0===r.order,i["offset"+l+r.offset]=r.offset||0===r.offset,i))),s)}else o=h(c,a,r),g.push(o)}}));var b=Object(d.mapToCssModules)(p()(a,!!o&&"sr-only",!!n&&"form-check-label",!!u&&"col-form-label-"+u,g,!!g.length&&"col-form-label"),s);return c.a.createElement(l,Object(t.a)({htmlFor:m},j,{className:b}))};b.propTypes=j,b.defaultProps=g,a.a=b},465:function(e,a,s){"use strict";var t=s(13),r=s(18),o=s(106),c=s(105),i=s(0),l=s.n(i),n=s(4),p=s.n(n),d=s(52),u=s.n(d),m=s(74),j={children:p.a.node,inline:p.a.bool,tag:m.tagPropType,innerRef:p.a.oneOfType([p.a.object,p.a.func,p.a.string]),className:p.a.string,cssModule:p.a.object},g=function(e){function a(a){var s;return(s=e.call(this,a)||this).getRef=s.getRef.bind(Object(o.a)(s)),s.submit=s.submit.bind(Object(o.a)(s)),s}Object(c.a)(a,e);var s=a.prototype;return s.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},s.submit=function(){this.ref&&this.ref.submit()},s.render=function(){var e=this.props,a=e.className,s=e.cssModule,o=e.inline,c=e.tag,i=e.innerRef,n=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),p=Object(m.mapToCssModules)(u()(a,!!o&&"form-inline"),s);return l.a.createElement(c,Object(t.a)({},n,{ref:i,className:p}))},a}(i.Component);g.propTypes=j,g.defaultProps={tag:"form"},a.a=g},467:function(e,a,s){"use strict";var t=s(13),r=s(18),o=s(0),c=s.n(o),i=s(4),l=s.n(i),n=s(52),p=s.n(n),d=s(74),u={tag:d.tagPropType,type:l.a.string,size:l.a.string,color:l.a.string,className:l.a.string,cssModule:l.a.object,children:l.a.string},m=function(e){var a=e.className,s=e.cssModule,o=e.type,i=e.size,l=e.color,n=e.children,u=e.tag,m=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),j=Object(d.mapToCssModules)(p()(a,!!i&&"spinner-"+o+"-"+i,"spinner-"+o,!!l&&"text-"+l),s);return c.a.createElement(u,Object(t.a)({role:"status"},m,{className:j}),n&&c.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",s)},n))};m.propTypes=u,m.defaultProps={tag:"div",type:"border",children:"Loading..."},a.a=m}}]);
//# sourceMappingURL=338.e60969d2.chunk.js.map