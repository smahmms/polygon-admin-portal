{"version":3,"sources":["views/pages/authentication/AdminLogin.js","views/viewhelper.js","../node_modules/reactstrap/es/CardTitle.js","../node_modules/reactstrap/es/Row.js","../node_modules/reactstrap/es/Col.js","../node_modules/reactstrap/es/Spinner.js","../node_modules/reactstrap/es/CardText.js","@core/components/input-password-toggle/index.js","@core/auth/jwt/jwtServiceBMS.js","auth/jwt/useJwtBMS.js","@core/auth/jwt/useJwtBMS.js"],"names":["AdminLogin","skin","setSkin","useSkin","ability","useContext","AbilityContext","dispatch","useDispatch","email","setEmail","useHistory","useState","password","setPassword","loading","setloading","servererrors","seterrors","register","errors","handleSubmit","useForm","previousLocation","localStorage","getItem","previousRole","illustration","source","require","concat","default","useEffect","async","clear","_jsx","className","children","_jsxs","Row","Link","to","onClick","e","preventDefault","width","src","pmsImg","Col","lg","sm","alt","md","CardTitle","tag","CardText","Form","onSubmit","data","isObjEmpty","useJwt","login","username","then","_nav$find","_nav$find2","_nav$find3","_nav$find3$children$","_res$data$payload$pas","bms","adminusermenusubmenu","Promise","all","useJwtBMS","res3","catch","err","console","log","useJwt2","AdminUsersAssignedMenus","accessToken","res","payload","token","response","parseInt","user_info","roleid","fullname","avatar","refreshToken","refresh_token","extras","eCommerceCartItemsCount","role","action","subject","Error","status","message","length","setItem","JSON","stringify","link","nav","find","an","id","navLink","password_added_at_before","passwordconfig","expire_date_length","handleLogin","update","window","location","href","autoComplete","FormGroup","Label","for","Input","autoFocus","type","name","placeholder","onChange","target","value","classnames","innerRef","required","validate","InputPasswordToggle","style","color","Button","Ripple","block","disabled","Spinner","size","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ErrorMessage","Object","keys","Success","success","propTypes","tagPropType","PropTypes","string","cssModule","object","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","defaultProps","rowColsPropType","oneOfType","number","noGutters","bool","form","xs","xl","widths","colClasses","forEach","colWidth","i","colSize","isXs","push","stringOrNumberProp","columnProps","shape","order","offset","array","getColumnSizeClass","columnProp","isObject","_classNames","colSizeInterfix","colClass","_colClass","label","hideIcon","showIcon","visible","htmlFor","iconSize","inputClassName","rest","inputVisibility","setInputVisibility","Fragment","InputGroup","InputGroupAddon","addonType","InputGroupText","renderIcon","Eye","EyeOff","instanceBMS","axios","create","JwtServiceBMS","constructor","jwtOverrideConfig","jwtConfig","jwtDefaultConfig","isAlreadyFetchingAccessToken","subscribers","this","interceptors","request","use","config","BMSToken","getToken","headers","Authorization","tokenType","reject","originalRequest","replace","r","setToken","jwtToken","onAccessTokenFetched","resolve","addSubscriber","filter","callback","post","getBMStoken","BMS_USER","BMS_PASS","bmsDashboard","get","bmsDashboardEndpoint","getServiceList","serviceListEndpoint","campaignList","campaignEndpoint","jwtBMS"],"mappings":"iHAAA,8RAuOeA,UAhNIA,KACjB,MAAOC,EAAMC,GAAWC,cAClBC,EAAUC,qBAAWC,KACrBC,EAAWC,eAEVC,EAAOC,IADEC,cACUC,mBAAS,MAC5BC,EAAUC,GAAeF,mBAAS,KAClCG,EAASC,GAAcJ,oBAAS,IAChCK,EAAcC,GAAaN,mBAAS,CAAC,IACtC,SAAEO,EAAQ,OAAEC,EAAM,aAAEC,GAAiBC,cAOrCC,EAAmBC,aAAaC,QAAQ,qBAAuB,KAC/DC,EAAeF,aAAaC,QAAQ,iBAAmB,KAEvDE,EAAwB,SAAT1B,EAAkB,oBAAsB,eAC3D2B,EAASC,OAAQ,KAADC,OAA6BH,IAAgBI,QAE/DC,qBAAUC,UAERT,aAAaU,OAAO,GAEnB,IAmGH,OACEC,cAAA,OAAKC,UAAU,uBAAsBC,SACnCC,eAACC,IAAG,CAACH,UAAU,iBAAgBC,SAAA,CAC7BF,cAACK,IAAI,CAACJ,UAAU,aAAaK,GAAG,IAAIC,QAASC,GAAKA,EAAEC,iBAAiBP,SAEnEF,cAAA,OAAKU,MAAM,OAAOC,IAAKC,QAIzBZ,cAACa,IAAG,CAACZ,UAAU,0CAA0Ca,GAAG,IAAIC,GAAG,KAAIb,SACrEF,cAAA,OAAKC,UAAU,iEAAgEC,SAC7EF,cAAA,OAAKC,UAAU,YAAYU,IAAKlB,EAAQuB,IAAI,iBAGhDhB,cAACa,IAAG,CAACZ,UAAU,gDAAgDa,GAAG,IAAIC,GAAG,KAAIb,SAC3EC,eAACU,IAAG,CAACZ,UAAU,kBAAkBc,GAAG,IAAIE,GAAG,IAAIH,GAAG,KAAIZ,SAAA,CACpDF,cAACkB,IAAS,CAACC,IAAI,KAAKlB,UAAU,wBAAuBC,SAAC,kCAGtDF,cAACoB,IAAQ,CAACnB,UAAU,OAAMC,SAAC,2DAC3BC,eAACkB,IAAI,CAACpB,UAAU,uBAAuBqB,SAAUpC,GArH1CqC,IACf,MAAMjD,EAAQiD,EAAiB,WACzB7C,EAAW6C,EAAK,kBAClBC,YAAWvC,KACbJ,GAAW,GACX4C,IAAOC,MAAM,CAAEC,SAAUrD,EAAOI,aAAYkD,MAAK9B,UAAc,IAAD+B,EAAAC,EAAAC,EAAAC,EAAAC,EAG1D,MAAOC,EAAKC,SAA8BC,QAAQC,IAAI,CAElDC,IAAUZ,QAAQE,MAAKW,GACdA,EAAKhB,OACXiB,OAAMC,IACPC,QAAQC,IAAI,OAAQF,GACb,QAGTG,IAAQC,wBAAwB,CAACC,YAAaC,EAAIxB,KAAKyB,QAAQC,QAAQrB,MAAKsB,GACnEA,EAAS3B,KAAKyB,UACpBR,OAAMC,GAEA,OASPlB,GAHW4B,SAASJ,EAAIxB,KAAKyB,QAAQI,UAAUC,QAGxC,IACRN,EAAIxB,KAAKyB,QAAQI,UACpBE,SAAU,GACVC,OAAQ,kCACRT,YAAaC,EAAIxB,KAAKyB,QAAQC,MAC9BO,aAAcT,EAAIxB,KAAKyB,QAAQS,cAC/BC,OAAQ,CACNC,wBAAyB,GAE3BC,KAAM,QACN3F,QAAS,CACP,CACE4F,OAAQ,SACRC,QAAS,SAEX,CACED,OAAQ,SACRC,QAAS,WAKf,IAAK5B,EAGH,OAFA6B,YAAM,CAACb,SAAU,CAAEc,OAAQ,IAAKzC,KAAM,CAAE0C,QAAS,oCACjDpF,GAAW,GACJ,EACD,IAAKsD,EAAqB+B,OAGhC,OAFAH,YAAM,CAACb,SAAU,CAAEc,OAAQ,IAAKzC,KAAM,CAAE0C,QAAQ,wFAChDpF,GAAW,GACJ,EAITQ,aAAa8E,QAAQ,eAAe,GACpC9E,aAAa8E,QAAQ,WAAW,GAChC9E,aAAa8E,QAAQ,WAAYjC,EAAc,UAE/C7C,aAAa8E,QAAQ,gBAAiBC,KAAKC,UAAUlC,IAErD9C,aAAa8E,QAAQ,WAAY7F,GAEjC,MAAMgG,EAA2D,QAApDzC,EAAA0C,IAAIC,MAAKC,GAAMA,EAAGC,KAAOvC,EAAqB,GAAGuC,YAAG,IAAA7C,GAApDA,EAAsD8C,QAA8D,QAAvD7C,EAAGyC,IAAIC,MAAKC,GAAMA,EAAGC,KAAOvC,EAAqB,GAAGuC,YAAG,IAAA5C,OAAA,EAApDA,EAAsD6C,QAA8D,QAAvD5C,EAAGwC,IAAIC,MAAKC,GAAMA,EAAGC,KAAOvC,EAAqB,GAAGuC,YAAG,IAAA3C,GAAa,QAAbC,EAApDD,EAAsD7B,SAAS,UAAE,IAAA8B,OAAb,EAApDA,EAAmE2C,QAG5M5B,EAAIxB,KAAKyB,QAAQ4B,2BAA2D,QAAnC3C,EAAIc,EAAIxB,KAAKyB,QAAQ6B,sBAAc,IAAA5C,OAAA,EAA/BA,EAAiC6C,2BAE1E1G,EAAS2G,YAAYxD,UACrBtD,EAAQ+G,OAAOzD,EAAKtD,SAE1BgH,OAAOC,SAASC,KAAQ5F,KAAqB,OAAJgC,QAAI,IAAJA,OAAI,EAAJA,EAAMqC,OAAQxE,EAAoBA,EAAmBkF,IAI9FjF,aAAa8E,QAAQ,cAAepB,EAAIxB,KAAKyB,QAAQC,OACrD5D,aAAa8E,QAAQ,OAAQG,GAC7BW,OAAOC,SAASC,KAAO,aACzB,IAGD3C,OAAMC,IACL5D,GAAW,GACXkF,YAAMtB,GACNC,QAAQC,IAAI,cAAeF,EAAIS,SAAS,IAG9C,IAsBiFkC,aAAa,MAAKlF,SAAA,CACzFC,eAACkF,IAAS,CAAAnF,SAAA,CACRF,cAACsF,IAAK,CAACrF,UAAU,aAAasF,IAAI,cAAarF,SAAC,cAGhDF,cAACwF,IAAK,CACJC,WAAS,EACTC,KAAK,OAELhB,GAAG,cACHiB,KAAK,aACLC,YAAY,WACZC,SAAUrF,GAAKjC,EAASiC,EAAEsF,OAAOC,OACjC9F,UAAW+F,IAAW,CAAE,aAAc/G,EAAO,iBAC7CgH,SAAUjH,EAAS,CAAEkH,UAAU,EAAMC,SAAUJ,GAAmB,KAAVA,SAG5D5F,eAACkF,IAAS,CAAAnF,SAAA,CACRF,cAAA,OAAKC,UAAU,iCAAgCC,SAC7CF,cAACsF,IAAK,CAACrF,UAAU,aAAasF,IAAI,iBAAgBrF,SAAC,eAIrDF,cAACoG,IACC,CACA1B,GAAG,iBACHiB,KAAK,iBACLE,SAAUrF,GAAK7B,EAAY6B,EAAEsF,OAAOC,OACpC9F,UAAW+F,IAAW,oBAAqB,CAAE,aAAc/G,EAAO,oBAClEgH,SAAUjH,EAAS,CAAEkH,UAAU,EAAMC,SAAUJ,GAAmB,KAAVA,GAAgBA,EAAM7B,OAAS,MAEzFlE,cAAA,QAAMqG,MAAO,CAAEC,MAAO,OAAQpG,SAAGjB,EAAO,mBAAqB,4BAC7De,cAAA,QAAMqG,MAAO,CAAEC,MAAO,OAAQpG,SAAGpB,EAAuB,cAIxDF,EAAUuB,eAACoG,IAAOC,OAAM,CAACF,MAAM,UAAUG,OAAK,EAACC,UAAQ,EAAAxG,SAAA,CACrDF,cAAC2G,IAAO,CAACL,MAAM,QAAQM,KAAK,OAC5B5G,cAAA,QAAMC,UAAU,QAAOC,SAAC,kBACPF,cAACuG,IAAOC,OAAM,CAACd,KAAK,SAASY,MAAM,UAAUG,OAAK,EAAAvG,SAAC,YAIxEF,cAAA,qBAiBJ,C,mCCpOV,wHAGW,MAAM+D,EAAStB,IAClB,IACI,MAAMjC,EAAIiC,EAAIS,SACG,MAAb1C,EAAEwD,QAA+B,MAAbxD,EAAEwD,QAA+B,MAAbxD,EAAEwD,QAA+B,MAAbxD,EAAEwD,QAA+B,MAAbxD,EAAEwD,OAClF6C,IAAMC,MAAMtG,EAAEe,KAAK0C,QAAS,CAC5B8C,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGVT,IAAMC,MAAM,kCAAmC,CAC3CC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,GAGtB,CAAE,MAAO9G,GACLqG,IAAMC,MAAM,+BAAgC,CACxCC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,GAElB,GAISC,EAAgB9E,IACzB,IACA,MAAMjC,EAAIiC,EAAIS,SACG,MAAb1C,EAAEwD,QAA+B,MAAbxD,EAAEwD,QAA+B,MAAbxD,EAAEwD,QAC1C6C,IAAMC,MAAMtG,EAAEe,KAAKtC,OAASuB,EAAEe,KAAKtC,OAAOuI,OAAOC,KAAKjH,EAAEe,KAAKtC,QAAQ,IAAMuB,EAAEe,KAAK0C,QAAS,CAC3F8C,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,GAGd,CAAE,MAAO9G,GACLqG,IAAMC,MAAM,+BAAgC,CACxCC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,GAElB,GAESI,EAAWxE,IACpB,MAAMe,EAAUf,EAAS3B,KAAK0C,SAAW,UACzC4C,IAAMc,QAAQ1D,EAAS,CACnB8C,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,GACR,C,mCC7Ed,6EAMIM,EAAY,CACdzG,IAAK0G,cACL5H,UAAW6H,IAAUC,OACrBC,UAAWF,IAAUG,QAMnB/G,EAAY,SAAmBgH,GACjC,IAAIjI,EAAYiI,EAAMjI,UAClB+H,EAAYE,EAAMF,UAClBG,EAAMD,EAAM/G,IACZiH,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,QAE7EI,EAAUC,0BAAgBC,IAAWvI,EAAW,cAAe+H,GACnE,OAAoBS,IAAMC,cAAcP,EAAKQ,YAAS,CAAC,EAAGP,EAAY,CACpEnI,UAAWqI,IAEf,EAEApH,EAAU0G,UAAYA,EACtB1G,EAAU0H,aAjBS,CACjBzH,IAAK,OAiBQD,K,mCC7Bf,6EAOI2H,EAAkBf,IAAUgB,UAAU,CAAChB,IAAUiB,OAAQjB,IAAUC,SACnEH,EAAY,CACdzG,IAAK0G,cACLmB,UAAWlB,IAAUmB,KACrBhJ,UAAW6H,IAAUC,OACrBC,UAAWF,IAAUG,OACrBiB,KAAMpB,IAAUmB,KAChBE,GAAIN,EACJ9H,GAAI8H,EACJ5H,GAAI4H,EACJ/H,GAAI+H,EACJO,GAAIP,GAEFD,EAAe,CACjBzH,IAAK,MACLkI,OAhBiB,CAAC,KAAM,KAAM,KAAM,KAAM,OAmBxCjJ,EAAM,SAAa8H,GACrB,IAAIjI,EAAYiI,EAAMjI,UAClB+H,EAAYE,EAAMF,UAClBgB,EAAYd,EAAMc,UAClBb,EAAMD,EAAM/G,IACZ+H,EAAOhB,EAAMgB,KACbG,EAASnB,EAAMmB,OACfjB,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,YAAa,MAAO,OAAQ,WAEzGoB,EAAa,GACjBD,EAAOE,SAAQ,SAAUC,EAAUC,GACjC,IAAIC,EAAUxB,EAAMsB,GAGpB,UAFOpB,EAAWoB,GAEbE,EAAL,CAIA,IAAIC,GAAQF,EACZH,EAAWM,KAAKD,EAAO,YAAcD,EAAU,YAAcF,EAAW,IAAME,EAH9E,CAIF,IACA,IAAIpB,EAAUC,0BAAgBC,IAAWvI,EAAW+I,EAAY,aAAe,KAAME,EAAO,WAAa,MAAOI,GAAatB,GAC7H,OAAoBS,IAAMC,cAAcP,EAAKQ,YAAS,CAAC,EAAGP,EAAY,CACpEnI,UAAWqI,IAEf,EAEAlI,EAAIwH,UAAYA,EAChBxH,EAAIwI,aAAeA,EACJxI,K,mCCtDf,6EAOIyJ,EAAqB/B,IAAUgB,UAAU,CAAChB,IAAUiB,OAAQjB,IAAUC,SACtE+B,EAAchC,IAAUgB,UAAU,CAAChB,IAAUmB,KAAMnB,IAAUiB,OAAQjB,IAAUC,OAAQD,IAAUiC,MAAM,CACzGnD,KAAMkB,IAAUgB,UAAU,CAAChB,IAAUmB,KAAMnB,IAAUiB,OAAQjB,IAAUC,SACvEiC,MAAOH,EACPI,OAAQJ,MAENjC,EAAY,CACdzG,IAAK0G,cACLsB,GAAIW,EACJ/I,GAAI+I,EACJ7I,GAAI6I,EACJhJ,GAAIgJ,EACJV,GAAIU,EACJ7J,UAAW6H,IAAUC,OACrBC,UAAWF,IAAUG,OACrBoB,OAAQvB,IAAUoC,OAEhBtB,EAAe,CACjBzH,IAAK,MACLkI,OApBc,CAAC,KAAM,KAAM,KAAM,KAAM,OAuBrCc,EAAqB,SAA4BR,EAAMH,EAAUE,GACnE,OAAgB,IAAZA,GAAgC,KAAZA,EACfC,EAAO,MAAQ,OAASH,EACV,SAAZE,EACFC,EAAO,WAAa,OAASH,EAAW,QAG1CG,EAAO,OAASD,EAAU,OAASF,EAAW,IAAME,CAC7D,EAEI7I,EAAM,SAAaqH,GACrB,IAAIjI,EAAYiI,EAAMjI,UAClB+H,EAAYE,EAAMF,UAClBqB,EAASnB,EAAMmB,OACflB,EAAMD,EAAM/G,IACZiH,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,SAAU,QAEvFoB,EAAa,GACjBD,EAAOE,SAAQ,SAAUC,EAAUC,GACjC,IAAIW,EAAalC,EAAMsB,GAGvB,UAFOpB,EAAWoB,GAEbY,GAA6B,KAAfA,EAAnB,CAIA,IAAIT,GAAQF,EAEZ,GAAIY,mBAASD,GAAa,CACxB,IAAIE,EAEAC,EAAkBZ,EAAO,IAAM,IAAMH,EAAW,IAChDgB,EAAWL,EAAmBR,EAAMH,EAAUY,EAAWxD,MAC7D0C,EAAWM,KAAKrB,0BAAgBC,MAAY8B,EAAc,CAAC,GAAeE,GAAYJ,EAAWxD,MAA4B,KAApBwD,EAAWxD,KAAa0D,EAAY,QAAUC,EAAkBH,EAAWJ,OAASI,EAAWJ,OAA8B,IAArBI,EAAWJ,MAAaM,EAAY,SAAWC,EAAkBH,EAAWH,QAAUG,EAAWH,QAAgC,IAAtBG,EAAWH,OAAcK,IAAetC,GACtW,KAAO,CACL,IAAIyC,EAAYN,EAAmBR,EAAMH,EAAUY,GAEnDd,EAAWM,KAAKa,EAClB,CAdA,CAeF,IAEKnB,EAAWpF,QACdoF,EAAWM,KAAK,OAGlB,IAAItB,EAAUC,0BAAgBC,IAAWvI,EAAWqJ,GAAatB,GACjE,OAAoBS,IAAMC,cAAcP,EAAKQ,YAAS,CAAC,EAAGP,EAAY,CACpEnI,UAAWqI,IAEf,EAEAzH,EAAI+G,UAAYA,EAChB/G,EAAI+H,aAAeA,EACJ/H,K,mCClFf,6EAMI+G,EAAY,CACdzG,IAAK0G,cACLnC,KAAMoC,IAAUC,OAChBnB,KAAMkB,IAAUC,OAChBzB,MAAOwB,IAAUC,OACjB9H,UAAW6H,IAAUC,OACrBC,UAAWF,IAAUG,OACrB/H,SAAU4H,IAAUC,QAQlBpB,EAAU,SAAiBuB,GAC7B,IAAIjI,EAAYiI,EAAMjI,UAClB+H,EAAYE,EAAMF,UAClBtC,EAAOwC,EAAMxC,KACbkB,EAAOsB,EAAMtB,KACbN,EAAQ4B,EAAM5B,MACdpG,EAAWgI,EAAMhI,SACjBiI,EAAMD,EAAM/G,IACZiH,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,OAAQ,OAAQ,QAAS,WAAY,QAElHI,EAAUC,0BAAgBC,IAAWvI,IAAW2G,GAAO,WAAalB,EAAO,IAAMkB,EAAc,WAAalB,IAAMY,GAAQ,QAAUA,GAAgB0B,GACxJ,OAAoBS,IAAMC,cAAcP,EAAKQ,YAAS,CACpD/E,KAAM,UACLwE,EAAY,CACbnI,UAAWqI,IACTpI,GAAyBuI,IAAMC,cAAc,OAAQ,CACvDzI,UAAWsI,0BAAgB,UAAWP,IACrC9H,GACL,EAEAyG,EAAQiB,UAAYA,EACpBjB,EAAQiC,aA3BW,CACjBzH,IAAK,MACLuE,KAAM,SACNxF,SAAU,cAyBGyG,K,mCC3Cf,6EAMIiB,EAAY,CACdzG,IAAK0G,cACL5H,UAAW6H,IAAUC,OACrBC,UAAWF,IAAUG,QAMnB7G,EAAW,SAAkB8G,GAC/B,IAAIjI,EAAYiI,EAAMjI,UAClB+H,EAAYE,EAAMF,UAClBG,EAAMD,EAAM/G,IACZiH,EAAaC,YAA8BH,EAAO,CAAC,YAAa,YAAa,QAE7EI,EAAUC,0BAAgBC,IAAWvI,EAAW,aAAc+H,GAClE,OAAoBS,IAAMC,cAAcP,EAAKQ,YAAS,CAAC,EAAGP,EAAY,CACpEnI,UAAWqI,IAEf,EAEAlH,EAASwG,UAAYA,EACrBxG,EAASwH,aAjBU,CACjBzH,IAAK,KAiBQC,K,mCC7Bf,wGASA,MAAMgF,EAAsB8B,IAE1B,MAAM,MACJwC,EAAK,SACLC,EAAQ,SACRC,EAAQ,QACRC,EAAO,UACP5K,EAAS,QACT6K,EAAO,YACPlF,EAAW,SACXmF,EAAQ,eACRC,KACGC,GACD/C,GAGGgD,EAAiBC,GAAsB1M,mBAASoM,GAavD,OACE1K,eAACiL,WAAQ,CAAAlL,SAAA,CACNwK,EAAQ1K,cAACsF,IAAK,CAACC,IAAKuF,EAAQ5K,SAAEwK,IAAiB,KAChDvK,eAACkL,IAAU,CACTpL,UAAW+F,IAAW,CACpB,CAAC/F,GAAYA,IACZC,SAAA,CAEHF,cAACwF,IAAK,CACJE,MAA0B,IAApBwF,EAA4B,WAAa,OAC/CtF,YAAaA,GAA4B,mDACzC3F,UAAW+F,IAAW,CACpB,CAACgF,GAAiBA,OAGfN,GAASI,EACV,CACEpG,GAAIoG,GAEN,CAAC,KACDG,IAGNjL,cAACsL,IAAe,CAACC,UAAU,SAAShL,QAASA,IAAM4K,GAAoBD,GAAiBhL,SACtFF,cAACwL,IAAc,CAACvL,UAAU,iBAAgBC,SAlC/BuL,MACjB,MAAM7E,EAAOmE,GAAsB,GAEnC,OAAwB,IAApBG,EACKP,GAAsB3K,cAAC0L,IAAG,CAAC9E,KAAMA,IAEjCgE,GAAsB5K,cAAC2L,IAAM,CAAC/E,KAAMA,GAC7C,EA2BkD6E,YAGvC,EAIArF,MA0BfA,EAAoBwC,aAAe,CACjCiC,SAAS,E,0EC5FX,MAAMe,EAAcC,IAAMC,SAEX,MAAMC,EAUnBC,YAAYC,GARZ,KACAC,UAAY,IAAKC,KACjB,KACAC,8BAA+B,EAE/B,KACAC,YAAc,GAGZC,KAAKJ,UAAY,IAAKI,KAAKJ,aAAcD,GACzCvJ,QAAQC,IAAI,qBAAsBsJ,GAElCL,EAAYW,aAAaC,QAAQC,KAC/BC,IAEEhK,QAAQC,IAAI,UAAW+J,GACvB,MAAMC,EAAWL,KAAKM,WAItB,OAFAF,EAAOG,QAAQC,cAAa,GAAAnN,OAAM2M,KAAKJ,UAAUa,UAAS,KAAApN,OAAIgN,GAEvDD,CAAM,IAEf5F,GAAS1E,QAAQ4K,OAAOlG,KAI1B8E,EAAYW,aAAarJ,SAASuJ,KAC9BvJ,GAAYA,IACZ4D,IAEE,MAAM,OAAE4F,EAAM,SAAExJ,GAAa4D,EACvBmG,EAAkBP,EAGxB,GAAIxJ,GAAgC,MAApBA,EAASc,OAAgB,CAEvCtB,QAAQC,IAAI,mBAAoBO,EAASc,QAGpCsI,KAAKF,6BAgBRnH,OAAOC,SAASgI,QAAQ,WAfxBZ,KAAKF,8BAA+B,EAEpCE,KAAK9I,eAAe5B,MAAKuL,IACvBb,KAAKF,8BAA+B,EAIpCE,KAAKc,SAASD,EAAE5L,KAAK8L,UAGrBf,KAAKgB,qBAAqBH,EAAE5L,KAAK8L,SAAS,KAqB9C,OAd6B,IAAIjL,SAAQmL,IACvCjB,KAAKkB,eAAc1K,IAMjBmK,EAAgBJ,QAAQC,cAAa,GAAAnN,OAAM2M,KAAKJ,UAAUa,UAAS,KAAApN,OAAImD,GAIvEyK,EAAQ3B,EAAYqB,GAAiB,GACrC,GAGN,CACA,OAAO7K,QAAQ4K,OAAOlG,EAAM,GAGlC,CAGHwG,qBAAqBxK,GAClBwJ,KAAKD,YAAcC,KAAKD,YAAYoB,QAAOC,GAAYA,EAAS5K,IAClE,CAED0K,cAAcE,GACZpB,KAAKD,YAAYzC,KAAK8D,EACxB,CAECd,WACE,OAAOvN,aAAaC,QAAQ,aAAe,IAC7C,CAEA8N,SAASrH,GACP1G,aAAa8E,QAAQ,WAAY4B,EACnC,CAEAvC,eACE,OAAOoI,EAAY+B,KAAKrB,KAAKJ,UAAU0B,YAAa,CAACjM,SAAUkM,IAAUnP,SAAUoP,KAErF,CACApM,QACE,OAAOkK,EAAY+B,KAAKrB,KAAKJ,UAAU0B,YAAa,CAACjM,SAAUkM,IAAUnP,SAAUoP,KAErF,CAGAC,eACE,OAAOnC,EAAYoC,IAAI1B,KAAKJ,UAAU+B,qBACxC,CAECC,iBACC,OAAOtC,EAAYoC,IAAI1B,KAAKJ,UAAUiC,oBACxC,CAEAC,eACE,OAAOxC,EAAYoC,IAAI,GAADrO,OAAI2M,KAAKJ,UAAUmC,kBAC3C,ECzHF,MAAQC,OAAO,GCMN,CACLA,OAHa,IAAIvC,EDJQ,CAAC,IAEfuC,K","file":"static/js/282.c256f9ea.chunk.js","sourcesContent":["import Avatar from '@components/avatar'\nimport InputPasswordToggle from '@components/input-password-toggle'\nimport { useSkin } from '@hooks/useSkin'\nimport useJwt from '@src/auth/jwt/useJwt'\nimport useJwt2 from '@src/auth/jwt/useJwt2'\nimport useJwtBMS from '@src/auth/jwt/useJwtBMS'\nimport { AbilityContext } from '@src/utility/context/Can'\nimport { handleLogin } from '@store/actions/auth'\nimport '@styles/base/pages/page-auth.scss'\nimport { isObjEmpty } from '@utils'\nimport classnames from 'classnames'\nimport { Fragment, useContext, useState, useEffect } from 'react'\nimport { Coffee } from 'react-feather'\nimport { useForm } from 'react-hook-form'\nimport { useDispatch } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\nimport {\n  Button, CardText, CardTitle, Col, Form, FormGroup, Input, Label, Row, Spinner\n} from 'reactstrap'\nimport pmsImg from '../../../assets/images/icons/RILAC-Logo.svg'\nimport nav from '../../../navigation/vertical/customise'\nimport { Error } from '../../viewhelper'\n\nconst AdminLogin = () => {\n  const [skin, setSkin] = useSkin()\n  const ability = useContext(AbilityContext)\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [loading, setloading] = useState(false)\n  const [servererrors, seterrors] = useState({})\n  const { register, errors, handleSubmit } = useForm()\n\n  // useEffect(() => {\n  //   fetch('https://api.ipify.org/?format=json')\n  //     .then(res => res.json())\n  //     .then(data => localStorage.setItem('ip', data.ip))\n  // }, [])\n  const previousLocation = localStorage.getItem(\"previousLocation\") || null\n  const previousRole = localStorage.getItem(\"previousRole\") || null\n\n  const illustration = skin === 'dark' ? 'login-v2-dark.svg' : 'login-v2.svg',\n    source = require(`@src/assets/images/pages/${illustration}`).default\n\n  useEffect(async () => { \n\n    localStorage.clear()\n\n  }, [])\n  \n  const onSubmit = data => {\n    const email = data['loginemail']\n    const password = data['login-password']\n    if (isObjEmpty(errors)) {\n      setloading(true)\n      useJwt.login({ username: email, password }).then(async res => {\n          // console.log('login response', res.data)\n\n          const [bms, adminusermenusubmenu] = await Promise.all([\n\n              useJwtBMS.login().then(res3 => {\n                return res3.data\n              }).catch(err => {\n                console.log('BMS ', err)\n                return null\n              }),\n\n              useJwt2.AdminUsersAssignedMenus({accessToken: res.data.payload.token}).then(response => {\n                return response.data.payload\n              }).catch(err => {\n                //console.log(err)\n                return []\n              })\n            \n          ])\n\n          // console.log('user_info', res.data.payload)\n          const userrole = parseInt(res.data.payload.user_info.roleid)\n          //if (userrole === 12 || userrole === 13) {\n\n          const data = {\n            ...res.data.payload.user_info,\n            fullname: \"\",\n            avatar: \"https://i.imgur.com/P4b2RHh.png\",\n            accessToken: res.data.payload.token,\n            refreshToken: res.data.payload.refresh_token,\n            extras: {\n              eCommerceCartItemsCount: 5\n            },\n            role: 'admin',\n            ability: [\n              {\n                action: 'manage',\n                subject: 'ADMIN'\n              },\n              {\n                action: 'manage',\n                subject: 'Auth'\n              }\n            ]\n          }\n\n          if (!bms) {\n            Error({response: { status: 401, data: { message: 'Bms service is not connected!'}}})\n            setloading(false)\n            return 0\n          }  else if (!adminusermenusubmenu.length) {\n            Error({response: { status: 401, data: { message: `Didn't find any assign menu permission for you. Please contact with system admin.`}}})\n            setloading(false)\n            return 0\n          }\n\n\n          localStorage.setItem(\"useBMStoken\", false)\n          localStorage.setItem(\"BMSCall\", false)\n          localStorage.setItem('BMStoken', bms['jwtToken'])\n\n          localStorage.setItem(\"AssignedMenus\", JSON.stringify(adminusermenusubmenu))\n\n          localStorage.setItem('username', email)\n\n          const link = nav.find(an => an.id === adminusermenusubmenu[0].id)?.navLink ? nav.find(an => an.id === adminusermenusubmenu[0].id)?.navLink : nav.find(an => an.id === adminusermenusubmenu[0].id)?.children[0]?.navLink\n\n          //password expired check\n          if (res.data.payload.password_added_at_before <= res.data.payload.passwordconfig?.expire_date_length) {\n\n            await dispatch(handleLogin(data))\n            await ability.update(data.ability)\n\n            window.location.href = (previousRole === data?.role && previousLocation) ? previousLocation : link\n\n          } else {\n\n            localStorage.setItem('accessToken', res.data.payload.token)\n            localStorage.setItem('link', link)\n            window.location.href = '/resetPass'\n          }\n\n        })\n        .catch(err => {\n          setloading(false)\n          Error(err)\n          console.log('login error', err.response)\n\n        })\n    }\n  }\n  return (\n    <div className='auth-wrapper auth-v2'>\n      <Row className='auth-inner m-0'>\n        <Link className='brand-logo' to='/' onClick={e => e.preventDefault()}>\n\n          <img width='80px' src={pmsImg} />\n\n          {/* <h2 style={{ color: window.TukitakiThemeColor }} className='brand-text ml-1 mt-1'>RILAC</h2> */}\n        </Link>\n        <Col className='d-none d-lg-flex align-items-center p-5' lg='8' sm='12'>\n          <div className='w-100 d-lg-flex align-items-center justify-content-center px-5'>\n            <img className='img-fluid' src={source} alt='Login V2' />\n          </div>\n        </Col>\n        <Col className='d-flex align-items-center auth-bg px-2 p-lg-5' lg='4' sm='12'>\n          <Col className='px-xl-2 mx-auto' sm='8' md='6' lg='12'>\n            <CardTitle tag='h2' className='font-weight-bold mb-1'>\n              Welcome to Rilac 👋\n            </CardTitle>\n            <CardText className='mb-2'>Please sign-in to your account and start the adventure</CardText>\n            <Form className='auth-login-form mt-2' onSubmit={handleSubmit(onSubmit)} autoComplete=\"off\">\n              <FormGroup>\n                <Label className='form-label' for='login-email'>\n                  User Name\n                </Label>\n                <Input\n                  autoFocus\n                  type='text'\n                  // value={email}\n                  id='login-email'\n                  name='loginemail'\n                  placeholder='username'\n                  onChange={e => setEmail(e.target.value)}\n                  className={classnames({ 'is-invalid': errors['login-email'] })}\n                  innerRef={register({ required: true, validate: value => value !== '' })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <div className='d-flex justify-content-between'>\n                  <Label className='form-label' for='login-password'>\n                    Password\n                  </Label>\n                </div>\n                <InputPasswordToggle\n                  // value={password}\n                  id='login-password'\n                  name='login-password'\n                  onChange={e => setPassword(e.target.value)}\n                  className={classnames('input-group-merge', { 'is-invalid': errors['login-password'] })}\n                  innerRef={register({ required: true, validate: value => value !== '' && value.length > 5 })}\n                />\n                <span style={{ color: 'red' }} >{errors['login-password'] && \"Valid password required\"}</span>\n                <span style={{ color: 'red' }} >{servererrors['password']}</span>\n\n              </FormGroup>\n              {\n                loading ? <Button.Ripple color='primary' block disabled>\n                  <Spinner color='white' size='sm' />\n                  <span className='ml-50'>Loading...</span>\n                </Button.Ripple> : <Button.Ripple type='submit' color='primary' block>\n                  Sign in\n                </Button.Ripple>\n              }\n              <br></br>\n              {/* <p className=\"text-center\" >Don't have an account &nbsp;<Link to=\"/merchantregister\">\n                Register\n              </Link>\n              </p>\n              <div className='divider my-2'>\n                <div className='divider-text'>or</div>\n              </div> */}\n              {/* <p className=\"text-center\" >Login as &nbsp;<Link to=\"/login\">\n                Merchant\n              </Link>\n              </p> */}\n            </Form>\n\n          </Col>\n        </Col>\n      </Row>\n    </div>\n  )\n}\nexport default AdminLogin","import { Fragment, useState } from 'react'\nimport { toast, Slide } from 'react-toastify'\n\n    export const Error = (err) => {\n        try {\n            const e = err.response\n            if (e.status === 404 || e.status === 401 || e.status === 400 || e.status === 500 || e.status === 409) {\n                toast.error(e.data.message, {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n            } else  {\n                toast.error('The server is under maintenance', {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined\n                    }) \n            }\n        } catch (e) {\n            toast.error('Please check your connection', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n        }\n \n    }\n\n    export const ErrorMessage = (err) => {\n        try {\n        const e = err.response\n        if (e.status === 404 || e.status === 401 || e.status === 400) {\n            toast.error(e.data.errors ? e.data.errors[Object.keys(e.data.errors)[0]] : e.data.message, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n            })  \n         }\n        } catch (e) {\n            toast.error('Please check your connection', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n        } \n    }\n    export const Success = (response) => {\n        const message = response.data.message || 'success'\n        toast.success(message, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n            })  \n    }\n\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardTitle = function CardTitle(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-title'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardTitle.propTypes = propTypes;\nCardTitle.defaultProps = defaultProps;\nexport default CardTitle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar rowColWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar rowColsPropType = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar propTypes = {\n  tag: tagPropType,\n  noGutters: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  form: PropTypes.bool,\n  xs: rowColsPropType,\n  sm: rowColsPropType,\n  md: rowColsPropType,\n  lg: rowColsPropType,\n  xl: rowColsPropType\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: rowColWidths\n};\n\nvar Row = function Row(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      noGutters = props.noGutters,\n      Tag = props.tag,\n      form = props.form,\n      widths = props.widths,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"noGutters\", \"tag\", \"form\", \"widths\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var colSize = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!colSize) {\n      return;\n    }\n\n    var isXs = !i;\n    colClasses.push(isXs ? \"row-cols-\" + colSize : \"row-cols-\" + colWidth + \"-\" + colSize);\n  });\n  var classes = mapToCssModules(classNames(className, noGutters ? 'no-gutters' : null, form ? 'form-row' : 'row', colClasses), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nRow.propTypes = propTypes;\nRow.defaultProps = defaultProps;\nexport default Row;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  tag: tagPropType,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"widths\", \"tag\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes;\nCol.defaultProps = defaultProps;\nexport default Col;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  type: PropTypes.string,\n  size: PropTypes.string,\n  color: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.string\n};\nvar defaultProps = {\n  tag: 'div',\n  type: 'border',\n  children: 'Loading...'\n};\n\nvar Spinner = function Spinner(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      type = props.type,\n      size = props.size,\n      color = props.color,\n      children = props.children,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"type\", \"size\", \"color\", \"children\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, size ? \"spinner-\" + type + \"-\" + size : false, \"spinner-\" + type, color ? \"text-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    role: \"status\"\n  }, attributes, {\n    className: classes\n  }), children && /*#__PURE__*/React.createElement(\"span\", {\n    className: mapToCssModules('sr-only', cssModule)\n  }, children));\n};\n\nSpinner.propTypes = propTypes;\nSpinner.defaultProps = defaultProps;\nexport default Spinner;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'p'\n};\n\nvar CardText = function CardText(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-text'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardText.propTypes = propTypes;\nCardText.defaultProps = defaultProps;\nexport default CardText;","// ** React Imports\nimport { Fragment, useState } from 'react'\n\n// ** Third Party Components\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport { Eye, EyeOff } from 'react-feather'\nimport { InputGroup, InputGroupAddon, Input, InputGroupText, Label, inputClassName } from 'reactstrap'\n\nconst InputPasswordToggle = props => {\n  // ** Props\n  const {\n    label,\n    hideIcon,\n    showIcon,\n    visible,\n    className,\n    htmlFor,\n    placeholder,\n    iconSize,\n    inputClassName,\n    ...rest\n  } = props\n\n  // ** State\n  const [inputVisibility, setInputVisibility] = useState(visible)\n\n  // ** Renders Icon Based On Visibility\n  const renderIcon = () => {\n    const size = iconSize ? iconSize : 14\n\n    if (inputVisibility === false) {\n      return hideIcon ? hideIcon : <Eye size={size} />\n    } else {\n      return showIcon ? showIcon : <EyeOff size={size} />\n    }\n  }\n\n  return (\n    <Fragment>\n      {label ? <Label for={htmlFor}>{label}</Label> : null}\n      <InputGroup\n        className={classnames({\n          [className]: className\n        })}\n      >\n        <Input\n          type={inputVisibility === false ? 'password' : 'text'}\n          placeholder={placeholder ? placeholder : '············'}\n          className={classnames({\n            [inputClassName]: inputClassName\n          })}\n          /*eslint-disable */\n          {...(label && htmlFor\n            ? {\n                id: htmlFor\n              }\n            : {})}\n          {...rest}\n          /*eslint-enable */\n        />\n        <InputGroupAddon addonType='append' onClick={() => setInputVisibility(!inputVisibility)}>\n          <InputGroupText className='cursor-pointer'>{renderIcon()}</InputGroupText>\n        </InputGroupAddon>\n      </InputGroup>\n    </Fragment>\n  )\n}\n\nexport default InputPasswordToggle\n\n// ** PropTypes\nInputPasswordToggle.propTypes = {\n  hideIcon: PropTypes.node,\n  showIcon: PropTypes.node,\n  visible: PropTypes.bool,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  iconSize: PropTypes.number,\n  inputClassName: PropTypes.string,\n  label(props, propName, componentName) {\n    // ** If label is defined and htmlFor is undefined throw error\n    if (props[propName] && props['htmlFor'] === 'undefined') {\n      throw new Error('htmlFor prop is required when label prop is present')\n    }\n  },\n  htmlFor(props, propName, componentName) {\n    // ** If htmlFor is defined and label is undefined throw error\n    if (props[propName] && props['label'] === 'undefined') {\n      throw new Error('label prop is required when htmlFor prop is present')\n    }\n  }\n}\n\n// ** Default Props\nInputPasswordToggle.defaultProps = {\n  visible: false\n}\n","import axios  from 'axios'\nimport jwtDefaultConfig from './jwtDefaultConfig'\nimport { BMS_PASS, BMS_USER } from '../../../Configurables'\n\nconst instanceBMS = axios.create()\n\nexport default class JwtServiceBMS {\n\n  // ** jwtConfig <= Will be used by this service\n  jwtConfig = { ...jwtDefaultConfig }\n  // ** For Refreshing Token\n  isAlreadyFetchingAccessToken = false\n\n  // ** For Refreshing Token\n  subscribers = []\n\n  constructor(jwtOverrideConfig) {\n    this.jwtConfig = { ...this.jwtConfig, ...jwtOverrideConfig }\n    console.log('jwtOverrideConfig ', jwtOverrideConfig)\n    // ** Request Interceptor\n    instanceBMS.interceptors.request.use(\n      config => {\n        // ** Get token from localStorage\n        console.log('config ', config)\n        const BMSToken = this.getToken()\n\n        config.headers.Authorization = `${this.jwtConfig.tokenType} ${BMSToken}`\n        \n        return config\n      },\n      error => Promise.reject(error)\n    )\n\n    // ** Add request/response interceptor\n    instanceBMS.interceptors.response.use(\n        response => response,\n        error => {\n          // ** const { config, response: { status } } = error\n          const { config, response } = error\n          const originalRequest = config\n  \n          // ** if (status === 401) {\n          if (response && response.status === 401) {\n  \n            console.log('response.status ', response.status)\n            // console.log('!this.isAlreadyFetchingAccessToken ', !this.isAlreadyFetchingAccessToken)\n  \n            if (!this.isAlreadyFetchingAccessToken) {\n              this.isAlreadyFetchingAccessToken = true\n              // console.log('this.isAlreadyFetchingAccessToken ', this.isAlreadyFetchingAccessToken)\n              this.refreshToken().then(r => {\n                this.isAlreadyFetchingAccessToken = false\n                // console.log('this.isAlreadyFetchingAccessToken ', this.isAlreadyFetchingAccessToken)\n                // console.log('refreshToken response .data ', r.data)\n                // ** Update accessToken in localStorage\n                this.setToken(r.data.jwtToken)\n                //this.setRefreshToken(r.data.RefreshToken)\n  \n                this.onAccessTokenFetched(r.data.jwtToken)\n  \n              })\n            } else {\n              //refresh token expire also.. need to clear session and redirect user to login page..\n              window.location.replace(\"logout\")\n            }\n            const retryOriginalRequest = new Promise(resolve => {\n              this.addSubscriber(accessToken => {\n  \n                // console.log('addSubscriber accessToken ', accessToken)\n                // ** Make sure to assign accessToken according to your response.\n                // ** Check: https://pixinvent.ticksy.com/ticket/2413870\n                // ** Change Authorization header\n                originalRequest.headers.Authorization = `${this.jwtConfig.tokenType} ${accessToken}`\n  \n                // console.log('originalRequest.headers.Authorization ', `${this.jwtConfig.tokenType} ${accessToken}`)\n  \n                resolve(instanceBMS(originalRequest))\n              })\n            })\n            return retryOriginalRequest\n          }\n          return Promise.reject(error)\n        }\n      )\n    }\n\n\n onAccessTokenFetched(accessToken) {\n    this.subscribers = this.subscribers.filter(callback => callback(accessToken))\n  }\n\n addSubscriber(callback) {\n   this.subscribers.push(callback)\n }\n\n  getToken() {\n    return localStorage.getItem('BMStoken') || null\n  }\n\n  setToken(value) {\n    localStorage.setItem('BMStoken', value)\n  }\n\n  refreshToken() {\n    return instanceBMS.post(this.jwtConfig.getBMStoken, {username: BMS_USER, password: BMS_PASS})\n\n  }\n  login() {\n    return instanceBMS.post(this.jwtConfig.getBMStoken, {username: BMS_USER, password: BMS_PASS})\n\n  }\n\n  //bms dashboard\n  bmsDashboard() {\n    return instanceBMS.get(this.jwtConfig.bmsDashboardEndpoint)\n  }\n   //service\n   getServiceList(...args) {\n    return instanceBMS.get(this.jwtConfig.serviceListEndpoint)\n  }\n\n  campaignList() {\n    return instanceBMS.get(`${this.jwtConfig.campaignEndpoint}`)\n  }\n}\n","import useJwtBMS from '@src/@core/auth/jwt/useJwtBMS'\n\nconst { jwtBMS } = useJwtBMS({})\n\nexport default jwtBMS\n\n","// ** JWT Service Import\nimport JwtServiceBMS from './jwtServiceBMS'\n\n// ** Export Service as useJwt\n\nexport default function useJwtBMS(jwtOverrideConfig) {\n  const jwtBMS = new JwtServiceBMS(jwtOverrideConfig)\n\n  return {\n    jwtBMS\n  }\n}"],"sourceRoot":""}