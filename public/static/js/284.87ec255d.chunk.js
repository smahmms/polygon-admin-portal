(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[284],{1200:function(e,a,t){},1301:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t(440),l=t(485),n=t(75),i=t.n(n);const o=e=>a=>{i.a.get("/apps/invoice/invoices",e).then((t=>{a({type:"GET_DATA",allData:t.data.allData,data:t.data.invoices,totalPages:t.data.total,params:e})}))};var r=t(114),d=t(1843),p=t(1687),j=t(1662),m=t(1957),u=t(1666),b=t(1677),h=t(1804),g=t(1716),x=t(1803),f=t(1700),O=t(1767),v=t(1793),N=t(1824),w=t(1748),y=t(1750),P=t(1786),C=t(1744),D=t(1822),T=t(1736),k=t(5);const M={Sent:{color:"light-secondary",icon:h.a},Paid:{color:"light-success",icon:g.a},Draft:{color:"light-primary",icon:x.a},Downloaded:{color:"light-info",icon:f.a},"Past Due":{color:"light-danger",icon:O.a},"Partial Payment":{color:"light-warning",icon:v.a}},S=e=>{const a=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return e.avatar.length?Object(k.jsx)(l.a,{className:"mr-50",img:e.avatar,width:"32",height:"32"}):Object(k.jsx)(l.a,{color:a,className:"mr-50",content:e.client?e.client.name:"John Doe",initials:!0})},z=[{name:"#",minWidth:"107px",selector:"id",cell:e=>Object(k.jsx)(c.b,{to:"/apps/invoice/preview/".concat(e.id),children:"#".concat(e.id)})},{name:Object(k.jsx)(N.a,{size:14}),minWidth:"102px",selector:"invoiceStatus",sortable:!0,cell:e=>{const a=M[e.invoiceStatus]?M[e.invoiceStatus].color:"primary",t=M[e.invoiceStatus]?M[e.invoiceStatus].icon:w.a;return Object(k.jsxs)(s.Fragment,{children:[Object(k.jsx)(l.a,{color:a,icon:Object(k.jsx)(t,{size:14}),id:"av-tooltip-".concat(e.id)}),Object(k.jsxs)(d.a,{placement:"top",target:"av-tooltip-".concat(e.id),children:[Object(k.jsx)("span",{className:"font-weight-bold",children:e.invoiceStatus}),Object(k.jsx)("br",{}),Object(k.jsx)("span",{className:"font-weight-bold",children:"Balance:"})," ",e.balance,Object(k.jsx)("br",{}),Object(k.jsx)("span",{className:"font-weight-bold",children:"Due Date:"})," ",e.dueDate]})]})}},{name:"Client",minWidth:"350px",selector:"client",sortable:!0,cell:e=>{const a=e.client?e.client.name:"John Doe",t=e.client?e.client.companyEmail:"johnDoe@email.com";return Object(k.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[S(e),Object(k.jsxs)("div",{className:"d-flex flex-column",children:[Object(k.jsx)("h6",{className:"user-name text-truncate mb-0",children:a}),Object(k.jsx)("small",{className:"text-truncate text-muted mb-0",children:t})]})]})}},{name:"Total",selector:"total",sortable:!0,minWidth:"150px",cell:e=>Object(k.jsxs)("span",{children:["$",e.total||0]})},{name:"Issued Date",selector:"dueDate",sortable:!0,minWidth:"200px",cell:e=>e.dueDate},{name:"Balance",selector:"balance",sortable:!0,minWidth:"164px",cell:e=>0!==e.balance?Object(k.jsx)("span",{children:e.balance}):Object(k.jsx)(p.a,{color:"light-success",pill:!0,children:"Paid"})},{name:"Action",minWidth:"110px",selector:"",sortable:!0,cell:e=>Object(k.jsxs)("div",{className:"column-action d-flex align-items-center",children:[Object(k.jsx)(h.a,{size:17,id:"send-tooltip-".concat(e.id)}),Object(k.jsx)(d.a,{placement:"top",target:"send-tooltip-".concat(e.id),children:"Send Mail"}),Object(k.jsx)(c.b,{to:"/apps/invoice/preview/".concat(e.id),id:"pw-tooltip-".concat(e.id),children:Object(k.jsx)(y.a,{size:17,className:"mx-1"})}),Object(k.jsx)(d.a,{placement:"top",target:"pw-tooltip-".concat(e.id),children:"Preview Invoice"}),Object(k.jsxs)(j.a,{children:[Object(k.jsx)(m.a,{tag:"span",children:Object(k.jsx)(P.a,{size:17,className:"cursor-pointer"})}),Object(k.jsxs)(u.a,{right:!0,children:[Object(k.jsxs)(b.a,{tag:"a",href:"/",className:"w-100",onClick:e=>e.preventDefault(),children:[Object(k.jsx)(C.a,{size:14,className:"mr-50"}),Object(k.jsx)("span",{className:"align-middle",children:"Download"})]}),Object(k.jsxs)(b.a,{tag:c.b,to:"/apps/invoice/edit/".concat(e.id),className:"w-100",children:[Object(k.jsx)(w.a,{size:14,className:"mr-50"}),Object(k.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(k.jsxs)(b.a,{tag:"a",href:"/",className:"w-100",onClick:a=>{var t;a.preventDefault(),r.a.dispatch((t=e.id,(e,a)=>{i.a.delete("/apps/invoice/delete",{id:t}).then((a=>{e({type:"DELETE_INVOICE"})})).then((()=>e(o(a().invoice.params))))}))},children:[Object(k.jsx)(D.a,{size:14,className:"mr-50"}),Object(k.jsx)("span",{className:"align-middle",children:"Delete"})]}),Object(k.jsxs)(b.a,{tag:"a",href:"/",className:"w-100",onClick:e=>e.preventDefault(),children:[Object(k.jsx)(T.a,{size:14,className:"mr-50"}),Object(k.jsx)("span",{className:"align-middle",children:"Duplicate"})]})]})]})]})}];var E=t(471),I=t.n(E),L=t(1719),W=t(474),q=t.n(W),F=t(450),R=t(451),V=t(463),A=t(1654),G=t(432),J=t(1680),H=t(452),B=t(108);t(1200),t(820);const _=e=>{let{handleFilter:a,value:t,handleStatusValue:s,statusValue:l,handlePerPage:n,rowsPerPage:i}=e;return Object(k.jsx)("div",{className:"invoice-list-table-header w-100 py-2",children:Object(k.jsxs)(F.a,{children:[Object(k.jsxs)(R.a,{lg:"6",className:"d-flex align-items-center px-0 px-lg-1",children:[Object(k.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(k.jsx)(V.a,{for:"rows-per-page",children:"Show"}),Object(k.jsxs)(A.a,{className:"form-control ml-50 pr-3",type:"select",id:"rows-per-page",value:i,onChange:n,children:[Object(k.jsx)("option",{value:"10",children:"10"}),Object(k.jsx)("option",{value:"25",children:"25"}),Object(k.jsx)("option",{value:"50",children:"50"})]})]}),Object(k.jsx)(G.a.Ripple,{tag:c.b,to:"/apps/invoice/add",color:"primary",children:"Add Record"})]}),Object(k.jsxs)(R.a,{lg:"6",className:"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pr-lg-1 p-0",children:[Object(k.jsxs)("div",{className:"d-flex align-items-center",children:[Object(k.jsx)(V.a,{for:"search-invoice",children:"Search"}),Object(k.jsx)(J.a,{id:"search-invoice",className:"ml-50 mr-2 w-100",type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Search Invoice"})]}),Object(k.jsxs)(J.a,{className:"w-auto ",type:"select",value:l,onChange:s,children:[Object(k.jsx)("option",{value:"",children:"Select Status"}),Object(k.jsx)("option",{value:"downloaded",children:"Downloaded"}),Object(k.jsx)("option",{value:"draft",children:"Draft"}),Object(k.jsx)("option",{value:"paid",children:"Paid"}),Object(k.jsx)("option",{value:"partial payment",children:"Partial Payment"}),Object(k.jsx)("option",{value:"past due",children:"Past Due"}),Object(k.jsx)("option",{value:"partial payment",children:"Partial Payment"})]})]})]})})};a.default=()=>{const e=Object(B.b)(),a=Object(B.c)((e=>e.invoice)),[t,c]=Object(s.useState)(""),[l,n]=Object(s.useState)(1),[i,r]=Object(s.useState)(""),[d,p]=Object(s.useState)(10);Object(s.useEffect)((()=>{e(o({page:l,perPage:d,status:i,q:t}))}),[e,a.data.length]);return Object(k.jsx)("div",{className:"invoice-list-wrapper",children:Object(k.jsx)(H.a,{children:Object(k.jsx)("div",{className:"invoice-list-dataTable",children:Object(k.jsx)(q.a,{noHeader:!0,pagination:!0,paginationServer:!0,subHeader:!0,columns:z,responsive:!0,sortIcon:Object(k.jsx)(L.a,{}),className:"react-dataTable",defaultSortField:"invoiceId",paginationDefaultPage:l,paginationComponent:()=>{const s=Number((a.total/d).toFixed(0));return Object(k.jsx)(I.a,{pageCount:s||1,nextLabel:"",breakLabel:"...",previousLabel:"",activeClassName:"active",breakClassName:"page-item",breakLinkClassName:"page-link",forcePage:0!==l?l-1:0,onPageChange:a=>(a=>{e(o({page:a.selected+1,perPage:d,status:i,q:t})),n(a.selected+1)})(a),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end p-1"})},data:(()=>{const e={status:i,q:t},s=Object.keys(e).some((function(a){return e[a].length>0}));return a.data.length>0?a.data:0===a.data.length&&s?[]:a.allData.slice(0,d)})(),subHeaderComponent:Object(k.jsx)(_,{value:t,statusValue:i,rowsPerPage:d,handleFilter:a=>{c(a),e(o({page:l,perPage:d,status:i,q:a}))},handlePerPage:a=>{e(o({page:l,perPage:parseInt(a.target.value),status:i,q:t})),p(parseInt(a.target.value))},handleStatusValue:a=>{r(a.target.value),e(o({page:l,perPage:d,status:a.target.value,q:t}))}})})})})})}},450:function(e,a,t){"use strict";var s=t(13),c=t(18),l=t(0),n=t.n(l),i=t(4),o=t.n(i),r=t(52),d=t.n(r),p=t(74),j=o.a.oneOfType([o.a.number,o.a.string]),m={tag:p.tagPropType,noGutters:o.a.bool,className:o.a.string,cssModule:o.a.object,form:o.a.bool,xs:j,sm:j,md:j,lg:j,xl:j},u={tag:"div",widths:["xs","sm","md","lg","xl"]},b=function(e){var a=e.className,t=e.cssModule,l=e.noGutters,i=e.tag,o=e.form,r=e.widths,j=Object(c.a)(e,["className","cssModule","noGutters","tag","form","widths"]),m=[];r.forEach((function(a,t){var s=e[a];if(delete j[a],s){var c=!t;m.push(c?"row-cols-"+s:"row-cols-"+a+"-"+s)}}));var u=Object(p.mapToCssModules)(d()(a,l?"no-gutters":null,o?"form-row":"row",m),t);return n.a.createElement(i,Object(s.a)({},j,{className:u}))};b.propTypes=m,b.defaultProps=u,a.a=b},451:function(e,a,t){"use strict";var s=t(13),c=t(18),l=t(0),n=t.n(l),i=t(4),o=t.n(i),r=t(52),d=t.n(r),p=t(74),j=o.a.oneOfType([o.a.number,o.a.string]),m=o.a.oneOfType([o.a.bool,o.a.number,o.a.string,o.a.shape({size:o.a.oneOfType([o.a.bool,o.a.number,o.a.string]),order:j,offset:j})]),u={tag:p.tagPropType,xs:m,sm:m,md:m,lg:m,xl:m,className:o.a.string,cssModule:o.a.object,widths:o.a.array},b={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},g=function(e){var a=e.className,t=e.cssModule,l=e.widths,i=e.tag,o=Object(c.a)(e,["className","cssModule","widths","tag"]),r=[];l.forEach((function(a,s){var c=e[a];if(delete o[a],c||""===c){var l=!s;if(Object(p.isObject)(c)){var n,i=l?"-":"-"+a+"-",j=h(l,a,c.size);r.push(Object(p.mapToCssModules)(d()(((n={})[j]=c.size||""===c.size,n["order"+i+c.order]=c.order||0===c.order,n["offset"+i+c.offset]=c.offset||0===c.offset,n)),t))}else{var m=h(l,a,c);r.push(m)}}})),r.length||r.push("col");var j=Object(p.mapToCssModules)(d()(a,r),t);return n.a.createElement(i,Object(s.a)({},o,{className:j}))};g.propTypes=u,g.defaultProps=b,a.a=g},452:function(e,a,t){"use strict";var s=t(13),c=t(18),l=t(0),n=t.n(l),i=t(4),o=t.n(i),r=t(52),d=t.n(r),p=t(74),j={tag:p.tagPropType,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},m=function(e){var a=e.className,t=e.cssModule,l=e.color,i=e.body,o=e.inverse,r=e.outline,j=e.tag,m=e.innerRef,u=Object(c.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(p.mapToCssModules)(d()(a,"card",!!o&&"text-white",!!i&&"card-body",!!l&&(r?"border":"bg")+"-"+l),t);return n.a.createElement(j,Object(s.a)({},u,{className:b,ref:m}))};m.propTypes=j,m.defaultProps={tag:"div"},a.a=m},463:function(e,a,t){"use strict";var s=t(13),c=t(18),l=t(0),n=t.n(l),i=t(4),o=t.n(i),r=t(52),d=t.n(r),p=t(74),j=o.a.oneOfType([o.a.number,o.a.string]),m=o.a.oneOfType([o.a.bool,o.a.string,o.a.number,o.a.shape({size:j,order:j,offset:j})]),u={children:o.a.node,hidden:o.a.bool,check:o.a.bool,size:o.a.string,for:o.a.string,tag:p.tagPropType,className:o.a.string,cssModule:o.a.object,xs:m,sm:m,md:m,lg:m,xl:m,widths:o.a.array},b={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},g=function(e){var a=e.className,t=e.cssModule,l=e.hidden,i=e.widths,o=e.tag,r=e.check,j=e.size,m=e.for,u=Object(c.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];i.forEach((function(a,s){var c=e[a];if(delete u[a],c||""===c){var l,n=!s;if(Object(p.isObject)(c)){var i,o=n?"-":"-"+a+"-";l=h(n,a,c.size),b.push(Object(p.mapToCssModules)(d()(((i={})[l]=c.size||""===c.size,i["order"+o+c.order]=c.order||0===c.order,i["offset"+o+c.offset]=c.offset||0===c.offset,i))),t)}else l=h(n,a,c),b.push(l)}}));var g=Object(p.mapToCssModules)(d()(a,!!l&&"sr-only",!!r&&"form-check-label",!!j&&"col-form-label-"+j,b,!!b.length&&"col-form-label"),t);return n.a.createElement(o,Object(s.a)({htmlFor:m},u,{className:g}))};g.propTypes=u,g.defaultProps=b,a.a=g},820:function(e,a,t){}}]);
//# sourceMappingURL=284.87ec255d.chunk.js.map