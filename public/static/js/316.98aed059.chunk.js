(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[316],{1895:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t(711),c=t(471),i=t.n(c),l=t(474),o=t.n(l),r=t(1694),d=t(1719),b=t(448),m=t(452),p=t(465),j=t(450),u=t(451),h=t(463),g=t(1680),O=t(432),x=t(446),f=t(445),v=t(467),C=t(449),y=t(442),N=t(460),T=t.n(N),k=t(444),w=t.n(k),L=t(461),_=t(443),S=t(5);w()(T.a);a.default=()=>{Object(n.g)();const[e,a]=Object(s.useState)(0),[t,c]=Object(s.useState)(!0),[l,N]=Object(s.useState)([]),[T,k]=Object(s.useState)({from:null,to:null,startdate:null,enddate:null}),[w,P]=Object(s.useState)({from:[],to:[],storename:""});Object(s.useEffect)((()=>{y.a.depositFromTo().then((e=>{const a={from:e.data.payload.from_data.map((e=>({value:e,label:e}))),to:e.data.payload.to_data.map((e=>({value:e,label:e}))),storename:e.data.payload.storename};P(a)})).catch((e=>{})),y.a.cashDepositLogList(T).then((e=>{c(!1),N(e.data.payload)})).catch((e=>{}))}),[]);const D=e=>{k({...T,[e.target.name]:e.target.value})},F=[{name:"Time",selector:e=>Object(_.b)(e.created_at),minWidth:"200px",sortable:!0},{name:"From",selector:"from",minWidth:"50px",sortable:!0},{name:"To",selector:"to",minWidth:"50px",sortable:!0},{name:"Deposit Amount",selector:e=>"".concat(window.CURRENCY_SYMBOL," ").concat(Object(_.e)((+e.deposit_amount).toFixed(2))),minWidth:"200px",sortable:!0},{name:"Till Balance",selector:e=>"".concat(window.CURRENCY_SYMBOL," ").concat(Object(_.e)((+e.current_balance).toFixed(2))),minWidth:"200px",sortable:!0},{name:"User",selector:"created_by",minWidth:"100px",sortable:!0}];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(m.a,{className:"py-0 px-1 px-md-0 pl-md-1",children:Object(S.jsx)(p.a,{className:"my-2",style:{width:"100%"},onSubmit:e=>{e.preventDefault(),c(!0),console.log(T),y.a.cashDepositLogList(T).then((e=>{c(!1),N(e.data.payload)})).catch((e=>{}))},autoComplete:"off",children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)(u.a,{md:"5",children:Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsxs)("div",{style:{width:"50%"},children:[Object(S.jsx)(h.a,{for:"startdate",children:"Start date"}),Object(S.jsx)(g.a,{required:!0,style:{width:"100%"},placeholder:"startdate",type:"date",id:"startdate",name:"startdate",onChange:D})]}),Object(S.jsxs)("div",{style:{width:"50%"},children:[Object(S.jsx)(h.a,{for:"enddate",children:"End date"}),Object(S.jsx)(g.a,{required:!0,style:{width:"100%"},placeholder:"enddate",type:"date",id:"enddate",name:"enddate",onChange:D})]})]})}),Object(S.jsx)(u.a,{md:"5",children:Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsxs)("div",{style:{width:"50%"},children:[Object(S.jsx)(h.a,{for:"From",children:"From"}),Object(S.jsx)(L.a,{style:{width:"100%"},theme:b.i,className:"react-select",classNamePrefix:"select",name:"From",onChange:(e,a)=>{let{action:t}=a;k("clear"===t?{...T,from:null}:{...T,from:e.value})},options:w.from,isClearable:!0,isLoading:!1})]}),Object(S.jsxs)("div",{style:{width:"50%"},children:[Object(S.jsx)(h.a,{for:"To",children:"To"}),Object(S.jsx)(L.a,{style:{width:"100%"},theme:b.i,className:"react-select",classNamePrefix:"select",name:"To",onChange:(e,a)=>{let{action:t}=a;k("clear"===t?{...T,to:null}:{...T,to:e.value})},options:w.to,isClearable:!0,isLoading:!1})]})]})}),Object(S.jsx)(u.a,{md:"2",children:Object(S.jsxs)(O.a.Ripple,{className:"ml-lg-2",color:"primary",type:"submit",style:{marginTop:"22px"},children:[Object(S.jsx)(r.a,{size:15}),Object(S.jsx)("span",{className:"align-middle ml-50",children:"Search"})]})})]})})}),Object(S.jsxs)(m.a,{children:[Object(S.jsx)(x.a,{className:"border-bottom",children:Object(S.jsxs)(f.a,{tag:"h4",children:["Cash Deposit at ",w.storename?w.storename:""]})}),Object(S.jsx)(o.a,{noHeader:!0,pagination:!0,columns:F,paginationPerPage:5,className:"react-dataTable",sortIcon:Object(S.jsx)(d.a,{size:10}),paginationDefaultPage:e+1,paginationComponent:()=>Object(S.jsx)(i.a,{previousLabel:"",nextLabel:"",forcePage:e,onPageChange:e=>(e=>{a(e.selected)})(e),pageCount:l.length?l.length/5:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"}),data:l,progressPending:t,progressComponent:Object(S.jsx)(v.a,{color:"primary"}),responsive:!0}),Object(S.jsx)(C.a,{style:{paddingTop:"15px"}})]})]})}},1896:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t(711),c=t(471),i=t.n(c),l=t(474),o=t.n(l),r=t(1822),d=t(1719),b=(t(448),t(452)),m=t(446),p=t(445),j=t(465),u=t(450),h=t(451),g=t(463),O=t(1680),x=t(432),f=t(467),v=t(449),C=t(442),y=t(460),N=t.n(y),T=t(444),k=t.n(T),w=t(443),L=t(437),_=t(5);const S=k()(N.a);a.default=()=>{Object(n.g)();const[e,a]=Object(s.useState)(""),[t,c]=Object(s.useState)(0),[l,y]=Object(s.useState)(!0),[T,k]=Object(s.useState)(!1),[P,D]=Object(s.useState)([]),[F,M]=Object(s.useState)(0),R=localStorage.getItem("ip"),[B,E]=Object(s.useState)(!1),I=e=>S.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,showLoaderOnConfirm:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1,preConfirm:()=>C.a.depositDelete({deposit_id:e}).then((e=>{const{balance:a=0}=e.data.payload;return M(a),e})).catch((e=>(Object(L.a)(e),!1))),allowOutsideClick:()=>!N.a.isLoading()}).then((function(a){a.isConfirmed&&((e=>{const a=P.filter((a=>a.id!==e));D(a)})(e),S.fire({icon:"success",title:"Deleted!",text:"The Deposit has been deleted.",customClass:{confirmButton:"btn btn-success"}}))}));Object(s.useEffect)((()=>{C.a.depositLogList({page:1,limit:30,from_id:1,to_id:2,ip:R}).then((e=>{y(!1),D(e.data.payload.data),M(e.data.payload.current_balance)})).catch((e=>{Object(L.a)(e)}))}),[]);const Y=[{name:"Time",selector:e=>Object(w.b)(e.created_at),minWidth:"200px",sortable:!0},{name:"Till",selector:"till_id",minWidth:"100px",sortable:!0},{name:"Deposit Amount",selector:(e,a)=>"".concat(window.CURRENCY_SYMBOL," ").concat(Object(w.e)((+e.deposit_amount).toFixed(2))),minWidth:"150px",sortable:!0},{name:"Till Balance",selector:(e,a)=>"".concat(window.CURRENCY_SYMBOL," ").concat(Object(w.e)((+e.current_balance).toFixed(2))),minWidth:"200px",sortable:!0},{name:"User",selector:"created_by",minWidth:"200px",sortable:!0},{name:"Actions",allowOverflow:!0,cell:e=>Object(_.jsx)(r.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:a=>I(e.id)})}];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(b.a,{className:"py-0 px-1",children:[Object(_.jsx)(m.a,{className:"border-bottom",children:Object(_.jsx)(p.a,{tag:"h4",children:"Deposit to Safe"})}),Object(_.jsx)(j.a,{className:"my-2",style:{width:"100%"},onSubmit:t=>{t.preventDefault(),""!==e&&0!==Number(e)&&(k(!0),C.a.submitDeposit({deposit_amount:e,from_id:1,to_id:2,ip:R}).then((e=>{Object(L.c)(e);const{current_balance:t=0,deposit_amount:s,till_balance:n,till_id:c,username:i,id:l}=e.data.payload,o={id:l,created_at:(new Date).toISOString(),till_id:c,deposit_amount:s,created_by:i,current_balance:n};M(n),D([o,...P]),a(""),k(!1)})).catch((e=>{Object(L.a)(e),k(!1)})))},autoComplete:"off",children:Object(_.jsxs)(u.a,{children:[Object(_.jsxs)(h.a,{md:"6",children:[Object(_.jsx)(g.a,{for:"From",children:"Amount"}),Object(_.jsx)(O.a,{style:{width:"100%"},placeholder:"1000",type:"number",min:"0",id:"search-input",value:e,onChange:e=>{a(e.target.value)}})]}),Object(_.jsx)(h.a,{md:"2",children:T?Object(_.jsxs)(x.a.Ripple,{color:"primary",style:{marginTop:"22px"},disabled:!0,children:[Object(_.jsx)(f.a,{color:"white",size:"sm"}),Object(_.jsx)("small",{className:"ml-50",children:"Loading..."})]}):Object(_.jsx)(x.a.Ripple,{color:"primary",style:{marginTop:"22px"},type:"submit",children:Object(_.jsx)("span",{className:"align-middle ml-50",children:"Deposit"})})}),Object(_.jsxs)(h.a,{md:"4",children:[Object(_.jsx)(g.a,{for:"From",children:"Current Till Cash Balance"}),Object(_.jsx)("h2",{children:"".concat(window.CURRENCY_SYMBOL," ").concat(Object(w.e)((+F).toFixed(2)))})]})]})})]}),Object(_.jsxs)(b.a,{children:[Object(_.jsx)(m.a,{className:"border-bottom",children:Object(_.jsx)(p.a,{tag:"h4",children:"Last 30 Items"})}),Object(_.jsx)(o.a,{noHeader:!0,pagination:!0,columns:Y,paginationPerPage:5,className:"react-dataTable",sortIcon:Object(_.jsx)(d.a,{size:10}),paginationDefaultPage:t+1,paginationComponent:()=>Object(_.jsx)(i.a,{previousLabel:"",nextLabel:"",forcePage:t,onPageChange:e=>(e=>{c(e.selected)})(e),pageCount:P.length?P.length/5:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"}),data:P,progressPending:l,progressComponent:Object(_.jsx)(f.a,{color:"primary"}),responsive:!0}),Object(_.jsx)(v.a,{style:{paddingTop:"15px"}})]})]})}},2457:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),c=t(543),i=t(1692),l=t(1693),o=t(546),r=t(547),d=t(1895),b=t(1896),m=t(2140),p=t(5);a.default=()=>{const[e,a]=Object(s.useState)("1"),t=t=>{e!==t&&a(t)};return Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsxs)(c.a,{tabs:!0,children:[Object(p.jsx)(i.a,{children:Object(p.jsx)(l.a,{active:"1"===e,onClick:()=>{t("1")},children:"Cash Deposit"})}),Object(p.jsx)(i.a,{children:Object(p.jsx)(l.a,{active:"2"===e,onClick:()=>{t("2")},children:"Deposit to Safe"})}),Object(p.jsx)(i.a,{children:Object(p.jsx)(l.a,{active:"3"===e,onClick:()=>{t("3")},children:"Safe to Bank"})})]}),Object(p.jsxs)(o.a,{className:"py-50",activeTab:e,children:[Object(p.jsx)(r.a,{tabId:"1",children:Object(p.jsx)(d.default,{})}),Object(p.jsx)(r.a,{tabId:"2",children:Object(p.jsx)(b.default,{})}),Object(p.jsx)(r.a,{tabId:"3",children:Object(p.jsx)(m.default,{})})]})]})}},466:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var s=t(0),n=t.n(s).a.createContext({})},543:function(e,a,t){"use strict";var s=t(13),n=t(18),c=t(0),i=t.n(c),l=t(4),o=t.n(l),r=t(52),d=t.n(r),b=t(74),m={tabs:o.a.bool,pills:o.a.bool,vertical:o.a.oneOfType([o.a.bool,o.a.string]),horizontal:o.a.string,justified:o.a.bool,fill:o.a.bool,navbar:o.a.bool,card:o.a.bool,tag:b.tagPropType,className:o.a.string,cssModule:o.a.object},p=function(e){var a=e.className,t=e.cssModule,c=e.tabs,l=e.pills,o=e.vertical,r=e.horizontal,m=e.justified,p=e.fill,j=e.navbar,u=e.card,h=e.tag,g=Object(n.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),O=Object(b.mapToCssModules)(d()(a,j?"navbar-nav":"nav",!!r&&"justify-content-"+r,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(o),{"nav-tabs":c,"card-header-tabs":u&&c,"nav-pills":l,"card-header-pills":u&&l,"nav-justified":m,"nav-fill":p}),t);return i.a.createElement(h,Object(s.a)({},g,{className:O}))};p.propTypes=m,p.defaultProps={tag:"ul",vertical:!1},a.a=p},546:function(e,a,t){"use strict";var s=t(13),n=t(105),c=t(0),i=t.n(c),l=t(4),o=t.n(l),r=t(52),d=t.n(r),b=t(466),m=t(74),p={tag:m.tagPropType,activeTab:o.a.any,className:o.a.string,cssModule:o.a.object},j=function(e){function a(a){var t;return(t=e.call(this,a)||this).state={activeTab:t.props.activeTab},t}return Object(n.a)(a,e),a.getDerivedStateFromProps=function(e,a){return a.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},a.prototype.render=function(){var e=this.props,a=e.className,t=e.cssModule,n=e.tag,c=Object(m.omit)(this.props,Object.keys(p)),l=Object(m.mapToCssModules)(d()("tab-content",a),t);return i.a.createElement(b.a.Provider,{value:{activeTabId:this.state.activeTab}},i.a.createElement(n,Object(s.a)({},c,{className:l})))},a}(c.Component);a.a=j,j.propTypes=p,j.defaultProps={tag:"div"}},547:function(e,a,t){"use strict";t.d(a,"a",(function(){return j}));var s=t(13),n=t(18),c=t(0),i=t.n(c),l=t(4),o=t.n(l),r=t(52),d=t.n(r),b=t(466),m=t(74),p={tag:m.tagPropType,className:o.a.string,cssModule:o.a.object,tabId:o.a.any};function j(e){var a=e.className,t=e.cssModule,c=e.tabId,l=e.tag,o=Object(n.a)(e,["className","cssModule","tabId","tag"]),r=function(e){return Object(m.mapToCssModules)(d()("tab-pane",a,{active:c===e}),t)};return i.a.createElement(b.a.Consumer,null,(function(e){var a=e.activeTabId;return i.a.createElement(l,Object(s.a)({},o,{className:r(a)}))}))}j.propTypes=p,j.defaultProps={tag:"div"}}}]);
//# sourceMappingURL=316.98aed059.chunk.js.map