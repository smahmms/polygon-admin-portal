{"version":3,"sources":["views/VendorComponents/DashBoardUI/TukitakiLoader.js","views/tables/data-tables/basic/AdminComponent/Settings/FacebookLogin.js","assets/images/icons/facebook_icon.png","views/VendorComponents/Settings/SettingsVendor.js","views/viewhelper.js"],"names":["TukitakiLoader","_ref","style","_jsx","className","children","src","themeConfig","app","appLogoImage","alt","height","width","FacebookCustomLogin","appId","userInput","setUserInput","setHaveFacebookResponse","facebookLogin","useRef","_jsxs","Fragment","display","FacebookLogin","autoLoad","fields","scope","cookie","state","callback","res","facebook_user_id","userID","user_access_token","accessToken","render","renderProps","type","onClick","ref","textAlign","paddingTop","page_name","marginTop","current","click","page_access_token","Settings","_category$find2","_subCategory$find","categoryRef","pointRuleloading","setPointRuleloading","JSON","parse","localStorage","getItem","useState","reset","setReset","modal","setModal","category","setCategory","haveFacebookResponse","facebookpageerror","setfacebookpageerror","subCategory","setSubCategory","dataLoading","setDataLoading","pageId","instagram_actor_id","allow_admin_facebook_page_post","allow_other_merchant_facebook_page_post","facebook_pagepost_page_id","facebook_page_category_localuid","facebookpage_subcategory_localuid","collaps","setCollaps","fb_page","useEffect","async","setItem","useJwt","getFbpageCategory","then","console","log","data","payload","map","item","value","id","uid","subcategory","label","name","catch","err","Error","response","getMerchentCampaignSettings","_res$data$payload2","_res$data$payload3","_res$data$payload4","_res$data$payload5","_res$data$payload6","_res$data$payload7","_res$data$payload8","_res$data$payload9","_res$data$payload10","_res$data$payload11","_res$data$payload12","_res$data$payload13","_category$find","find","i","_res$data$payload","page_id","global_facebook_page_id","callApi","Card","position","top","left","transform","CardHeader","CardTitle","tag","CustomInput","onChange","e","target","checked","inline","defaultChecked","Form","onSubmit","preventDefault","app_secret","updateFacebookPageCrd","Success","error","_error$response","_error$response$data","message","autoComplete","CardBody","Row","Col","md","sm","Alert","color","FormGroup","Label","for","Input","required","placeholder","Select","theme","selectThemeColors","maxMenuHeight","classNamePrefix","selected","options","isLoading","length","opacity","onFocus","select","focus","isClearable","Button","Ripple","disabled","Spinner","size","status","toast","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ErrorMessage","errors","Object","keys","success"],"mappings":"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","file":"static/js/322.8ef747e3.chunk.js","sourcesContent":["import React from 'react'\nimport './Dashboard.scss'\nimport themeConfig from '@configs/themeConfig'\n\nconst TukitakiLoader = ({ style }) => {\n    return (\n        <div className=\"background\" style={style}>\n            <img src={themeConfig.app.appLogoImage} alt='logo'\n                style={{ height: '90px', width: '90px' }} />\n        </div>\n    )\n}\n\nexport default TukitakiLoader","import React, { Fragment, useEffect, useRef } from 'react'\n\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props'\nimport FacebookIcon from '@src/assets/images/icons/facebook_icon.png'\n\nconst FacebookCustomLogin = ({appId, userInput, setUserInput, setHaveFacebookResponse }) => {\n\n    const facebookLogin = useRef()\n\n    return (\n        <Fragment>\n            <div style={{display: 'none'}}>\n             <FacebookLogin\n                appId= {appId}\n                autoLoad={false}\n                fields=\"name,email,picture\"\n                scope=\"public_profile,pages_manage_posts,pages_manage_metadata\"\n                cookie={false}\n                state={'ren'}\n                callback={(res) => {\n                    if (res['userID']) {\n                        setHaveFacebookResponse(true)\n                        // console.log('facebook login response : ', res)\n                        setUserInput({ ...userInput, facebook_user_id:res.userID, user_access_token: res.accessToken}) \n                    }\n                }}\n                render={renderProps => (\n                    <button type='button' onClick={renderProps.onClick}  ref={facebookLogin}>FB Login</button>\n                    )}\n            \n            />\n            </div>\n\n            <div style={{textAlign:'center'}} className=\"facebookconnectDiv\">\n                <img src={FacebookIcon}/>\n                <p style={{paddingTop:10 }}>Facebook Access</p>\n                {\n                    userInput.page_name ? <p style={{marginTop: '-10px'}}>{userInput.page_name}</p> : null\n                }\n                \n                <button  type='button' className=\"facebbokConnectBtn\" onClick={() => facebookLogin.current.click()} ><p>{(userInput.page_access_token) ? \"Connected\" : \"Connect\"}</p></button>\n            </div>\n        </Fragment>\n    )\n}\n\nexport default FacebookCustomLogin","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAUwSURBVHgB1ZpdTBxVFMfPuTOwUL52rdrF2JQ+kDRpiokopqmJlFp9UHxpjTGxEW2NDz6IaS0kBgV5YUEifbCJTUD6amzig5oYo+JTk0pJDDyYyANEAoNQlu/dZWfu8dwtW752lt3pLLv8EnZ25s6duf/7ce7Zc0BwCX9jqALyorUkoEoAnSYALwCWcZFPlfO5iUATfG2MTwdJ0hBq8rbR4RsDF0B4CLyNQW9Bvv4hIL3Op8fBETiMhD+QiN54GFGOhPivLNWSBi3cw3XgLv2AVpsTQWkJKb+8+Cjp+BVPlHN8qkGG4Eb1gmm1T3X7xtOokxqHmhff5YnejbG5vyeMgYQ2o6u0P5WbUxLib1oOAMirkAUQsGcqUPLR7vclQS3mwnztF0J4BrIJ4VB4zTwz3+Obt7tF2BXELJJH+znrIhRIT6u2qDbZ3WIrpNCj/8qHGsgdagp4dtgVJpxa5U1LXxJQI2SAx4tRlh1AOJCP0pIAEZP0e8tkzq2SntoTRKcRKG7afnWHEP/Hiw08Tt+Aixw7JMy3nsvTXjuRB4+VYMLOkwRydpno1eur2r9BmfR5RHBpurO0d/O1LQ8tvxw8Qro2wF8rwCUuncqXV8/mi5KC1Cx9TWAFdhPCT5pfNqFyqbt0Nn5tyxqRutYCLor4vL6A2us9KYtIFeXHFcU25g0eCPE3Byv4dRfBJS7U5Mn3TuW5q2ALdI7bXBs/2xgR0j4Dl1CroLHOIyCzaNzmlvhJ7GVqNPjQAC7x0jFdPuHN4GBsUBffW2ImD0l7n8A96qv0XR+3GCb4aSRKY3NgsQk249fvrUgPpOEDFuQLtU20xoSwjXjFzf477BNJPeOJeaDzN1ZhfE6q1+rrf85APM+frWJ9kZ8AF3mkCM1k5c3fh+Ii3OB4+SehI4IscRJcxqOjbQ8vR4j+HE+qM21oLXpaIFI17CHBVcLFELhqCQjpKQEo9lRIRkCoVea3AvY5/OPLyyMCT8L+p0xnx8WR6fPoYHrybK1TQbK6pYUYTlyCvH5i+0i6+NDftOhoL3yhUoebbxcmbBCLTCokYkLCesOTlqy/vnoAHKBGIwjr0cB0ELh7g+2wq2cskFO7bKrFvgA5wsikdOpoTgginIcc4W/DAoeMcQ/IAcgRZlccuq4k7woOIP8FOUA4SvKfGQlOIIF3BWjWAOQAozOSTS85WiMI8nbM5/E3L41waCKttECRB+XRgyJhF/ZdKNQP+xK7UxwpkW/2hXbUC5skRv9zsthx2AiUVN3fDKX8jveitISsREiMTFppvzgUdVbPDk5t/KiOsQeG12QP7FMIra/VMSZkPTj8G+w/+uNJoY0hRqudPx0b8qzA2a341wdCWNkAl9yCfQKB6N2cotuy6LCQPuAtKWd2entoTJjR9s1XtgiZauVYKskrkOsgtm3PL+4wg9Od3l4ety7IUTjdcc3o2JlXTGjPjc5SzhfSIOQY/JN2aDpQljBvY7sxhSPyLB/uQO5wJxQxz9gV2gpRe0s4Yr2sEpGQfQZVWxwlQxWqotFZUs1uwDXIFii7jEDps8lEKFLyeabUvER4R5k92CN4Uc+rFJvR4U0pv5+y86YsBZqylj3MPsggFPMu6NtVEyu35wmTkZYXqmy3EfBeZNfgKLv9N8FtCH5HtF40AmVvbM4PpoKjmNa6a9DAkfxWlVtZT0s4i+gTjICgW+Gw7NltHSTDtWCySk+QRScRRPXIp2XVB4tjoVgVxYx3lgo7LYzOUPD5L5b+QCHVT+wBt/7x7H8V+e72tzhGsAAAAABJRU5ErkJggg==\"","import useJwt from '@src/auth/jwt/useJwt'\nimport { selectThemeColors } from '@utils'\nimport React, { Fragment, useEffect, useRef, useState } from 'react'\nimport Select from 'react-select'\nimport { Button, Card, CardBody, CardHeader, CardTitle, Col, CustomInput, Form, FormGroup, Input, Label, Row, Spinner, Alert } from 'reactstrap'\nimport { Error, Success } from '../../viewhelper'\nimport FacebookCustomLogin from '../../tables/data-tables/basic/AdminComponent/Settings/FacebookLogin'\nimport TukitakiLoader from '../DashBoardUI/TukitakiLoader'\n\nconst Settings = () => {\n    const ref1 = useRef()\n    const categoryRef = useRef()\n    const userData = JSON.parse(localStorage.getItem('userData'))\n    const [pointRuleloading, setPointRuleloading] = useState(false)\n    const [reset, setReset] = useState()\n    const [modal, setModal] = useState(false)\n    const toggleModal = () => setModal(!modal)\n    const [category, setCategory] = useState([])\n    const [haveFacebookResponse, setHaveFacebookResponse] = useState(false)\n    const [facebookpageerror, setfacebookpageerror] = useState(null)\n    const [subCategory, setSubCategory] = useState([])\n    const [dataLoading, setDataLoading] = useState(true)\n    const [userInput, setUserInput] = useState({\n            pageId: \"\",\n            instagram_actor_id: '',\n            allow_admin_facebook_page_post: false,\n            allow_other_merchant_facebook_page_post: false,\n            facebook_pagepost_page_id: '',\n            facebook_user_id: '', \n            user_access_token: '',\n            facebook_page_category_localuid: '', \n            facebookpage_subcategory_localuid: '',\n            page_name: null,\n            page_access_token: null\n    })\n    const [collaps, setCollaps] = useState({fb_page: true})\n    const handleChange = (e) => {\n        setUserInput({ ...userInput, [e.target.name]: e.target.value })\n    }\n\n    const callApi = async () => {\n        localStorage.setItem('useBMStoken', false) //for token management\n        localStorage.setItem('usePMStoken', false) //for token management\n        await useJwt.getFbpageCategory().then(res => {\n            console.log(res)\n            setCategory(res.data.payload.map(item => { return { value: {id: item.uid, subcategory: item.subcategory }, label: item?.name } }))\n        }).catch(err => {\n            Error(err)\n            console.log(err.response)\n        })\n        await useJwt.getMerchentCampaignSettings().then(res => {\n            console.log(res)\n            if (res.data.payload.facebook_page_category_localuid && res.data.payload.facebookpage_subcategory_localuid) {\n                setSubCategory(category.find(i => i.value.id === res.data.payload?.facebook_page_category_localuid)?.value.subcategory)\n            }\n            setUserInput({\n                    pageId: res.data.payload?.page_id,\n                    instagram_actor_id: res.data.payload?.instagram_actor_id,\n                    allow_admin_facebook_page_post: res.data.payload?.allow_admin_facebook_page_post,\n                    allow_other_merchant_facebook_page_post: res.data.payload?.allow_other_merchant_facebook_page_post,\n                    facebook_pagepost_page_id: res.data.payload?.global_facebook_page_id,\n                    user_access_token: res.data.payload?.user_access_token,\n                    facebook_page_category_localuid: res.data.payload?.facebook_page_category_localuid,\n                    facebookpage_subcategory_localuid: res.data.payload?.facebookpage_subcategory_localuid,\n                    facebook_user_id: res.data.payload?.facebook_user_id,\n                    page_name: res.data.payload?.page_name || null,\n                    page_access_token: res.data.payload?.page_access_token || null\n            })\n\n            if (!res.data.payload?.global_facebook_page_id) {\n                setfacebookpageerror('This feature will active after create a facebook app by this site admin!')\n            }\n\n            setDataLoading(false)\n\n        }).catch(err => {\n            setDataLoading(false)\n            Error(err)\n            console.log(err.response)\n        })\n    }\n\n    useEffect(() => {\n       callApi()\n    }, [])\n\n    const onSubmit2 = (e) => {\n        e.preventDefault()\n        const {facebook_pagepost_page_id, allow_admin_facebook_page_post, allow_other_merchant_facebook_page_post, facebook_user_id, app_secret,  user_access_token, pageId, facebook_page_category_localuid, facebookpage_subcategory_localuid} = userInput\n        setPointRuleloading(true)\n        useJwt.updateFacebookPageCrd({allow_admin_facebook_page_post, allow_other_merchant_facebook_page_post, app_secret, facebook_pagepost_page_id, facebook_user_id, user_access_token, pageId, facebook_page_category_localuid, facebookpage_subcategory_localuid}).then((response) => {\n            console.log(response)\n            setPointRuleloading(false)\n            Success(response)\n          }).catch((error) => {\n            setfacebookpageerror(error.response?.data?.message || \"Error Occurred !\")\n            console.log(error.response)\n            setPointRuleloading(false)\n            //Error(error)\n          })\n    }\n\n    return (\n        <Fragment>\n            {dataLoading && <Card className=\"p-2 position-relative\" style={{ height: '80vh' }}>\n        <TukitakiLoader style={{ position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50% ,-50%)' }} />\n      </Card>}\n\n      {!dataLoading &&   <Card>\n                <CardHeader className='border-bottom'>\n                    <CardTitle tag='h4'>Facebook Page</CardTitle>\n                    <CustomInput onChange={(e) => {\n                        if (e.target.checked) {\n                            setCollaps({...collaps, fb_page: true})\n                            setfacebookpageerror(null)\n                            setHaveFacebookResponse(false)\n                        } else {\n                            setCollaps({...collaps, fb_page: false})\n                        }\n                    }} type='switch' id='fb_page' inline label='' defaultChecked/>\n                </CardHeader>\n                <Form style={{ width: '100%' }} onSubmit={onSubmit2} autoComplete=\"off\">\n                    {\n                        collaps.fb_page && <CardBody style={{ paddingTop: '15px' }}>\n                        <Row>\n                            {\n                                facebookpageerror ? <Col md=\"12\" sm=\"12\" >\n                                    <Alert color='danger'>\n                                        <div className='alert-body'> {facebookpageerror} </div>\n                                    </Alert>\n                                </Col> : null\n                            }\n\n                            {\n                                !haveFacebookResponse ? <Fragment>\n                                    <Col sm=\"3\" className='d-flex justify-content-right' >\n                                    <FacebookCustomLogin \n                                            appId={userInput.facebook_pagepost_page_id} \n                                            userInput={userInput}\n                                            setUserInput={setUserInput}\n                                            setHaveFacebookResponse={setHaveFacebookResponse}\n                                            />\n                                    </Col>\n                                </Fragment> : <Fragment>\n                                        <Col sm=\"4\">\n                                        <FormGroup>\n                                            <Label for=\"pageId\">Page Id<span style={{color:'red'}}>*</span></Label>\n                                            <Input type=\"text\"\n                                                name=\"pageId\"\n                                                id='pageId'\n                                                value={userInput?.pageId || \"\"}\n                                                onChange={handleChange}\n                                                required\n                                                placeholder=\"page id\"\n                                            />\n                                        </FormGroup>\n                                    </Col>\n\n                                    <Col sm=\"4\" >\n                                        <FormGroup>\n                                            <Label for=\"facebook_page_category_localuid\">Facebook Page Category<span style={{ color: 'red' }}>*</span></Label>\n                                            <Select\n                                                ref={categoryRef}\n                                                theme={selectThemeColors}\n                                                maxMenuHeight={200}\n                                                className='react-select'\n                                                classNamePrefix='select'\n                                                value={{ value: userInput.facebook_page_category_localuid, label: category.find(i => i.value.id === userInput.facebook_page_category_localuid)?.label || 'select a category'}}\n                                                onChange={(selected) => {\n                                                    setUserInput({ ...userInput, facebook_page_category_localuid: selected.value.id})\n                                                    setSubCategory(selected?.value.subcategory)\n                                                }}\n                                                options={category}\n                                                isLoading={category.length === 0}\n                                            />\n                                            <Input\n                                                required\n                                                style={{\n                                                    opacity: 0,\n                                                    width: \"100%\",\n                                                    height: 0\n                                                    // position: \"absolute\"\n                                                }}\n                                                onFocus={e => categoryRef.current.select.focus()}\n                                                value={userInput.facebook_page_category_localuid || ''}\n                                                onChange={e => ''}\n                                            />\n                                        </FormGroup>\n                                    </Col>\n                                    {\n                                        (subCategory?.length !== 0) && <Col sm=\"4\" >\n                                        <FormGroup>\n                                            <Label for=\"facebookpage_subcategory_localuid\">Facebook page Sub Category</Label>\n                                            <Select\n                                                theme={selectThemeColors}\n                                                maxMenuHeight={200}\n                                                className='react-select'\n                                                classNamePrefix='select'\n                                                value={{ value: userInput.facebookpage_subcategory_localuid, label: subCategory?.find(i => i.uid === userInput.facebookpage_subcategory_localuid)?.name || 'select a subcategory'}}\n                                                onChange={(selected) => {\n                                                    setUserInput({ ...userInput, facebookpage_subcategory_localuid: selected.value})\n                                                }}\n                                                isClearable\n                                                options={subCategory?.map(item => { return { value: item.uid, label: item.name } })}\n                                                isLoading={subCategory?.length === 0}\n                                            />\n                                        </FormGroup>\n                                    </Col>\n                                    }\n\n                                       <Col sm=\"4\" className='mb-2 mt-1'>\n                                    <FormGroup>\n                                        <CustomInput type='switch' onChange={(e) => {\n                                            if (e.target.checked) {\n                                                setUserInput({ ...userInput, allow_admin_facebook_page_post: true })\n                                            } else {\n                                                setUserInput({ ...userInput, allow_admin_facebook_page_post: false })\n                                            }\n                                        }\n                                        } id='allow_admin_facebook_page_post' label='Allow admin facebook page post?' checked={userInput?.allow_admin_facebook_page_post} />\n                                    </FormGroup>\n                                </Col>\n\n                                <Col sm=\"4\" className='mb-2 mt-1'>\n                                    <FormGroup>\n                                        <CustomInput type='switch' onChange={(e) => {\n                                            if (e.target.checked) {\n                                                setUserInput({ ...userInput, allow_other_merchant_facebook_page_post: true })\n                                            } else {\n                                                setUserInput({ ...userInput, allow_other_merchant_facebook_page_post: false })\n                                            }\n                                        }\n                                        } id='allow_other_merchant_facebook_page_post' label='Allow other merchant facebook page post?' checked={userInput?.allow_other_merchant_facebook_page_post}  />\n                                    </FormGroup>\n                                </Col>\n\n                                    <Col sm=\"12\" className='text-center mt-2'>\n                                        {\n                                            pointRuleloading ? <Button.Ripple color='primary' className='mr-1' disabled style={{ marginTop: '25px' }}>\n                                                <Spinner color='white' size='sm' />\n                                                <span className='ml-50'>Loading...</span>\n                                            </Button.Ripple> : <Button.Ripple className='ml-2' color='primary' type=\"submit\">\n                                                <span >{userInput.page_access_token ? \"Update\" : \"Submit\"}</span>\n                                            </Button.Ripple>\n                                        }\n                                    </Col>\n                                </Fragment>\n                            }\n\n                            </Row>\n                        </CardBody>\n                    }\n                </Form>\n            </Card>\n         }\n\n        </Fragment>\n    )\n}\n\nexport default Settings","import { Fragment, useState } from 'react'\nimport { toast, Slide } from 'react-toastify'\n\n    export const Error = (err) => {\n        try {\n            const e = err.response\n            if (e.status === 404 || e.status === 401 || e.status === 400 || e.status === 500 || e.status === 409) {\n                toast.error(e.data.message, {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n            } else  {\n                toast.error('The server is under maintenance', {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined\n                    }) \n            }\n        } catch (e) {\n            toast.error('Please check your connection', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n        }\n \n    }\n\n    export const ErrorMessage = (err) => {\n        try {\n        const e = err.response\n        if (e.status === 404 || e.status === 401 || e.status === 400) {\n            toast.error(e.data.errors ? e.data.errors[Object.keys(e.data.errors)[0]] : e.data.message, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n            })  \n         }\n        } catch (e) {\n            toast.error('Please check your connection', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n        } \n    }\n    export const Success = (response) => {\n        const message = response.data.message || 'success'\n        toast.success(message, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n            })  \n    }\n\n"],"sourceRoot":""}