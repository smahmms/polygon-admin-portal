{"version":3,"sources":["views/pages/authentication/GoCardless.js","views/VendorComponents/QuotaManage/PaypalCardForm.js","views/VendorComponents/QuotaManage/PayPalCardHolder.js","views/viewhelper.js"],"names":["withReactContent","Swal","GoCardless","props","setConditionalRendering","showCompanyName","setshowCompanyName","continueBtn","setcontinueBtn","userinput","setuserinput","useState","JSON","parse","localStorage","getItem","isnewaccount","isibn","accountnumber","sortcode","accountholdername","isneedmorethenonepersontoauth","addpaymentid","payment_method_id","sub_type","errors","setErrors","email","address","accountNumber","isloading","setisloading","showCustomPostCode","setshowCustomPostCode","CustomPostCode","setCustomPostCode","PostCodeError","setPostCodeError","postcodefetching","setpostcodefetching","businessaddress","setbusinessaddress","tempaddress","settempaddress","loader","setLoader","ErrorTexts","setErrorTexts","onChange","e","target","name","chkEmail","test","value","err","length","_jsx","className","children","Card","Form","style","width","onSubmit","preventDefault","city","firstname","lastname","postcode","useJwt","customerBusinessRegistration","then","res","window","location","href","data","payload","payment_url","catch","error","Error","response","console","log","autoComplete","_jsxs","Row","Col","md","Alert","color","map","i","concat","message","Label","Input","required","placeholder","type","companyname","disabled","FormGroup","for","InputGroup","InputGroupAddon","addonType","InputGroupText","Search","size","id","Button","paddingBottom","outline","Spinner","onClick","searchPostcode","country","ukAddressEndpoint","postCode","addresses","item","index","label","formatted_address","filter","splice","toString","CustomInput","checked","inline","sm","Select","styles","control","base","state","borderColor","maxMenuHeight","theme","selectThemeColors","classNamePrefix","index1","town_or_city","options","isClearable","Ripple","marginTop","Send","PaypalCardForm","useContext","AbilityContext","skin","setSkin","useSkin","history","useHistory","register","handleSubmit","trigger","useDispatch","useForm","valErrors","setValErrors","docerror","setdocerror","stripePromise","setStripePromise","isLoad","setIsLoad","amount","setAmount","stripe","useStripe","elements","useElements","CARD_ELEMENT_OPTIONS","useRef","lineHeight","fontSize","invalid","iconColor","userInput","setUserInput","card_name","card_number","card_address","card_expiry","card_cvc","paymentMethodId","illustration","require","default","action","async","paymentMethodObj","card","getElement","CardNumberElement","createPaymentMethod","paymentMethod","handleServerResponse","alert","requiresAction","errorAction","paymentIntent","handleCardAction","clientSecret","payByStripe","paymentIntentId","payload1","Success","push","quotaRequestPayByStripe","onBlur","event","CardExpiryElement","CardCvcElement","TestCreditCardDetails","childFunc","planDetails","setPlanDetails","useEffect","stripeData","loadStripe","publishableKey","parseFloat","maxWidth","CardBody","Nav","pills","NavItem","NavLink","cursor","goBack","TabContent","TabPane","Elements","price_onetime","status","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ErrorMessage","Object","keys","success"],"mappings":"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","file":"static/js/360.0b0dff19.chunk.js","sourcesContent":["import useJwt from '@src/auth/jwt/useJwt'\nimport { selectThemeColors } from '@utils'\nimport React, { useState } from 'react'\nimport { Search, Send } from 'react-feather'\nimport Select from 'react-select'\nimport { Alert, Button, Card, CardHeader, CardTitle, Col, CustomInput, Form, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText, Label, Row, Spinner } from 'reactstrap'\nimport Swal from 'sweetalert2'\nimport withReactContent from 'sweetalert2-react-content'\nconst MySwal = withReactContent(Swal)\n// import DirectDebitLogo from '../../../../assets/images/logo/DirectDebitLogo.png'\nimport { toast } from 'react-toastify'\nimport { Error } from '../../viewhelper'\n\nconst GoCardless = (props) => {\n    const { setConditionalRendering, showCompanyName, setshowCompanyName, continueBtn, setcontinueBtn } = props\n    const [userinput, setuserinput] = useState({\n        ...JSON.parse(localStorage.getItem('registration_data')),\n        isnewaccount: true,\n        isibn: false,\n        accountnumber: \"\",\n        // address: \"\",\n        // city: \"\",\n        // companyname: \"\",\n        // country: \"\",\n        // email: \"\",\n        // firstname: \"\",\n        // lastname: \"\",\n        // postcode: \"\",\n        sortcode: \"\",\n        accountholdername: \"\",\n        // customerid: \"\",\n        isneedmorethenonepersontoauth: false,\n        addpaymentid: 0,\n        payment_method_id: 1,\n        sub_type: \"monthly\"\n    })  \n    const [errors, setErrors] = useState({\n        email: false,\n        address: false,\n        accountNumber: false,\n        sortcode: false\n    })\n    const [isloading, setisloading] = useState(false)\n    const [showCustomPostCode, setshowCustomPostCode] = useState(false)\n    const [CustomPostCode, setCustomPostCode] = useState(true)\n    const [PostCodeError, setPostCodeError] = useState(false)\n    const [postcodefetching, setpostcodefetching] = useState(false)\n    const [businessaddress, setbusinessaddress] = useState([])\n    const [tempaddress, settempaddress] = useState([])\n    const [loader, setLoader] = useState(false)\n    const [ErrorTexts, setErrorTexts] = useState([])\n\n    const onChange = (e) => {\n        // if (e.target.name === 'postcode') {\n        //     const chkLength = /^.{6,8}$/.test(e.target.value)\n        //     if (chkLength) {\n        //         setPostCodeError(false)\n        //     } else { setPostCodeError(true) }\n        //     // console.log(chkLength)\n        // }\n        if (e.target.name === 'email') {\n            const chkEmail = /\\S+@\\S+\\.\\S+/.test(e.target.value)\n            const err = { ...errors }\n            !chkEmail ? err.email = true : err.email = false\n            setErrors({ ...err })\n        }\n        if (e.target.name === 'sortcode') {\n            const err = { ...errors }\n            e.target.value.length !== 6 ? err.sortcode = true : err.sortcode = false\n            setErrors({ ...err })\n        }\n        if (e.target.name === 'accountnumber') {\n            const err = { ...errors }\n            e.target.value.length !== 8 ? err.accountNumber = true : err.accountNumber = false\n            setErrors({ ...err })\n        }\n        setuserinput({ ...userinput, [e.target.name]: e.target.value })\n    }\n\n\n    const addressChange = (item) => {\n        const index1 = +item.value\n        setuserinput({ ...userinput, address: item.label, country: tempaddress[index1].country, city: tempaddress[index1].town_or_city })\n    }\n\n    const handleCustomPostCode = (e) => {\n        setuserinput({ ...userinput, country: '', address: '', city: '' })\n        if (e.target.checked) {\n            setCustomPostCode(false)\n        } else {\n            setCustomPostCode(true)\n        }\n    }\n\n    const hanldeAuthPerson = (e) => {\n        if (e.target.checked) {\n            setuserinput({ ...userinput, isneedmorethenonepersontoauth: true })\n        } else {\n            setuserinput({ ...userinput, isneedmorethenonepersontoauth: false })\n        }\n    }\n\n    const searchPostcode = () => {\n        if (userinput.postcode) {\n            setpostcodefetching(true)\n            setbusinessaddress([])\n            setuserinput({ ...userinput, address: '', country: '', city: '' })\n            useJwt.ukAddressEndpoint({ postCode: userinput.postcode }).then(res => {\n                const { addresses } = res.data.payload\n                // console.log(addresses)\n                if (!addresses.length) {\n                    setshowCustomPostCode(true)\n                } else { setshowCustomPostCode(false) }\n                setCustomPostCode(true)\n                const data = addresses.map((item, index) => {\n                    const format = item.formatted_address.filter(item => item).splice(0, 1).toString()\n                    return { value: index, label: format }\n                })  //convert to string\n                setpostcodefetching(false)\n                setbusinessaddress(data)\n                settempaddress(addresses)\n                // setuserinput({ ...userinput })\n            })\n                .catch(err => {\n                    setpostcodefetching(false)\n                    Error(err)\n                    setshowCustomPostCode(true)\n                })\n        }\n    }\n\n    const handleContinue = () => {\n        setConditionalRendering({\n            showDDSForm: false,\n            showDDSDetails: true,\n            showDDSConfirmation: false\n        })\n    }\n    const onSubmit = (e) => {\n        e.preventDefault()\n        // if (!userinput.address && userinput.postcode) {\n        //     searchPostcode()\n        // }\n        // setcontinueBtn(true)\n        // const { IBAN, IBANsortCode, accountnumber, address, city, companyname, country, email, firstname, lastname, postcode, sortcode, accountholdername, customerid, isneedmorethenonepersontoauth } = userinput\n        const { accountnumber, address, city, email, firstname, lastname, postcode, sortcode, accountholdername } = userinput\n\n        const err = { ...errors }\n        !address ? err.address = true : err.address = false\n        setErrors({ ...err })\n\n        if (!address || errors.email || errors.sortcode || errors.accountNumber) {\n            return\n        }\n\n        setLoader(true)\n        // console.log({\n        //     accountnumber, address, city, email, firstname, lastname, postcode, sortcode, accountholdername\n        // })\n\n        \n        // useJwt.DDScreateCustomer({ address, city, email, firstname, lastname, postcode }).then(res => {\n        // console.log(userinput)    \n        useJwt.customerBusinessRegistration({...userinput}).then(res => {\n            //console.log(res)\n            window.location.href = res.data.payload.payment_url\n            // window.location.href = res.data.payload.payment_url\n            \n        }).catch(error => {\n            setLoader(false)\n            Error(error.response)\n                // console.log(error.response.data.message)\n                console.log(error.response)\n          \n        })\n    }\n    return (\n        <div className='m-0'>\n            <Card>\n                {/* <CardHeader className='border-bottom'>\n                    <CardTitle tag='h3'>Set Your Direct Debit Account First</CardTitle>\n                    <div>\n                    </div>\n                </CardHeader> */}\n                <Form className=\"p-2\" style={{ width: '100%' }} onSubmit={onSubmit} autoComplete=\"off\">\n                    <Row>\n                        {!!ErrorTexts.length && <Col md='12'>\n                            <Alert color='danger' className='p-1'>\n                                <ul>\n                                    {\n                                        ErrorTexts.map((err, i) => <li key={i}>{`${err.message}`}</li>)\n                                    }\n                                </ul>\n                            </Alert>\n                        </Col>}\n                        <Col md='4' className=\"mb-1\">\n                            <Label >{showCompanyName ? 'Company name' : 'First Name'}</Label>\n                            {!showCompanyName ? <Input\n                                required\n                                placeholder=\"Firstname\"\n                                type='text'\n                                name='firstname'\n                                value={userinput.firstname}\n                                onChange={onChange}\n                            /> : <Input\n                                required\n                                placeholder=\"Your Company Name\"\n                                type='text'\n                                name='companyname'\n                                value={userinput.companyname}\n                                onChange={onChange}\n                            />}\n                        </Col>\n\n                        {!showCompanyName && <Col md='4' className=\"mb-1\">\n                            <Label >Last Name</Label>\n                            <Input\n                                required\n                                placeholder=\"Lastname\"\n                                type='text'\n                                name='lastname'\n                                value={userinput.lastname}\n                                onChange={onChange}\n                            />\n                        </Col>}\n                        <Col md='4' className=\"mb-1\">\n                            <Label >Email</Label>\n                            <Input\n                                required\n                                placeholder=\"Your Email\"\n                                type='email'\n                                name='email'\n                                value={userinput.email}\n                                onChange={onChange}\n                            />\n                            {errors.email && <small style={{ color: 'red' }}>Please enter a valid email</small>}\n                        </Col>\n\n                        <Col md='4' className=\"mb-1\">\n                            <Label >Account Holder Name</Label>\n                            <Input\n                                required\n                                placeholder=\"Account Holder Name\"\n                                type='text'\n                                name='accountholdername'\n                                value={userinput.accountholdername}\n                                onChange={onChange}\n                                disabled={!userinput.isnewaccount}\n                            />\n                        </Col>\n                        <Col md='4' className=\"mb-1\">\n                            <Label >{userinput.isibn && 'IBAN'} Sort Code</Label>\n                            <Input\n                                required\n                                placeholder='Sort Code'\n                                type='number'\n                                name='sortcode'\n                                value={userinput.sortcode}\n                                onChange={onChange}\n                                disabled={!userinput.isnewaccount}\n                            />\n                            {errors.sortcode && <small style={{ color: 'red' }}>must be 6 character</small>}\n                        </Col>\n\n                        <Col md='4' className=\"mb-1\">\n                            <Label >{userinput.isibn ? 'IBAN' : 'Account Number'} </Label>\n                            <Input\n                                required\n                                placeholder='Account Number'\n                                type='number'\n                                name='accountnumber'\n                                value={userinput.accountnumber}\n                                onChange={onChange}\n                                disabled={!userinput.isnewaccount}\n                            />\n                            {errors.accountNumber && <small style={{ color: 'red' }}>must be 8 character</small>}\n                        </Col>\n\n                        <Col md='12'>\n                            <hr />\n                            <Card>\n                                <Row>\n                                    <Col md='4'>\n                                        <FormGroup>\n                                            <Label for='postcode'>Post Code<span style={{ color: 'red' }}>*</span></Label>\n                                            <InputGroup className='input-group-merge mb-1'>\n                                                <InputGroupAddon addonType='prepend'>\n                                                    <InputGroupText>\n                                                        <Search size={14} />\n                                                    </InputGroupText>\n                                                </InputGroupAddon>\n                                                <Input type='text'\n                                                    name='postcode'\n                                                    id='postcode'\n                                                    placeholder='Post Code'\n                                                    value={userinput.postcode}\n                                                    onChange={onChange}\n                                                    required\n                                                />\n                                                <InputGroupAddon addonType='append'>\n                                                    {postcodefetching ? <Button style={{ paddingBottom: '9px' }} color='primary' outline disabled>\n                                                        <Spinner color='primary' size='sm' />\n                                                    </Button> : <Button color='primary' outline onClick={searchPostcode}>\n                                                        Search\n                                                    </Button>\n                                                    }\n                                                </InputGroupAddon>\n                                                <div className=\"p-0 m-0 w-100\">\n                                                    {showCustomPostCode && !PostCodeError && <small style={{ color: 'red' }}> postcode notfound</small>}\n                                                </div>\n                                                <div className=\"p-0 m-0 w-100\">\n                                                    {PostCodeError && <small style={{ color: 'red' }}> postcode must be 6 to 8 character</small>}\n                                                </div>\n                                                {/* {errors && errors.postcode && <FormFeedback>{errors.postcode.message}</FormFeedback>} */}\n                                            </InputGroup>\n                                            {showCustomPostCode && <CustomInput type='checkbox' id={'postcode1'} value={'CPC'} onChange={handleCustomPostCode} inline label='Click here to enter your address manually' />}\n                                        </FormGroup>\n                                    </Col>\n                                    <Col md='3' sm='12'>\n                                        <FormGroup>\n                                            <Label for='address'>Address <span style={{ color: 'red' }}>*</span></Label>\n                                            {\n                                                businessaddress.length ? <Select\n                                                    styles={{\n                                                        control: (base, state) => ({\n                                                            ...base,\n                                                            borderColor: '#7367f0'\n                                                        })\n                                                    }}\n                                                    maxMenuHeight={150}\n                                                    theme={selectThemeColors}\n                                                    className='react-select'\n                                                    classNamePrefix='select'\n                                                    name=\"address\"\n                                                    required\n                                                    onChange={addressChange}\n                                                    // defaultValue={businessaddress[0]}\n                                                    options={businessaddress}\n                                                    isClearable={false}\n                                                /> : <Input\n                                                    type='text'\n                                                    required\n                                                    onChange={onChange}\n                                                    value={userinput.address}\n                                                    disabled={CustomPostCode}\n                                                    name='address'\n                                                    placeholder='Address' />\n                                            }\n                                            {errors.address && !userinput.address && <small style={{ color: 'red' }}>Address is required</small>}\n                                        </FormGroup>\n                                    </Col>\n                                    <Col md='3' sm='12'>\n                                        <FormGroup>\n                                            <Label for='country'>Country <span style={{ color: 'red' }}>*</span></Label>\n                                            <Input onChange={onChange} type='text' required name='country' value={userinput.country} disabled={CustomPostCode} id='country' placeholder='Country' />\n                                        </FormGroup>\n                                    </Col>\n\n                                    <Col md='2' sm='12'>\n                                        <FormGroup>\n                                            <Label for='city'>City <span style={{ color: 'red' }}>*</span></Label>\n                                            <Input onChange={onChange} type='text' required name='city' value={userinput.city} disabled={CustomPostCode} id='city' placeholder='City' />\n                                        </FormGroup>\n                                    </Col>\n                                </Row>\n                            </Card>\n                        </Col>\n\n                        <Col md='12' >\n                            <small>You may cancel this Direct Debit at any time by contacting Rilac or your bank</small>\n                        </Col>\n\n                        <Col md='12' className='text-center'>\n                            {loader ? <Button.Ripple className='ml-2' color='primary' disabled style={{ marginTop: '22px' }}>\n                                <Spinner size='sm' />\n                                <span className='align-middle ml-50'>Loading...</span>\n                            </Button.Ripple> : <Button.Ripple className='ml-2' color='primary' style={{ marginTop: '22px' }} type=\"submit\">\n                                <Send size={15} />\n                                <span className='align-middle ml-50'>Submit</span>\n                            </Button.Ripple>}\n\n                        </Col>\n                    </Row>\n                </Form>\n            </Card>\n        </div>\n    )\n}\n\nexport default GoCardless","import { useSkin } from \"@hooks/useSkin\"\nimport useJwt from \"@src/auth/jwt/useJwt\"\nimport { AbilityContext } from \"@src/utility/context/Can\"\nimport \"@styles/base/pages/page-auth.scss\"\nimport Avatar from '@components/avatar'\nimport { isObjEmpty, selectThemeColors, getHomeRouteForLoggedInUser } from \"@utils\"\nimport classnames from \"classnames\"\nimport { Fragment, useContext, useEffect, useRef, useState } from \"react\"\nimport { Coffee, Plus, Send } from \"react-feather\"\nimport { useForm } from \"react-hook-form\"\nimport { useDispatch } from \"react-redux\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { Slide, toast } from 'react-toastify'\nimport Select from 'react-select'\nimport {\n    Button, Col, CustomInput,\n    Form,\n    FormGroup,\n    Input,\n    Label,\n    Row,\n    Spinner\n} from \"reactstrap\"\nimport pms from '../../../assets/images/icons/RILAC-Logo.svg'\nimport { PaymentElement, CardNumberElement, CardExpiryElement, CardCvcElement, useStripe, useElements, Elements } from '@stripe/react-stripe-js'\nimport { KeyboardReturn } from \"@mui/icons-material\"\nimport { loadStripe } from \"@stripe/stripe-js\"\nimport { handleLogin } from \"../../../redux/actions/auth\"\nimport {BMS_USER, BMS_PASS} from '../../../Configurables'\nimport { Error, Success } from \"../../viewhelper\"\n\nconst ToastContent = ({ name, role }) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='success' icon={<Coffee size={12} />} />\n        <h6 className='toast-title font-weight-bold'>Welcome, {name}</h6>\n      </div>\n    </div>\n    <div className='toastify-body'>\n      <span>You have successfully logged in as an {role} user to system. Now you can start to explore. Enjoy!</span>\n    </div>\n  </Fragment>\n)\n\nconst PaypalCardForm = () => {\n    const ability = useContext(AbilityContext)\n\n    const [skin, setSkin] = useSkin()\n\n    const history = useHistory()\n\n    const dispatch = useDispatch()\n\n    const { register, errors, handleSubmit, trigger } = useForm()\n\n    const [valErrors, setValErrors] = useState({})\n    const [docerror, setdocerror] = useState({})\n    const [stripePromise, setStripePromise] = useState('')\n    const [isLoad, setIsLoad] = useState(false)\n    const [amount, setAmount] = useState(0)\n    const [loader, setLoader] = useState(false)\n    const stripe = useStripe()\n    const elements = useElements()\n    const childFunc = useRef(null)\n\n    const CARD_ELEMENT_OPTIONS = {\n        style: {\n          base: {\n            lineHeight: \"27px\",\n            color: \"#212529\",\n            fontSize: \"1.1rem\",\n            \"::placeholder\": {\n              color: \"#aab7c4\"\n            }\n          },\n          invalid: {\n            color: \"#fa755a\",\n            iconColor: \"#fa755a\"\n          }\n        }\n      }\n\n      // const handleSuccessAlert = () => {\n      //   setDisabledModal(!disabledModal)\n      // }\n\n      const [userInput, setUserInput] = useState({\n        ...JSON.parse(localStorage.getItem('planDetails')),\n        // businessname: '',\n        // email: '',\n        // mobile: '',\n        // password: '',\n        // country: 'UK',\n        // businesscategoryids: 0,\n        // status: 1,\n        // logo: '',\n        // city: '',\n        // city_id: 0,\n        // web_login: true,\n        card_name: '',\n        card_number: '',\n        card_address: '',\n        card_expiry: '',\n        card_cvc: '',\n        paymentMethodId: '',\n        payment_method_id: 2,\n        sub_type: \"monthly\"\n    })\n\n    // useEffect(async () => {\n    //     console.log(\"start use effect\")\n    //     useJwt.stripeData().then(async res => {\n    //         const payload1 = res.data.payload\n    //         setStripePromise(loadStripe(payload1.publishableKey))\n    //         setIsLoad(true)\n    //         console.log(payload1)\n    //         console.log(\"inside then use effect\")\n\n    //     }).catch(err => {\n    //         console.log(\"inside catch use effect\")\n    //         console.log(err)\n    //         Error(err)\n    //     })\n    //     // setAmount(parseFloat(localStorage.getItem('amount')))\n    //     setAmount(parseFloat(50))\n    // }, [])\n\n    const illustration =\n        skin === \"dark\" ? \"register-v2-dark.svg\" : \"register-v2.svg\",\n        source = require(`@src/assets/images/pages/${illustration}`).default\n\n    const onSubmit = async (e) => {\n        e.preventDefault()\n        \n        //un comment down\n        setIsLoad(true)\n        if (!stripe || !elements) {\n            // Stripe.js has not yet loaded.\n            // Make sure to disable form submission until Stripe.js has loaded.\n            setIsLoad(false)\n            return\n        }\n\n        const paymentMethodObj = {\n            type: 'card',\n            card: elements.getElement(CardNumberElement)\n            // billing_details: {\n            //   name\n            // }\n          }\n          console.log(paymentMethodObj)\n          await stripe.createPaymentMethod(paymentMethodObj).then(async (data) => {\n\n            // if (!data.error) {\n\n              // console.log(data)\n              console.log(data.paymentMethod.id)\n              console.log({ ...userInput, paymentMethodId: data.paymentMethod.id })\n              // setUserInput({ ...userInput, paymentMethodId: data.paymentMethod.id })\n\n              const handleServerResponse = async (response) => {\n                if (response.data.payload.error) {\n                  // Show error from server on payment form\n                  setIsLoad(false)\n                  alert(response.data.payload.error)\n                } else if (response.data.payload.requiresAction) {\n                  // Use Stripe.js to handle the required card action\n                  const { error: errorAction, paymentIntent } =\n                    await stripe.handleCardAction(response.data.payload.clientSecret)\n                  if (errorAction) {\n                    // Show error from Stripe.js in payment form\n                    setIsLoad(false)\n                    alert(errorAction)\n                  } else {\n                    // The card action has been handled\n                    // The PaymentIntent can be confirmed again on the server\n                    useJwt.payByStripe(\n                      {\n                        paymentIntentId: paymentIntent?.id\n                      }).then(async res => {\n                        const payload1 = res.data.payload\n                        handleServerResponse(payload1)\n                      }).catch(err => {\n                        Error(err)\n                      })\n                  }\n                } else {\n                  // Show success message\n                  setIsLoad(false)\n                  console.log(response)\n                  // handleSuccessAlert()\n                  Success(response) \n                  history.push('/vendordashboard')\n\n                }\n              }\n    \n                  await useJwt.quotaRequestPayByStripe({ ...userInput, paymentMethodId: data.paymentMethod.id }).then(async res => {\n                    console.log(res)\n                    const payload1 = res.data.payload\n                    setIsLoad(false)\n                    handleServerResponse(res)\n                    \n                 }).catch(error => {\n                  setIsLoad(false)\n                  Error(error.response)\n                        // console.log(error.response.data.message)\n                        Error(error)\n                        console.log(error.response)\n                  \n                })\n\n          }).catch(e => {\n            console.log(e)\n          })     \n          \n    }\n\n    return (\n        <div className=\"\">\n         \n            <Form\n                action=\"/\"\n                className=\"auth-register-form\"\n                onSubmit={onSubmit}\n            >\n                <Row>\n                    {/* <Col sm='12'>\n                        <FormGroup>\n                            <Label className=\"form-label\" for=\"businessname\">\n                                Card Owner Name\n                            </Label>\n                            <Input\n                                type=\"text\"\n                                value={userInput.businessname}\n                                placeholder=\"John\"\n                                id=\"businessname\"\n                                name=\"businessname\"\n                                onChange={(e) => setUserInput({ ...userInput, businessname: e.target.value })}\n                            />\n                        </FormGroup>\n                    </Col> */}\n                    <Col sm='12'>\n                        <FormGroup>\n                            <Label className=\"form-label\" for=\"businessname\">\n                                Card Number\n                            </Label>\n                            <CardNumberElement\n                                type=\"text\"\n                                value={userInput.card_number}\n                                placeholder=\"1234****\"\n                                id=\"cc-number\"\n                                name=\"businessname\"\n                                options={CARD_ELEMENT_OPTIONS}\n                                onBlur={() => {\n                                    console.log(\"CardNumberElement [blur]\", event.target.value)\n                                  }}\n                                // onChange={(e) => setUserInput({ ...userInput, card_number: e.target.value })}\n                                // onChange={(e) =>  console.log(`card number ${e.target.value}`)}\n                            />\n                        </FormGroup>\n                    </Col>\n                    <Col sm='6'>\n                        <FormGroup>\n                            <Label className=\"form-label\" for=\"card-expiry\">\n                                Card Expiry\n                            </Label>\n                            <CardExpiryElement\n                                type=\"text\"\n                                value={userInput.card_expiry}\n                                placeholder=\"MM/YYYY\"\n                                id=\"expiry\"\n                                name=\"expiry\"\n                                options={CARD_ELEMENT_OPTIONS}\n                                // onChange={(e) => setUserInput({ ...userInput, card_expiry: e.target.value })}\n                                // onChange={(e) =>  console.log(`card expiry ${e.target.value}`)}\n\n                            />\n                        </FormGroup>\n                    </Col>\n                    <Col sm='6'>\n                        <FormGroup>\n                            <Label className=\"form-label\" for=\"businessname\">\n                                CVC\n                            </Label>\n                            <CardCvcElement\n                                type=\"text\"\n                                value={userInput.card_cvc}\n                                placeholder=\"MM/YYYY\"\n                                id=\"cvc\"\n                                name=\"cvc\"\n                                options={CARD_ELEMENT_OPTIONS}\n                                // onChange={(e) => setUserInput({ ...userInput, card_cvc: e.target.value })}\n                                // onChange={(e) =>  console.log(`card cvc ${e}`)}\n\n                            />\n                        </FormGroup>\n                    </Col>\n                    <Col md='12' className='text-center'>\n                            {isLoad ? <Button.Ripple className='ml-2' color='primary' disabled style={{ marginTop: '22px' }}>\n                                <Spinner size='sm' />\n                                <span className='align-middle ml-50'>Loading...</span>\n                            </Button.Ripple> : <Button.Ripple className='ml-2' color='primary' style={{ marginTop: '22px' }} type=\"submit\">\n                                <Send size={15} />\n                                <span className='align-middle ml-50'>Submit</span>\n                            </Button.Ripple>}\n\n                        </Col>\n                </Row>\n\n                {/* <Button.Ripple type=\"submit\" block color=\"primary\">\n                    Sign Up\n                </Button.Ripple> */}\n            </Form>\n            </div>\n    )\n}\n\nexport default PaypalCardForm","import { useSkin } from \"@hooks/useSkin\"\nimport useJwt from \"@src/auth/jwt/useJwt\"\nimport { AbilityContext } from \"@src/utility/context/Can\"\nimport \"@styles/base/pages/page-auth.scss\"\nimport { isObjEmpty, selectThemeColors } from \"@utils\"\nimport classnames from \"classnames\"\nimport { Fragment, useContext, useEffect, useRef, useState } from \"react\"\nimport { Plus } from \"react-feather\"\nimport { useForm } from \"react-hook-form\"\nimport { useDispatch } from \"react-redux\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport Select from 'react-select'\nimport { Button, CustomInput,  Card, CardBody, Col, Nav, NavItem, NavLink, Row, TabHeader, TabContent, TabPane, FormGroup, Input, Label, Spinner } from \"reactstrap\"\nimport pms from '../../../assets/images/icons/RILAC-Logo.svg'\nimport { PaymentElement, CardNumberElement, CardExpiryElement, CardCvcElement, useStripe, useElements, Elements } from '@stripe/react-stripe-js'\nimport { KeyboardReturn } from \"@mui/icons-material\"\nimport { loadStripe } from \"@stripe/stripe-js\"\nimport PaypalCardForm from \"./PaypalCardForm\"\nimport GoCardless from \"../../pages/authentication/GoCardless\"\n\n\nconst TestCreditCardDetails = () => {\n    const ability = useContext(AbilityContext)\n\n    const [skin, setSkin] = useSkin()\n\n    const history = useHistory()\n\n    const dispatch = useDispatch()\n\n    const { register, errors, handleSubmit, trigger } = useForm()\n\n    const [valErrors, setValErrors] = useState({})\n    const [docerror, setdocerror] = useState({})\n    const [stripePromise, setStripePromise] = useState('')\n    const [isLoad, setIsLoad] = useState(false)\n    const [amount, setAmount] = useState(0)\n    // let stripe = useStripe()\n    // let elements = useElements()\n    const childFunc = useRef(null)\n    // const [activeTab, setActiveTab] = useState('1')\n    const toggle = tab => setActiveTab(tab)\n\n    const [planDetails, setPlanDetails] = useState({...JSON.parse(localStorage.getItem('planDetails'))})\n\n    // setAmount(planDetails.price_onetime)\n\n    const [userInput, setUserInput] = useState({\n        ...JSON.parse(localStorage.getItem('registration_data')),\n        // businessname: '',\n        // email: '',\n        // mobile: '',\n        // password: '',\n        country: 'UK',\n        // businesscategoryids: 0,\n        // status: 1,\n        // logo: '',\n        // city: '',\n        // city_id: 0,\n        // web_login: true,\n        // card_name: '',\n        // card_number: '',\n        // card_address: '',\n        // card_expiry: '',\n        // card_cvc: '',\n        payment_method_id: 2\n\n    })\n\n    useEffect(async () => {\n        console.log(\"start use effect\")\n        useJwt.stripeData().then(async res => {\n            const payload1 = res.data.payload\n            setStripePromise(loadStripe(payload1.publishableKey))\n            setIsLoad(true)\n            console.log(payload1)\n            console.log(\"inside then use effect\")\n\n        }).catch(err => {\n            console.log(\"inside catch use effect\")\n            console.log(err)\n            Error(err)\n        })\n        // setAmount(parseFloat(localStorage.getItem('amount')))\n        setAmount(parseFloat(50))\n        console.log(planDetails)\n    }, [])\n\n    const illustration =\n        skin === \"dark\" ? \"register-v2-dark.svg\" : \"register-v2.svg\",\n        source = require(`@src/assets/images/pages/${illustration}`).default\n\n    const onSubmit = async (e) => {\n        e.preventDefault()\n        // console.log({\n        //     mobile: mobileNumber,\n        //     email,\n        //     firstname: firstName,\n        //     lastname: lastName\n        // })\n        // if (isObjEmpty(errors)) {\n        //     useJwt\n        //         .merchentregister({\n        //             mobile: mobileNumber,\n        //             email,\n        //             firstname: firstName,\n        //             lastname: lastName\n        //         })\n        //         .then((res) => {\n        //             console.log(res.data, res.data.payload, \"showing response\")\n\n        //             if (\n        //                 res.data.issuccess &&\n        //                 res.data.payload.mobile_match &&\n        //                 res.data.payload.is_registered\n        //             ) {\n        //                 history.push(\"/login\")\n        //             } else if (\n        //                 res.data.issuccess &&\n        //                 res.data.payload.mobile_match &&\n        //                 res.data.payload.is_registered === false\n        //             ) {\n        //                 localStorage.setItem(\"mobilenumber\", mobileNumber)\n        //                 history.push(\"/merchantsetpassword\")\n        //             }\n        //         })\n        //         .catch((err) => console.log(err))\n        // }\n\n        setIsLoad(true)\n\n        if (!stripe || !elements) {\n            // Stripe.js has not yet loaded.\n            // Make sure to disable form submission until Stripe.js has loaded.\n            setIsLoad(false)\n            \n        }\n\n  \n        //   useJwt.payByStripe(\n        //     {\n        //       useStripeSdk: true,\n        //       paymentIntentId: null,\n        //       paymentMethodId: paymentMethodResult.paymentMethod.id,\n        //       currency: \"gbp\",\n        //       amount\n        //     }).then(async res => {\n        //       const payload1 = res.data.payload\n        //       handleServerResponse(payload1)\n        //     }).catch(err => {\n        //       Error(err)\n        //     })\n          \n    }\n\n    return (\n      <div>\n\n      <Card style={{ maxWidth: \"768px\" }} className=\"mx-auto my-4\">\n      <CardBody className='pt-2'>\n        <Nav pills className=\"border-bottom pb-1\">\n          <NavItem>\n            <NavLink>\n            <Button.Ripple \n                                color='primary'\n                                style={{ cursor: 'pointer' }}\n                                onClick={(e) => {\n                                    history.goBack()\n                                }}\n                            >Go Back</Button.Ripple>\n                             \n              {/* <span className='align-middle d-none d-sm-block'>Go Back</span> */}\n            </NavLink>\n          </NavItem>\n        </Nav>\n        <Nav pills className=\"border-bottom pb-1\">\n          <NavItem>\n          <h4>\n          Payment Info\n        </h4>\n          </NavItem>\n        </Nav>\n        {/* <TabContent activeTab={activeTab}> */}\n        <TabContent>\n          {/* <TabPane tabId='1'> */}\n          <TabPane>\n          {isLoad ? <Elements stripe={stripePromise}>\n            <PaypalCardForm amount={planDetails.price_onetime} childFunc={childFunc} ></PaypalCardForm>\n            </Elements > : <div className='d-flex justify-content-center'>\n                <Spinner className='mt-5'/>\n            </div>\n            }\n          </TabPane>\n          {/* <TabPane tabId='2'>\n            <GoCardless />\n          </TabPane> */}\n        </TabContent>\n      </CardBody>\n    </Card>\n      </div>\n    )\n}\n\nexport default TestCreditCardDetails","import { Fragment, useState } from 'react'\nimport { toast, Slide } from 'react-toastify'\n\n    export const Error = (err) => {\n        try {\n            const e = err.response\n            if (e.status === 404 || e.status === 401 || e.status === 400 || e.status === 500 || e.status === 409) {\n                toast.error(e.data.message, {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n            } else  {\n                toast.error('The server is under maintenance', {\n                    position: \"top-right\",\n                    autoClose: 5000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined\n                    }) \n            }\n        } catch (e) {\n            toast.error('Please check your connection', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n        }\n \n    }\n\n    export const ErrorMessage = (err) => {\n        try {\n        const e = err.response\n        if (e.status === 404 || e.status === 401 || e.status === 400) {\n            toast.error(e.data.errors ? e.data.errors[Object.keys(e.data.errors)[0]] : e.data.message, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n            })  \n         }\n        } catch (e) {\n            toast.error('Please check your connection', {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                })  \n        } \n    }\n    export const Success = (response) => {\n        const message = response.data.message || 'success'\n        toast.success(message, {\n            position: \"top-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n            })  \n    }\n\n"],"sourceRoot":""}