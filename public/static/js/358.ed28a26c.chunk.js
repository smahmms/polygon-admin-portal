(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[358],{2652:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a(1750),o=a(1822),n=a(452),r=a(446),c=a(445),l=a(449),d=a(450),g=a(451),p=a(442),u=a(437),b=a(460),j=a.n(b),m=a(444),h=a.n(m),O=a(651),f=a(532),x=a(535),C=a(530),N=a(465),v=a(1657),k=a(463),y=a(1680),P=(a(448),a(5));var T=e=>{let{modal:t,toggleModal:a,notificationInfo:i,setnotificationInfo:o,setReset:n,resetData:r}=e;const[c,l]=Object(s.useState)(!1);return Object(P.jsxs)(f.a,{isOpen:t,toggle:a,className:"modal-dialog-centered",children:[Object(P.jsx)(x.a,{toggle:a,children:"Notification Details"}),Object(P.jsx)(C.a,{children:Object(P.jsxs)(N.a,{className:"row",style:{width:"100%"},autoComplete:"off",children:[Object(P.jsx)(g.a,{sm:"12",children:Object(P.jsxs)(v.a,{children:[Object(P.jsx)(k.a,{for:"Notification_Title",children:"Title"}),Object(P.jsx)(y.a,{type:"text",name:"Notification_Title",id:"Notification_Title",value:i.Notification_Title,disabled:!0,placeholder:"your title"})]})}),Object(P.jsx)(g.a,{sm:"12",children:Object(P.jsxs)(v.a,{children:[Object(P.jsx)(k.a,{for:"Notification_Body",children:"Message"}),Object(P.jsx)(y.a,{type:"textarea",name:"Notification_Body",id:"Notification_Body",value:i.Notification_Body,disabled:!0,placeholder:"your message"})]})})]})})]})};const B=h()(j.a);t.default=()=>{const[e,t]=Object(s.useState)(!0),[a,b]=Object(s.useState)(!0),[m,h]=Object(s.useState)([]),[f,x]=Object(s.useState)({}),[C,N]=Object(s.useState)(!1);Object(s.useEffect)((()=>{p.a.getNotifications().then((e=>{console.log(e),h(e.data.payload),t(!1)})).catch((e=>{Object(u.a)(e),console.log(e),t(!1)}))}),[a]);const v=[{name:"Title",minWidth:"100px",sortable:!0,selector:e=>e.Notification_Title.slice(0,20)},{name:"Message",minWidth:"100px",sortable:!0,selector:e=>e.Notification_Body.slice(0,20)},{name:"Send Via SMS",minWidth:"100px",sortable:!0,selector:e=>({true:{title:"True"},false:{title:"False"}}[e.viaSMS].title)},{name:"Send Via Email",minWidth:"100px",sortable:!0,selector:e=>({true:{title:"True"},false:{title:"False"}}[e.viaEmail].title)},{name:"Send Via Push Notification",minWidth:"100px",sortable:!0,selector:e=>({true:{title:"True"},false:{title:"False"}}[e.viaPushNotification].title)},{name:"Action",minWidth:"150px",selector:e=>Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("span",{title:"Edit",children:Object(P.jsx)(i.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:t=>{x(e),N(!0)}})}),"\xa0\xa0",Object(P.jsx)("span",{title:"Delete",children:Object(P.jsx)(o.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:t=>{return a=e.id,s="Do you want to delete?",B.fire({title:s,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:()=>{const e=parseInt(a);return p.a.deleteNotifications({id:e}).then((e=>{Object(u.c)(e),console.log(e),h(m.filter((e=>e.id!==a)))})).catch((e=>{console.log(e.response),Object(u.a)(e)}))},buttonsStyling:!1,allowOutsideClick:()=>!j.a.isLoading()}).then((function(e){e.isConfirmed}));var a,s}})})]})}];return Object(P.jsxs)(n.a,{children:[Object(P.jsx)(r.a,{className:"border-bottom",children:Object(P.jsx)(c.a,{tag:"h4",children:"All Notifications"})}),Object(P.jsxs)(l.a,{children:[Object(P.jsx)(d.a,{children:Object(P.jsx)(g.a,{md:"12",children:Object(P.jsx)(O.a,{column:v,TableData:m,TableDataLoading:e})})}),Object(P.jsx)(T,{toggleModal:()=>N(!C),modal:C,resetData:a,setReset:b,notificationInfo:f,setnotificationInfo:x})]})]})}},437:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return n}));a(0);var s=a(107);const i=e=>{try{const t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?s.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=e=>{try{const t=e.response;404!==t.status&&401!==t.status&&400!==t.status||s.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=e=>{const t=e.data.message||"success";s.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},651:function(e,t,a){"use strict";var s=a(0),i=a(1719),o=a(467),n=a(471),r=a.n(n),c=a(474),l=a.n(c),d=a(5);t.a=e=>{let{column:t,TableData:a,TableDataLoading:n}=e;const[c,g]=Object(s.useState)(0);return Object(d.jsx)(s.Fragment,{children:Object(d.jsx)(l.a,{noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(d.jsx)(i.a,{size:10}),paginationDefaultPage:c+1,paginationComponent:()=>Object(d.jsx)(r.a,{previousLabel:"",nextLabel:"",forcePage:c,onPageChange:e=>(e=>{g(e.selected)})(e),pageCount:a.length?a.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"}),data:a,progressPending:n,progressComponent:Object(d.jsx)(o.a,{color:"primary"}),responsive:!0})})}}}]);
//# sourceMappingURL=358.ed28a26c.chunk.js.map