(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[61],{2395:function(e,a,t){"use strict";t.r(a);var s=t(442),l=t(475),c=t(0),i=t(1720),o=t(1682),r=t(711),n=t(440),d=t(461),j=t(448),b=t(432),u=t(452),p=t(446),h=t(445),m=t(449),g=t(465),x=t(451),O=t(1654),_=t(450),y=t(1657),f=t(463),v=t(1680),C=t(467),k=t(503),S=t(437),N=t(880),D=t(1034),w=t(1459),R=t.n(w),F=(t(728),t(5));a.default=()=>{const e=localStorage.getItem("accessToken"),a=Object(r.g)(),t=Object(c.useRef)(),w=Object(c.useRef)(),A=Object(c.useRef)(),q=(Object(c.useRef)(),Object(c.useRef)(),Object(c.useRef)()),T=Object(c.useRef)(),B=Object(c.useRef)(),I=Object(c.useRef)(),[P,M]=Object(c.useState)((()=>N.EditorState.createEmpty())),[L,H]=Object(c.useState)(!1),[E,z]=Object(c.useState)([]),[U,W]=Object(c.useState)([]),[J,G]=Object(c.useState)(null),[Q,Z]=Object(c.useState)(null),[V,X]=Object(c.useState)(null),[K,Y]=Object(c.useState)(null),[$,ee]=Object(c.useState)(null),[ae,te]=Object(c.useState)({}),[se,le]=Object(c.useState)({}),[ce,ie]=Object(c.useState)({}),[oe,re]=Object(c.useState)({}),ne=JSON.parse(localStorage.getItem("userData")),[de,je]=Object(c.useState)([]),[be,ue]=Object(c.useState)([]),[pe,he]=Object(c.useState)([]),[me,ge]=Object(c.useState)([]),[xe,Oe]=Object(c.useState)([]),[_e,ye]=Object(c.useState)([]),[fe,ve]=(Object(c.useRef)(),Object(c.useState)({fb_page_post_body:"",fb_page_post_image:"",sms_body:"",push_notification_title:"",push_notification_body:"",push_notification_image:"",email_title:"",email_body:"",email_attachment:"",instagram_body:"",instagram_image:"",rule_id:0,group_id:0,qouta_id:0,adRule_id:0,effective_date:null,expiry_date:null,isScheduled:!1,isRepeat:!1,repeat_type:"",repeat_time:0,is_rule_base_notification:!1,is_Ad:!1,isAdScheduled:!1,startDate:"",endDate:"",repeat_start_date:null,repeat_day:"",repeat_month_day:"",fb_page_post_category_ids:[],facebookpage_subcategory_localuids:[],black_list_group_id:[]})),Ce=e=>{ve({...fe,[e.target.name]:e.target.value})};Object(c.useEffect)((async()=>{l.a.runningcampaignList().then((e=>{he(e.data.payload)})).catch((e=>{Object(S.a)(e)})),s.a.getCampaignChannelList().then((e=>{console.log(e),W(e.data.payload)})).catch((e=>{Object(S.a)(e),console.log(e)})),s.a.getCentralGroup().then((e=>{console.log(e);const a=[];for(const t of e.data.payload)!0===t.is_approved&&a.push(t);z(a)})).catch((e=>{Object(S.a)(e),console.log(e.response)})),s.a.getQuotaList().then((e=>{console.log(e);const a=[];for(const t of e.data.payload)!0===t.is_approved&&a.push(t);je(a)})).catch((e=>{Object(S.a)(e),console.log(e)})),s.a.adRuleList().then((e=>{console.log(e);const a=[];for(const t of e.data.payload)!0===t.is_approved&&a.push(t);ue(a)})).catch((e=>{Object(S.a)(e),console.log(e)})),s.a.getFbpageCategory().then((e=>{ge(e.data.payload.map((e=>({value:{id:e.uid,subcategory:e.subcategory},label:null===e||void 0===e?void 0:e.name}))))})).catch((e=>{console.log(e.response),Object(S.a)(e)})),s.a.allBlackList().then((e=>{console.log(e),ye(e.data.payload)})).catch((e=>{Object(S.a)(e),console.log(e)}))}),[]);const ke=async(e,a,t)=>{const l=new FormData;l.append("image",e),await s.a.singleFileupload(l).then((async s=>{console.log(s),fe[a]=await s.data.payload.image_url,ve({...fe}),e&&t(URL.createObjectURL(e))})).catch((e=>{console.log(e.response)}))};async function Se(a){return new Promise(((t,s)=>{const l=new XMLHttpRequest;l.open("POST","".concat(k.a,"/fileupload")),l.setRequestHeader("Authorization","Bearer ".concat(e)),l.setRequestHeader("Module","JW9tc0ByZWRsdGQl");const c=new FormData;c.append("image",a),l.send(c),l.addEventListener("load",(()=>{console.log(l.responseText);const e={data:{link:JSON.parse(l.responseText).payload,type:"image/".concat(JSON.parse(l.responseText).payload.split(".")[1])}};console.log(e),t(e)})),l.addEventListener("error",(()=>{const e=JSON.parse(l.responseText);s(e)}))}))}function Ne(e){let a=0,t=0,s=0,l=0;for(const i of e)i>="a"&&i<="z"||i>="A"&&i<="Z"?a++:i>="0"&&i<="9"?s++:/[\u{4E00}-\u{9FFF}\u{3400}-\u{4DBF}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B73F}\u{2B740}-\u{2B81F}\u{2B820}-\u{2CEAF}\u{2CEB0}-\u{2EBEF}\u{2F800}-\u{2FA1F}]/u.test(i)?t++:l++;const c=a+s+2*t+l;return console.log(a,s,t,l,c),c}return Object(F.jsxs)(c.Fragment,{children:["vendor"===ne.role?Object(F.jsx)(b.a.Ripple,{className:"mb-1",color:"primary",tag:n.b,to:"/allBulkNotificationsVendor",children:Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)(i.a,{size:17,style:{marginRight:"5px"}}),Object(F.jsx)("span",{children:"Back"})]})}):Object(F.jsx)(b.a.Ripple,{className:"mb-1",color:"primary",tag:n.b,to:"/allBulkNotifications",children:Object(F.jsxs)("div",{className:"d-flex align-items-center",children:[Object(F.jsx)(i.a,{size:17,style:{marginRight:"5px"}}),Object(F.jsx)("span",{children:"Back"})]})}),Object(F.jsxs)(u.a,{children:[Object(F.jsx)(p.a,{className:"border-bottom",children:Object(F.jsx)(h.a,{tag:"h4",children:"Create Bulk Notification"})}),Object(F.jsx)(m.a,{style:{paddingTop:"15px"},children:Object(F.jsxs)(g.a,{className:"row",style:{width:"100%"},onSubmit:e=>{e.preventDefault();let{group_id:t,qouta_id:l,adRule_id:c,rule_id:i}=fe;t=parseInt(ae.value),l=1,c=parseInt(ce.value),i=parseInt(oe.value),console.log({...fe,group_id:t,qouta_id:l,adRule_id:c,rule_id:i,facebookpage_subcategory_ids:fe.facebookpage_subcategory_localuids}),H(!0),s.a.createBulkNotification({...fe,group_id:t,qouta_id:l,adRule_id:c,rule_id:i,facebookpage_subcategory_ids:fe.facebookpage_subcategory_localuids}).then((e=>{console.log(e),H(!1),Object(S.c)(e),a.push("/allBulkNotifications")})).catch((e=>{H(!1),console.log(e),Object(S.a)(e),console.log(e)}))},autoComplete:"off",children:[0!==U.length?U.map((e=>e.bulk_notification&&Object(F.jsx)(x.a,{sm:"12",className:"mb-1",children:Object(F.jsxs)(u.a,{children:[Object(F.jsxs)(p.a,{className:"border-bottom",children:[Object(F.jsx)(h.a,{tag:"h6",children:e.key_name.replace(/_/g," ").toUpperCase()}),Object(F.jsx)(O.a,{type:"switch",onChange:a=>{a.target.checked?ve({...fe,[e.key_name]:!0}):ve({...fe,[e.key_name]:!1})},id:e.channel_name})]}),fe[e.key_name]&&"sms"===e.key_name&&Object(F.jsx)(m.a,{style:{paddingTop:"15px"},children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(x.a,{sm:"6",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"sms_from",children:["From",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"text",name:"sms_from",id:"sms_from",value:fe.sms_from,onChange:Ce,required:!0,placeholder:"from here..."})]})}),Object(F.jsx)(x.a,{sm:"12",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"body",children:["body",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"textarea",name:"sms_body",id:"sms_body",value:fe.sms_body,onChange:Ce,maxlength:"160",required:!0,placeholder:"your message"}),Object(F.jsxs)("p",{className:"text-right",style:160===fe.sms_body.length?{margin:"2px",color:"red"}:{margin:"2px",color:"blue"},children:[160-Ne(fe.sms_body)," characters remaining"]})]})})]})}),fe[e.key_name]&&"email"===e.key_name&&Object(F.jsx)(m.a,{style:{paddingTop:"15px"},children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(x.a,{sm:"6",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"title",children:["Subject",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"text",name:"email_title",id:"email_title",value:fe.email_title,onChange:Ce,required:!0,placeholder:"subject here..."})]})}),Object(F.jsx)(x.a,{sm:"12",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"body",children:["body",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(D.Editor,{editorState:P,ref:I,toolbar:{blockType:{inDropdown:!1,className:"blockText",dropdownClassName:"blockTextDown"},image:{uploadCallback:Se,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:{present:!0,mandatory:!1}}},onEditorStateChange:e=>{ve({...fe,email_body:R()(Object(N.convertToRaw)(e.getCurrentContent()))}),M(e)}}),Object(F.jsx)(v.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>{var a;return null===(a=I.current.select)||void 0===a?void 0:a.focus()},value:(null===fe||void 0===fe?void 0:fe.email_body)||"",onChange:e=>""})]})}),Object(F.jsxs)(x.a,{md:"12",className:"mb-2",children:[Object(F.jsx)(f.a,{for:"voucherImage",children:"Upload Attachment"}),Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{className:"file position-relative overflow-hidden mr-2",children:[Object(F.jsxs)("div",{className:"text-center p-1",style:{height:"102px",width:"102px",border:"1px dashed #d9d9d9",backgroundColor:"#fafafa"},children:[Object(F.jsx)("span",{children:Object(F.jsx)(o.a,{size:20,className:"my-1"})})," ",Object(F.jsx)("br",{}),Object(F.jsx)("span",{children:"Upload"})]}),Object(F.jsx)(v.a,{style:{position:"absolute",opacity:"0",left:"0",top:"0",height:"102px",width:"102px",cursor:"pointer"},type:"file",accept:"image/png, image/jpeg",name:"voucherImage",id:"voucherImage",onChange:e=>{ke(e.target.files[0],"email_attachment",Z)}})]}),Q&&Object(F.jsx)("img",{src:Q,alt:"voucher img",height:"100px"})]})]})]})}),fe[e.key_name]&&"push_notification"===e.key_name&&Object(F.jsx)(m.a,{style:{paddingTop:"15px"},children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(x.a,{sm:"6",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"push_from",children:["From",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"text",name:"push_from",id:"push_from",value:fe.push_from,onChange:Ce,required:!0,placeholder:"from here..."})]})}),Object(F.jsx)(x.a,{sm:"6",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"title",children:["Title",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"text",name:"push_notification_title",id:"push_notification_title",value:fe.push_notification_title,onChange:Ce,required:!0,placeholder:"your title"})]})}),Object(F.jsx)(x.a,{sm:"12",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"body",children:["body",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"textarea",name:"push_notification_body",id:"push_notification_body",value:fe.push_notification_body,onChange:Ce,maxlength:"160",required:!0,placeholder:"your message"}),Object(F.jsxs)("p",{className:"text-right",style:160===fe.push_notification_body.length?{margin:"2px",color:"red"}:{margin:"2px",color:"blue"},children:[160-fe.push_notification_body.length," characters remaining"]})]})}),Object(F.jsxs)(x.a,{md:"12",className:"mb-1",children:[Object(F.jsx)(f.a,{for:"voucherImage",children:"Upload Image"}),Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{className:"file position-relative overflow-hidden mr-2",children:[Object(F.jsxs)("div",{className:"text-center p-1",style:{height:"102px",width:"102px",border:"1px dashed #d9d9d9",backgroundColor:"#fafafa"},children:[Object(F.jsx)("span",{children:Object(F.jsx)(o.a,{size:20,className:"my-1"})})," ",Object(F.jsx)("br",{}),Object(F.jsx)("span",{children:"Upload"})]}),Object(F.jsx)(v.a,{style:{position:"absolute",opacity:"0",left:"0",top:"0",height:"102px",width:"102px",cursor:"pointer"},type:"file",accept:"image/png, image/jpeg",name:"voucherImage",id:"voucherImage",onChange:e=>{ke(e.target.files[0],"push_notification_image",X)}})]}),V&&Object(F.jsx)("img",{src:V,alt:"voucher img",height:"100px"})]})]})]})}),fe[e.key_name]&&("fb_page_post"===e.key_name||"instagram"===e.key_name)&&Object(F.jsx)(m.a,{style:{paddingTop:"15px"},children:Object(F.jsxs)(_.a,{children:[Object(F.jsx)(x.a,{sm:"12",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"body",children:["body",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"textarea",name:"fb_page_post"===e.key_name?"fb_page_post_body":"instagram_body",id:"fb_page_post_body",value:"fb_page_post"===e.key_name?fe.fb_page_post_body:fe.instagram_body,onChange:Ce,required:!0,placeholder:"your message"})]})}),Object(F.jsx)(x.a,{md:"6",sm:"6",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"fb_page_post_category_ids",children:["Facebook Page Category ",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),me.length?Object(F.jsx)(d.a,{ref:t,theme:j.i,className:"basic-multi-select",classNamePrefix:"select",name:"businesscategories",options:me,onChange:e=>(e=>{const a=[],t=[];console.log("selected ",e),e.length&&e[e.length-1].value.subcategory&&e.map((e=>{e.value.subcategory.map((e=>{a.push(e)})),t.push(e.value.id)})),0===e.length?(Oe([]),ve({...fe,fb_page_post_category_ids:[]})):(Oe(a.length?a:xe),ve({...fe,fb_page_post_category_ids:t}))})(e),isMulti:!0,isClearable:!1}):Object(F.jsx)(C.a,{color:"primary"}),Object(F.jsx)(v.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>t.current.select.focus(),value:fe.fb_page_post_category_ids||"",onChange:e=>""})]})}),0!==(null===xe||void 0===xe?void 0:xe.length)&&Object(F.jsx)(x.a,{sm:"4",children:Object(F.jsxs)(y.a,{children:[Object(F.jsx)(f.a,{for:"facebookpage_subcategory_localuid",children:"Facebook Page Sub Category"}),Object(F.jsx)(d.a,{theme:j.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:e=>(e=>{ve({...fe,facebookpage_subcategory_localuids:e.map((e=>e.value))})})(e),isMulti:!0,isClearable:!1,options:null===xe||void 0===xe?void 0:xe.map((e=>({value:e.uid,label:e.name})))})]})}),Object(F.jsxs)(x.a,{md:"12",className:"mb-1",children:[Object(F.jsx)(f.a,{for:"voucherImage",children:"Upload Image"}),Object(F.jsxs)("div",{className:"d-flex",children:[Object(F.jsxs)("div",{className:"file position-relative overflow-hidden mr-2",children:[Object(F.jsxs)("div",{className:"text-center p-1",style:{height:"102px",width:"102px",border:"1px dashed #d9d9d9",backgroundColor:"#fafafa"},children:[Object(F.jsx)("span",{children:Object(F.jsx)(o.a,{size:20,className:"my-1"})})," ",Object(F.jsx)("br",{}),Object(F.jsx)("span",{children:"Upload"})]}),Object(F.jsx)(v.a,{style:{position:"absolute",opacity:"0",left:"0",top:"0",height:"102px",width:"102px",cursor:"pointer"},type:"file",accept:"image/png, image/jpeg",name:"voucherImage",id:"voucherImage",onChange:a=>{ke(a.target.files[0],"fb_page_post"===e.key_name?"fb_page_post_image":"instagram_image","fb_page_post"===e.key_name?Y:ee)}})]}),K&&"fb_page_post"===e.key_name?Object(F.jsx)("img",{src:K,alt:"voucher img",height:"100px"}):$&&"instagram"===e.key_name?Object(F.jsx)("img",{src:$,alt:"voucher img",height:"100px"}):null]})]})]})})]})},e.id))):Object(F.jsx)(x.a,{sm:"12",className:"text-center",children:Object(F.jsx)(C.a,{color:"blue",size:"md",className:"m-3"})}),Object(F.jsx)(x.a,{sm:"3",className:"mb-2 mt-1",children:Object(F.jsx)(y.a,{children:Object(F.jsx)(O.a,{type:"switch",onChange:e=>{e.target.checked?(ve({...fe,is_rule_base_notification:!0}),te({})):(ve({...fe,is_rule_base_notification:!1}),re({}))},id:"is_rule_base_notification",label:"Is Campaign Base Notification?"})})}),fe.is_rule_base_notification&&Object(F.jsx)(x.a,{sm:"3",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"groups",children:["Select Campaign",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(d.a,{theme:j.i,maxMenuHeight:200,className:"react-select",id:"group",classNamePrefix:"select",value:{value:oe.value,label:oe.label?oe.label:"select..."},onChange:e=>{re({value:e.value,label:e.label})},options:null===pe||void 0===pe?void 0:pe.map((e=>({value:e.id,label:e.campaign_name}))),ref:w}),Object(F.jsx)(v.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>w.current.select.focus(),value:(null===oe||void 0===oe?void 0:oe.value)||"",onChange:e=>""})]})}),!fe.is_rule_base_notification&&Object(F.jsx)(x.a,{sm:"3",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"groups",children:["Group",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(d.a,{theme:j.i,maxMenuHeight:200,className:"react-select",id:"group",classNamePrefix:"select",value:{value:ae.value,label:ae.label?ae.label:"select..."},onChange:e=>{te({value:e.value,label:e.label})},options:null===E||void 0===E?void 0:E.map((e=>({value:e.id,label:e.group_name}))),ref:A}),Object(F.jsx)(v.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>A.current.select.focus(),value:(null===ae||void 0===ae?void 0:ae.value)||"",onChange:e=>""})]})}),Object(F.jsx)(x.a,{sm:"12"}),Object(F.jsx)(x.a,{sm:"3",className:"mb-1 mt-1",children:Object(F.jsx)(y.a,{children:Object(F.jsx)(O.a,{type:"switch",onChange:e=>{e.target.checked?ve({...fe,is_Ad:!0,isScheduled:!1,isRepeat:!1}):(ve({...fe,is_Ad:!1,isAdScheduled:!1}),ie({}))},id:"is_Ad",label:"Is AD?"})})}),fe.is_Ad&&!1,Object(F.jsx)(x.a,{sm:"12"}),fe.is_Ad&&Object(F.jsx)(x.a,{sm:"3",className:"mb-1 mt-1",children:Object(F.jsx)(y.a,{children:Object(F.jsx)(O.a,{type:"switch",onChange:e=>{e.target.checked?ve({...fe,isAdScheduled:!0}):ve({...fe,isAdScheduled:!1,startDate:null,endDate:null})},id:"isAdScheduled",label:"Is Ad Scheduled?"})})}),fe.isAdScheduled&&Object(F.jsx)(x.a,{md:"4",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"startDate",children:["Start Date",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"datetime-local",min:(new Date).toLocaleDateString("fr-CA"),name:"startDate",id:"startDate",value:fe.startDate,onChange:Ce,required:!0,placeholder:"0"})]})}),fe.isAdScheduled&&Object(F.jsx)(x.a,{md:"4",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"endDate",children:["End Date",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"datetime-local",min:(new Date).toLocaleDateString("fr-CA"),name:"endDate",id:"endDate",value:fe.endDate,onChange:Ce,required:!0,placeholder:"0"})]})}),Object(F.jsx)(x.a,{sm:"3",className:"mb-1 mt-1",children:Object(F.jsx)(y.a,{children:Object(F.jsx)(O.a,{type:"switch",onChange:e=>{e.target.checked?ve({...fe,isScheduled:!0,isRepeat:!1}):ve({...fe,isScheduled:!1,effective_date:null})},id:"isScheduled",checked:fe.isScheduled,label:"Is Scheduled?"})})}),fe.isScheduled&&Object(F.jsx)(x.a,{md:"4",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"effective_date",children:["Scheduled Date",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"datetime-local",min:(new Date).toLocaleDateString("fr-CA"),name:"effective_date",id:"effective_date",value:fe.effective_date,onChange:Ce,required:!0,placeholder:"0"})]})}),Object(F.jsx)(x.a,{sm:"12"}),Object(F.jsx)(x.a,{sm:"3",className:"mb-1 mt-1",children:Object(F.jsx)(y.a,{children:Object(F.jsx)(O.a,{type:"switch",onChange:e=>{e.target.checked?ve({...fe,isRepeat:!0,isScheduled:!1}):ve({...fe,isRepeat:!1,expiry_date:null,repeat_type:"",repeat_time:null})},id:"isRepeat",checked:fe.isRepeat,label:"Is Repeat?"})})}),fe.isRepeat&&Object(F.jsx)(x.a,{md:"4",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"startDate",children:["Start Date",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"date",min:(new Date).toLocaleDateString("fr-CA"),name:"repeat_start_date",id:"repeat_start_date",value:fe.repeat_start_date,onChange:Ce,required:!0,placeholder:"0"})]})}),fe.isRepeat&&Object(F.jsx)(x.a,{md:"4",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"expiry_Date",children:["Expiry Date",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"date",min:(new Date).toLocaleDateString("fr-CA"),name:"expiry_date",id:"expiry_date",value:fe.expiry_date,onChange:Ce,required:!0,placeholder:"0"})]})}),fe.isRepeat&&Object(F.jsx)(x.a,{sm:"4",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"repeat_type",children:["Repeat Type",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(d.a,{theme:j.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:e=>{ve({...fe,repeat_type:e.value})},options:[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"}],ref:B}),Object(F.jsx)(v.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>B.current.select.focus(),value:(null===fe||void 0===fe?void 0:fe.repeat_type)||"",onChange:e=>""})]})}),fe.isRepeat&&"Monthly"===fe.repeat_type&&Object(F.jsx)(x.a,{md:"3",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"startDate",children:["Date of Month",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(d.a,{theme:j.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:e=>{if(e){const a=e.map((e=>e.label));ve({...fe,repeat_month_day:a.toString()})}else ve({...fe,repeat_month_day:""})},options:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"},{value:12,label:"12"},{value:13,label:"13"},{value:14,label:"14"},{value:15,label:"15"},{value:16,label:"16"},{value:17,label:"17"},{value:18,label:"18"},{value:19,label:"19"},{value:20,label:"20"},{value:21,label:"21"},{value:22,label:"22"},{value:23,label:"23"},{value:24,label:"24"},{value:25,label:"25"},{value:26,label:"26"},{value:27,label:"27"},{value:28,label:"28"},{value:29,label:"29"},{value:30,label:"30"},{value:31,label:"31"}],menuPlacement:"auto",ref:T,isMulti:!0}),Object(F.jsx)(v.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>T.current.select.focus(),value:(null===fe||void 0===fe?void 0:fe.repeat_month_day)||"",onChange:e=>""})]})}),fe.isRepeat&&"Weekly"===fe.repeat_type&&Object(F.jsx)(x.a,{md:"3",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"startDate",children:["Day",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(d.a,{theme:j.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:e=>{if(e){const a=e.map((e=>e.label));ve({...fe,repeat_day:a.toString()})}else ve({...fe,repeat_day:""})},options:[{value:"Saturday",label:"Saturday"},{value:"Sunday",label:"Sunday"},{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"}],menuPlacement:"auto",ref:q,isMulti:!0}),Object(F.jsx)(v.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>q.current.select.focus(),value:(null===fe||void 0===fe?void 0:fe.repeat_day)||"",onChange:e=>""})]})}),fe.isRepeat&&("Daily"===fe.repeat_type||"Weekly"===fe.repeat_type||"Monthly"===fe.repeat_type)&&Object(F.jsx)(x.a,{md:"3",children:Object(F.jsxs)(y.a,{children:[Object(F.jsxs)(f.a,{for:"startDate",children:["Time",Object(F.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(F.jsx)(v.a,{type:"time",min:(new Date).toLocaleDateString("fr-CA"),name:"repeat_time",id:"repeat_time",value:fe.repeat_time,onChange:Ce,required:!0,placeholder:"0"})]})}),Object(F.jsx)(x.a,{sm:"12",className:"text-center",children:L?Object(F.jsxs)(b.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(F.jsx)(C.a,{color:"white",size:"sm"}),Object(F.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(F.jsx)(b.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(F.jsx)("span",{children:"Submit"})})})]})})]})]})}},437:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return c})),t.d(a,"c",(function(){return i}));t(0);var s=t(107);const l=e=>{try{const a=e.response;404===a.status||401===a.status||400===a.status||500===a.status||409===a.status?s.f.error(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=e=>{try{const a=e.response;404!==a.status&&401!==a.status&&400!==a.status||s.f.error(a.data.errors?a.data.errors[Object.keys(a.data.errors)[0]]:a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},i=e=>{const a=e.data.message||"success";s.f.success(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},728:function(e,a,t){}}]);
//# sourceMappingURL=61.a92002d7.chunk.js.map