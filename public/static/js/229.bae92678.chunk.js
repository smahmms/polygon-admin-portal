(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[229],{2409:function(e,t,s){"use strict";s.r(t);var a=s(0),r=s(1720),n=s(1682),o=s(1681),c=s(432),i=s(452),l=s(446),d=s(445),u=s(449),p=s(465),b=s(451),j=s(1657),h=s(463),g=s(1680),m=s(1654),f=s(549),O=s(467),v=s(475),y=s(803),x=s(437),k=s(711),T=s(440),C=s(461),_=s(448),N=s(5);const w=[{value:1,label:"Active"},{value:0,label:"InActive"}],M=[{value:"sender",label:"Sender"},{value:"receiver",label:"Receiver"},{value:"both",label:"Both Sender & Receiver"}];t.default=()=>{const e=Object(k.g)(),t=Object(a.useRef)(),[s,P]=Object(a.useState)(!0),[R,S]=Object(a.useState)(!1),[z,A]=Object(a.useState)(!0),[E,B]=Object(a.useState)({value:"",label:"select..."}),[D,q]=Object(a.useState)([{value:null,label:"All"}]),[L,F]=Object(a.useState)([]),[H,I]=Object(a.useState)([{skustartrange:"",skuendrange:"",skupoints:"",receiverpoint:"",usertype:"sender"}]),W=()=>{let e=!0;for(let t=0;t<H.length;t++){if(("sender"===H[t].usertype||"both"===H[t].usertype)&&""===H[t].skupoints)return e=!1,!1;if(("receiver"===H[t].usertype||"both"===H[t].usertype)&&""===H[t].receiverpoint)return e=!1,!1;if(""===H[t].skustartrange)return e=!1,!1;if(""===H[t].skuendrange)return e=!1,!1}return A(e),e},[V,J]=Object(a.useState)({status:1,skuamount:0,skupoints:0,skustartrange:0,skuendrange:0,receiverpoint:0,usertype:"sender",product_id:null,isrange:!1,title:"",business_id:null,Tier:null,startdate:"",expiryDate:"",point_expiry_interval_days:365,productId:null,service_id:null});Object(a.useEffect)((async()=>{const[e,t]=await Promise.all([y.a.getServiceList().then((e=>{console.log("getServiceList",e);return e.data.map((e=>({value:{id:e.serviceId,keyword:e.serviceKeyword},label:e.serviceKeyword})))})).catch((e=>(console.log(e.response),[]))),v.a.tierList().then((e=>{console.log(e);const{payload:t}=e.data,s=t.map((e=>({value:e.id,label:e.tier})));return q([{value:null,label:"All"},...s]),null})).catch((e=>(console.log(e.response),null)))]);F(e),J({...V,service_id:e.length?e[0].value.id:0}),B(e.length?e[0]:{value:"",label:"select..."}),P(!1)}),[]);const K=e=>{J({...V,[e.target.name]:e.target.value})},G=(e,t)=>{W();const s=[...H];s[t]={...s[t],[e.target.name]:parseFloat(e.target.value)},I(s)};return Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(c.a.Ripple,{className:"mb-1",color:"primary",tag:T.b,to:"/servicePointRuleList",children:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)(r.a,{size:17,style:{marginRight:"5px"}}),Object(N.jsx)("span",{children:"Back"})]})}),Object(N.jsxs)(i.a,{children:[Object(N.jsx)(l.a,{className:"border-bottom",children:Object(N.jsx)(d.a,{tag:"h4",children:"Set Rule"})}),Object(N.jsx)(u.a,{style:{paddingTop:"15px"},children:Object(N.jsxs)(p.a,{className:"row",style:{width:"100%"},onSubmit:t=>{t.preventDefault();const{service_id:s,title:a,receiverpoint:r,Tier:n,usertype:o,status:c,startdate:i,expiryDate:l,point_expiry_interval_days:d,skuamount:u,skupoints:p,skustartrange:b,skuendrange:j,productId:h,isrange:g}=V,m=[],f={rule_name:a,is_sku_rule:!1,is_global_rule:!1,is_service_rule:!0,bussiness_id:null,is_range:g,is_active:1===c||!1,start_date:i,end_date:l,point_expiry_interval_days:+d,tire_id:n?+n:n,items:[]};f.is_range?H.map((e=>{m.push({product_id:null,service_id:s,start_range:+e.skustartrange,end_range:+e.skuendrange,point_receiver_type:e.usertype,sender_reward_point:+e.skupoints,receiver_reward_point:+e.receiverpoint})})):m.push({product_id:null,service_id:s,start_range:+u,end_range:null,point_receiver_type:o,sender_reward_point:+p,receiver_reward_point:+r}),f.items=m,console.log("body ",f),S(!0),v.a.pmsPointRuleCreate(f).then((t=>{S(!1),Object(x.c)({data:{message:t.data.payload.msg}}),e.push("/servicePointRuleList")})).catch((e=>{S(!1),Object(x.a)(e),console.log(e.response)}))},autoComplete:"off",children:[Object(N.jsx)(b.a,{md:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(h.a,{for:"voucherValue",children:"Title"}),Object(N.jsx)(g.a,{type:"text",name:"title",id:"title",value:V.title,onChange:K,required:!0,placeholder:"title"})]})}),Object(N.jsx)(b.a,{sm:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(h.a,{for:"Business",children:["Service Type ",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(C.a,{ref:t,theme:_.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:e=>{B(e),J({...V,service_id:e.value.id})},value:E,options:L}),Object(N.jsx)(g.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>t.current.select.focus(),value:E.value||"",onChange:e=>""})]})}),Object(N.jsx)(b.a,{md:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(h.a,{for:"Business",children:"Select a Tier"}),Object(N.jsx)(C.a,{theme:_.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",defaultValue:D[0],onChange:e=>J({...V,Tier:e.value}),options:D})]})}),Object(N.jsx)(b.a,{md:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(h.a,{for:"Business",children:"Status"}),Object(N.jsx)(C.a,{theme:_.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",defaultValue:w[0],onChange:e=>{J({...V,status:e.value})},options:w})]})}),Object(N.jsx)(b.a,{md:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(h.a,{for:"startdate",children:["Start Date",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(g.a,{type:"date",min:(new Date).toLocaleDateString("fr-CA"),name:"startdate",id:"startdate",value:V.startdate,onChange:K,required:!0,placeholder:"0"})]})}),Object(N.jsx)(b.a,{md:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(h.a,{for:"expiryDate",children:["Expiry Date",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(g.a,{type:"date",min:(new Date).toLocaleDateString("fr-CA"),name:"expiryDate",id:"expiryDate",value:V.expiryDate,onChange:K,required:!0,placeholder:"0"})]})}),Object(N.jsx)(b.a,{md:"4",children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(h.a,{for:"point_expiry_interval_days",children:"Point Expiry Interval (Days)"}),Object(N.jsx)(g.a,{type:"number",name:"point_expiry_interval_days",id:"point_expiry_interval_days",value:V.point_expiry_interval_days,onChange:K,min:0,placeholder:"0",onWheel:e=>e.target.blur()})]})}),Object(N.jsx)(b.a,{sm:"12",className:"mb-12",children:Object(N.jsx)(j.a,{children:Object(N.jsx)(m.a,{type:"switch",id:"isrange",name:"isrange",label:"Is Range?",onChange:e=>{e.target.checked?J({...V,isrange:!0}):J({...V,isrange:!1})}})})}),V.isrange?null:Object(N.jsxs)(a.Fragment,{children:[Object(N.jsx)(b.a,{sm:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(h.a,{for:"skuamount",children:["Minimum-Amount",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(g.a,{type:"number",name:"skuamount",id:"skuamount",value:V.skuamount,onChange:K,required:!0,min:1,placeholder:"0",onWheel:e=>e.target.blur()})]})}),Object(N.jsx)(b.a,{sm:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(h.a,{for:"isrange",children:"Point Receiver Type"}),Object(N.jsx)(C.a,{theme:_.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",defaultValue:M[0],onChange:e=>{J({...V,usertype:e.value})},options:M})]})}),"sender"===V.usertype||"both"===V.usertype?Object(N.jsx)(b.a,{sm:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(h.a,{for:"skupoints",children:["Sender Point Per Amount",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(g.a,{type:"number",name:"skupoints",id:"skupoints",value:V.skupoints,onChange:K,required:!0,min:0,placeholder:"0",step:1,onWheel:e=>e.target.blur()})]})}):null,"receiver"===V.usertype||"both"===V.usertype?Object(N.jsx)(b.a,{sm:"3",children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(h.a,{for:"skupoints",children:["Receiver Point Per Amount",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(g.a,{type:"number",name:"receiverpoint",id:"receiverpoint",value:V.receiverpoint,onChange:K,required:!0,min:0,placeholder:"0",step:1,onWheel:e=>e.target.blur()})]})}):null]}),!!V.isrange&&Object(N.jsx)(b.a,{md:"12",children:Object(N.jsxs)(f.a,{bordered:!0,responsive:!0,children:[Object(N.jsx)("thead",{style:{background:"white"},children:Object(N.jsxs)("tr",{children:[Object(N.jsxs)("th",{style:{background:"white"},children:["Start Range",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsxs)("th",{style:{background:"white"},children:["End Range",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)("th",{style:{background:"white"},children:"Point Receiver Type"}),Object(N.jsxs)("th",{style:{background:"white"},children:["Sender Point Per Amount",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsxs)("th",{style:{background:"white"},children:["Receiver Point Per Amount",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)("th",{style:{background:"white"},children:"Action"})]})}),Object(N.jsx)("tbody",{children:H.map(((e,t)=>(console.log("row ",e),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:Object(N.jsx)(g.a,{type:"number",name:"skustartrange",id:"skustartrange".concat(t),value:e.skustartrange,min:t>0?Number(H[t-1].skuendrange)+.01:0,onChange:e=>G(e,t),required:!0,placeholder:"0",onWheel:e=>e.target.blur(),step:"any"})}),Object(N.jsx)("td",{children:Object(N.jsx)(g.a,{type:"number",name:"skuendrange",id:"skuendrange".concat(t),value:e.skuendrange,min:e.skustartrange||0,step:"any",onChange:e=>G(e,t),required:!0,placeholder:"0",onWheel:e=>e.target.blur()})}),Object(N.jsx)("td",{children:Object(N.jsx)(C.a,{theme:_.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",defaultValue:M[0],onChange:e=>((e,t)=>{const s=[...H];s[t]={...s[t],usertype:e.value},I(s)})(e,t),options:M})}),Object(N.jsx)("td",{children:Object(N.jsx)(g.a,{type:"number",name:"skupoints",id:"skupoints".concat(t),value:e.skupoints,min:0,step:1,onChange:e=>G(e,t),required:!0,placeholder:"0",onWheel:e=>e.target.blur(),disabled:"receiver"===e.usertype})}),Object(N.jsx)("td",{children:Object(N.jsx)(g.a,{type:"number",name:"receiverpoint",id:"receiverpoints".concat(t),value:e.receiverpoint,min:0,step:1,onChange:e=>G(e,t),required:!0,placeholder:"0",onWheel:e=>e.target.blur(),disabled:"sender"===e.usertype})}),Object(N.jsxs)("td",{children:[Object(N.jsx)(c.a.Ripple,{size:"sm",color:"info",type:z?"submit":"button",onClick:e=>(e=>{e.preventDefault(),console.log("chkRangeInputValues() ",W()),W()&&(I([...H,{skustartrange:Number(H[H.length-1].skuendrange)+.01,skuendrange:"",skupoints:"",receiverpoint:"",usertype:"sender"}]),A(!0))})(e),children:Object(N.jsx)(n.a,{size:15})}),"\xa0\xa0",H.length>1&&Object(N.jsx)(c.a.Ripple,{size:"sm",color:"danger",onClick:e=>{I(H.filter(((e,s)=>s!==t)))},children:Object(N.jsx)(o.a,{size:15})})]})]},t))))})]})}),Object(N.jsx)(b.a,{sm:"12",className:"text-center",children:R?Object(N.jsxs)(c.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(N.jsx)(O.a,{color:"white",size:"sm"}),Object(N.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(N.jsx)(c.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(N.jsx)("span",{children:"Submit"})})})]})})]})]})}},437:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return o}));s(0);var a=s(107);const r=e=>{try{const t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?a.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):a.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=e=>{try{const t=e.response;404!==t.status&&401!==t.status&&400!==t.status||a.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=e=>{const t=e.data.message||"success";a.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},445:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,s=e.cssModule,n=e.tag,c=Object(r.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(t,"card-title"),s);return o.a.createElement(n,Object(a.a)({},c,{className:i}))};b.propTypes=p,b.defaultProps={tag:"div"},t.a=b},446:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,s=e.cssModule,n=e.tag,c=Object(r.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(t,"card-header"),s);return o.a.createElement(n,Object(a.a)({},c,{className:i}))};b.propTypes=p,b.defaultProps={tag:"div"},t.a=b},449:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b=function(e){var t=e.className,s=e.cssModule,n=e.innerRef,c=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(u.mapToCssModules)(d()(t,"card-body"),s);return o.a.createElement(c,Object(a.a)({},i,{className:l,ref:n}))};b.propTypes=p,b.defaultProps={tag:"div"},t.a=b},451:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p=i.a.oneOfType([i.a.number,i.a.string]),b=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:p,offset:p})]),j={tag:u.tagPropType,xs:b,sm:b,md:b,lg:b,xl:b,className:i.a.string,cssModule:i.a.object,widths:i.a.array},h={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,t,s){return!0===s||""===s?e?"col":"col-"+t:"auto"===s?e?"col-auto":"col-"+t+"-auto":e?"col-"+s:"col-"+t+"-"+s},m=function(e){var t=e.className,s=e.cssModule,n=e.widths,c=e.tag,i=Object(r.a)(e,["className","cssModule","widths","tag"]),l=[];n.forEach((function(t,a){var r=e[t];if(delete i[t],r||""===r){var n=!a;if(Object(u.isObject)(r)){var o,c=n?"-":"-"+t+"-",p=g(n,t,r.size);l.push(Object(u.mapToCssModules)(d()(((o={})[p]=r.size||""===r.size,o["order"+c+r.order]=r.order||0===r.order,o["offset"+c+r.offset]=r.offset||0===r.offset,o)),s))}else{var b=g(n,t,r);l.push(b)}}})),l.length||l.push("col");var p=Object(u.mapToCssModules)(d()(t,l),s);return o.a.createElement(c,Object(a.a)({},i,{className:p}))};m.propTypes=j,m.defaultProps=h,t.a=m},452:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p={tag:u.tagPropType,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b=function(e){var t=e.className,s=e.cssModule,n=e.color,c=e.body,i=e.inverse,l=e.outline,p=e.tag,b=e.innerRef,j=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),h=Object(u.mapToCssModules)(d()(t,"card",!!i&&"text-white",!!c&&"card-body",!!n&&(l?"border":"bg")+"-"+n),s);return o.a.createElement(p,Object(a.a)({},j,{className:h,ref:b}))};b.propTypes=p,b.defaultProps={tag:"div"},t.a=b},463:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p=i.a.oneOfType([i.a.number,i.a.string]),b=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:p,order:p,offset:p})]),j={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,xs:b,sm:b,md:b,lg:b,xl:b,widths:i.a.array},h={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,t,s){return!0===s||""===s?e?"col":"col-"+t:"auto"===s?e?"col-auto":"col-"+t+"-auto":e?"col-"+s:"col-"+t+"-"+s},m=function(e){var t=e.className,s=e.cssModule,n=e.hidden,c=e.widths,i=e.tag,l=e.check,p=e.size,b=e.for,j=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),h=[];c.forEach((function(t,a){var r=e[t];if(delete j[t],r||""===r){var n,o=!a;if(Object(u.isObject)(r)){var c,i=o?"-":"-"+t+"-";n=g(o,t,r.size),h.push(Object(u.mapToCssModules)(d()(((c={})[n]=r.size||""===r.size,c["order"+i+r.order]=r.order||0===r.order,c["offset"+i+r.offset]=r.offset||0===r.offset,c))),s)}else n=g(o,t,r),h.push(n)}}));var m=Object(u.mapToCssModules)(d()(t,!!n&&"sr-only",!!l&&"form-check-label",!!p&&"col-form-label-"+p,h,!!h.length&&"col-form-label"),s);return o.a.createElement(i,Object(a.a)({htmlFor:b},j,{className:m}))};m.propTypes=j,m.defaultProps=h,t.a=m},465:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(106),o=s(105),c=s(0),i=s.n(c),l=s(4),d=s.n(l),u=s(52),p=s.n(u),b=s(74),j={children:d.a.node,inline:d.a.bool,tag:b.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},h=function(e){function t(t){var s;return(s=e.call(this,t)||this).getRef=s.getRef.bind(Object(n.a)(s)),s.submit=s.submit.bind(Object(n.a)(s)),s}Object(o.a)(t,e);var s=t.prototype;return s.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},s.submit=function(){this.ref&&this.ref.submit()},s.render=function(){var e=this.props,t=e.className,s=e.cssModule,n=e.inline,o=e.tag,c=e.innerRef,l=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(b.mapToCssModules)(p()(t,!!n&&"form-inline"),s);return i.a.createElement(o,Object(a.a)({},l,{ref:c,className:d}))},t}(c.Component);h.propTypes=j,h.defaultProps={tag:"form"},t.a=h},467:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p={tag:u.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},b=function(e){var t=e.className,s=e.cssModule,n=e.type,c=e.size,i=e.color,l=e.children,p=e.tag,b=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),j=Object(u.mapToCssModules)(d()(t,!!c&&"spinner-"+n+"-"+c,"spinner-"+n,!!i&&"text-"+i),s);return o.a.createElement(p,Object(a.a)({role:"status"},b,{className:j}),l&&o.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",s)},l))};b.propTypes=p,b.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=b},549:function(e,t,s){"use strict";var a=s(13),r=s(18),n=s(0),o=s.n(n),c=s(4),i=s.n(c),l=s(52),d=s.n(l),u=s(74),p={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:u.tagPropType,responsiveTag:u.tagPropType,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},b=function(e){var t=e.className,s=e.cssModule,n=e.size,c=e.bordered,i=e.borderless,l=e.striped,p=e.dark,b=e.hover,j=e.responsive,h=e.tag,g=e.responsiveTag,m=e.innerRef,f=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),O=Object(u.mapToCssModules)(d()(t,"table",!!n&&"table-"+n,!!c&&"table-bordered",!!i&&"table-borderless",!!l&&"table-striped",!!p&&"table-dark",!!b&&"table-hover"),s),v=o.a.createElement(h,Object(a.a)({},f,{ref:m,className:O}));if(j){var y=Object(u.mapToCssModules)(!0===j?"table-responsive":"table-responsive-"+j,s);return o.a.createElement(g,{className:y},v)}return v};b.propTypes=p,b.defaultProps={tag:"table",responsiveTag:"div"},t.a=b},803:function(e,t,s){"use strict";var a=s(75),r=s.n(a),n=s(788),o=s(503);const c=r.a.create();class i{constructor(e){this.jwtConfig={...n.a},this.isAlreadyFetchingAccessToken=!1,this.subscribers=[],this.jwtConfig={...this.jwtConfig,...e},console.log("jwtOverrideConfig ",e),c.interceptors.request.use((e=>{console.log("config ",e);const t=this.getToken();return e.headers.Authorization="".concat(this.jwtConfig.tokenType," ").concat(t),e}),(e=>Promise.reject(e))),c.interceptors.response.use((e=>e),(e=>{const{config:t,response:s}=e,a=t;if(s&&401===s.status){console.log("response.status ",s.status),this.isAlreadyFetchingAccessToken?window.location.replace("logout"):(this.isAlreadyFetchingAccessToken=!0,this.refreshToken().then((e=>{this.isAlreadyFetchingAccessToken=!1,this.setToken(e.data.jwtToken),this.onAccessTokenFetched(e.data.jwtToken)})));return new Promise((e=>{this.addSubscriber((t=>{a.headers.Authorization="".concat(this.jwtConfig.tokenType," ").concat(t),e(c(a))}))}))}return Promise.reject(e)}))}onAccessTokenFetched(e){this.subscribers=this.subscribers.filter((t=>t(e)))}addSubscriber(e){this.subscribers.push(e)}getToken(){return localStorage.getItem("BMStoken")||null}setToken(e){localStorage.setItem("BMStoken",e)}refreshToken(){return c.post(this.jwtConfig.getBMStoken,{username:o.f,password:o.d})}login(){return c.post(this.jwtConfig.getBMStoken,{username:o.f,password:o.d})}bmsDashboard(){return c.get(this.jwtConfig.bmsDashboardEndpoint)}getServiceList(){return c.get(this.jwtConfig.serviceListEndpoint)}campaignList(){return c.get("".concat(this.jwtConfig.campaignEndpoint))}}const{jwtBMS:l}={jwtBMS:new i({})};t.a=l}}]);
//# sourceMappingURL=229.bae92678.chunk.js.map