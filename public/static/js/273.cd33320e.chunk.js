(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[273],{2388:function(e,s,t){"use strict";t.r(s);var a=t(442),r=t(0),c=t(461),n=t(448),o=t(1720),i=t(503),l=t(711),d=t(440),u=t(432),m=t(452),j=t(446),p=t(445),b=t(449),h=t(465),g=t(451),f=t(1657),O=t(463),y=t(1680),x=t(1654),v=t(467),_=t(437),N=t(5);s.default=()=>{const e=Object(l.g)(),[s,t]=Object(r.useState)(!1),T=Object(r.useRef)(),[M,C]=Object(r.useState)([]),[k,w]=Object(r.useState)(!0),[P,S]=Object(r.useState)({tier:"",point_required:0,is_point_required:!1,is_num_of_transaction:!1,num_of_transaction:0,is_amount_of_transaction:!1,amount_of_transaction:0,is_month_sustained:!1,months:0,status:!1,frequency:!1,is_service_type:!1,service_type:0}),q=e=>{S({...P,[e.target.name]:e.target.value})};Object(r.useEffect)((async()=>{localStorage.setItem("usePMStoken",!1),localStorage.setItem("useBMStoken",!0),await a.a.getServiceList().then((e=>{C(e.data),localStorage.setItem("useBMStoken",!1)})).catch((e=>{var s;401===(null===(s=e.response)||void 0===s?void 0:s.status)?(localStorage.setItem("BMSCall",!0),a.a.getBMStoken({username:i.f,password:i.d}).then((e=>{localStorage.setItem("BMStoken",e.data.jwtToken),localStorage.setItem("BMSCall",!1),w(!k)})).catch((e=>{localStorage.setItem("BMSCall",!1)}))):(Object(_.a)(e),localStorage.setItem("useBMStoken",!1))}))}),[k]);return Object(N.jsxs)(r.Fragment,{children:[Object(N.jsx)(u.a.Ripple,{className:"mb-1",color:"primary",tag:d.b,to:"/AllTiers",children:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(N.jsx)("span",{children:"Back"})]})}),Object(N.jsxs)(m.a,{children:[Object(N.jsx)(j.a,{className:"border-bottom",children:Object(N.jsx)(p.a,{tag:"h4",children:"Create Tier"})}),Object(N.jsx)(b.a,{style:{paddingTop:"15px"},children:Object(N.jsxs)(h.a,{className:"row",style:{width:"100%"},onSubmit:s=>{s.preventDefault();const{tier:r,point_required:c}=P;t(!0),a.a.tierCreate({...P}).then((s=>{t(!1),Object(_.c)(s),e.push("/AllTiers")})).catch((e=>{t(!1),Object(_.a)(e),console.log(e.response)}))},autoComplete:"off",children:[Object(N.jsx)(g.a,{sm:"4",children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(O.a,{for:"tier",children:["Tier Name",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(y.a,{type:"text",name:"tier",id:"tier",value:P.tier,onChange:q,required:!0,placeholder:"tier name"})]})}),Object(N.jsx)(g.a,{sm:"4",children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(O.a,{for:"point_required",children:["Required Point",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(y.a,{type:"number",name:"point_required",id:"point_required",min:0,value:P.point_required,onChange:q,required:!0,placeholder:"0"})]})}),Object(N.jsx)(g.a,{sm:"4",children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(O.a,{for:"num_of_transaction",children:["Number Of Transaction",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(y.a,{type:"number",name:"num_of_transaction",id:"num_of_transaction",min:0,value:P.num_of_transaction,onChange:q,required:!0,placeholder:"0"})]})}),Object(N.jsx)(g.a,{sm:"4",children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(O.a,{for:"amount_of_transaction",children:["Amount Of Transaction",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(y.a,{type:"number",name:"amount_of_transaction",id:"amount_of_transaction",min:0,value:P.amount_of_transaction,onChange:q,required:!0,placeholder:"0"})]})}),Object(N.jsx)(g.a,{sm:"4",children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(O.a,{for:"months",children:["Months",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(y.a,{type:"number",name:"months",id:"months",min:0,value:P.months,onChange:q,required:!0,placeholder:"0"})]})}),Object(N.jsx)(g.a,{sm:"4"}),Object(N.jsx)(g.a,{sm:"3",className:"mt-1",children:Object(N.jsx)(f.a,{children:Object(N.jsx)(x.a,{type:"switch",label:"Is Service Type?",id:"is_service_type",onChange:e=>{e.target.checked?S({...P,is_service_type:!0}):S({...P,is_service_type:!1,service_type:""})}})})}),P.is_service_type&&Object(N.jsx)(g.a,{sm:"4",children:Object(N.jsxs)(f.a,{children:[Object(N.jsxs)(O.a,{for:"serviceId",children:["Service Type",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(c.a,{ref:T,theme:n.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",onChange:e=>{S({...P,service_type:e.value})},options:null===M||void 0===M?void 0:M.map((e=>({value:e.serviceId,label:e.serviceKeyword}))),isLoading:0===M.length}),Object(N.jsx)(y.a,{required:!0,style:{opacity:0,width:"100%",height:0},onFocus:e=>T.current.select.focus(),value:P.service_type||"",onChange:e=>""})]})}),Object(N.jsx)(g.a,{sm:"3",className:"mt-1",children:Object(N.jsx)(f.a,{children:Object(N.jsx)(x.a,{type:"switch",label:"Is Point Required?",id:"is_point_required",onChange:e=>{e.target.checked?S({...P,is_point_required:!0}):S({...P,is_point_required:!1})}})})}),Object(N.jsx)(g.a,{sm:"4",className:"mt-1",children:Object(N.jsx)(f.a,{children:Object(N.jsx)(x.a,{type:"switch",label:"Is Number Of Transaction?",id:"is_num_of_transaction",onChange:e=>{e.target.checked?S({...P,is_num_of_transaction:!0}):S({...P,is_num_of_transaction:!1})}})})}),Object(N.jsx)(g.a,{sm:"4",className:"mt-1",children:Object(N.jsx)(f.a,{children:Object(N.jsx)(x.a,{type:"switch",label:"Is Amount Of Transaction?",id:"is_amount_of_transaction",onChange:e=>{e.target.checked?S({...P,is_amount_of_transaction:!0}):S({...P,is_amount_of_transaction:!1})}})})}),Object(N.jsx)(g.a,{sm:"3",className:"mt-1",children:Object(N.jsx)(f.a,{children:Object(N.jsx)(x.a,{type:"switch",label:"Is Month Sustained?",id:"is_month_sustained",onChange:e=>{e.target.checked?S({...P,is_month_sustained:!0}):S({...P,is_month_sustained:!1})}})})}),Object(N.jsx)(g.a,{sm:"3",className:"mt-1",children:Object(N.jsx)(f.a,{children:Object(N.jsx)(x.a,{type:"switch",label:"Status",id:"status",onChange:e=>{e.target.checked?S({...P,status:!0}):S({...P,status:!1})}})})}),Object(N.jsx)(g.a,{sm:"3",className:"mt-1",children:Object(N.jsx)(f.a,{children:Object(N.jsx)(x.a,{type:"switch",label:"Frequency",id:"frequency",onChange:e=>{e.target.checked?S({...P,frequency:!0}):S({...P,frequency:!1})}})})}),Object(N.jsx)(g.a,{sm:"12",className:"text-center",children:s?Object(N.jsxs)(u.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(N.jsx)(v.a,{color:"white",size:"sm"}),Object(N.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(N.jsx)(u.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(N.jsx)("span",{children:"Submit"})})})]})})]})]})}},437:function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"b",(function(){return c})),t.d(s,"c",(function(){return n}));t(0);var a=t(107);const r=e=>{try{const s=e.response;404===s.status||401===s.status||400===s.status||500===s.status||409===s.status?a.f.error(s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):a.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(s){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=e=>{try{const s=e.response;404!==s.status&&401!==s.status&&400!==s.status||a.f.error(s.data.errors?s.data.errors[Object.keys(s.data.errors)[0]]:s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(s){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=e=>{const s=e.data.message||"success";a.f.success(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},445:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(0),n=t.n(c),o=t(4),i=t.n(o),l=t(52),d=t.n(l),u=t(74),m={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var s=e.className,t=e.cssModule,c=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(s,"card-title"),t);return n.a.createElement(c,Object(a.a)({},o,{className:i}))};j.propTypes=m,j.defaultProps={tag:"div"},s.a=j},446:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(0),n=t.n(c),o=t(4),i=t.n(o),l=t(52),d=t.n(l),u=t(74),m={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var s=e.className,t=e.cssModule,c=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(s,"card-header"),t);return n.a.createElement(c,Object(a.a)({},o,{className:i}))};j.propTypes=m,j.defaultProps={tag:"div"},s.a=j},449:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(0),n=t.n(c),o=t(4),i=t.n(o),l=t(52),d=t.n(l),u=t(74),m={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},j=function(e){var s=e.className,t=e.cssModule,c=e.innerRef,o=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(u.mapToCssModules)(d()(s,"card-body"),t);return n.a.createElement(o,Object(a.a)({},i,{className:l,ref:c}))};j.propTypes=m,j.defaultProps={tag:"div"},s.a=j},451:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(0),n=t.n(c),o=t(4),i=t.n(o),l=t(52),d=t.n(l),u=t(74),m=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:m,offset:m})]),p={tag:u.tagPropType,xs:j,sm:j,md:j,lg:j,xl:j,className:i.a.string,cssModule:i.a.object,widths:i.a.array},b={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e,s,t){return!0===t||""===t?e?"col":"col-"+s:"auto"===t?e?"col-auto":"col-"+s+"-auto":e?"col-"+t:"col-"+s+"-"+t},g=function(e){var s=e.className,t=e.cssModule,c=e.widths,o=e.tag,i=Object(r.a)(e,["className","cssModule","widths","tag"]),l=[];c.forEach((function(s,a){var r=e[s];if(delete i[s],r||""===r){var c=!a;if(Object(u.isObject)(r)){var n,o=c?"-":"-"+s+"-",m=h(c,s,r.size);l.push(Object(u.mapToCssModules)(d()(((n={})[m]=r.size||""===r.size,n["order"+o+r.order]=r.order||0===r.order,n["offset"+o+r.offset]=r.offset||0===r.offset,n)),t))}else{var j=h(c,s,r);l.push(j)}}})),l.length||l.push("col");var m=Object(u.mapToCssModules)(d()(s,l),t);return n.a.createElement(o,Object(a.a)({},i,{className:m}))};g.propTypes=p,g.defaultProps=b,s.a=g},452:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(0),n=t.n(c),o=t(4),i=t.n(o),l=t(52),d=t.n(l),u=t(74),m={tag:u.tagPropType,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},j=function(e){var s=e.className,t=e.cssModule,c=e.color,o=e.body,i=e.inverse,l=e.outline,m=e.tag,j=e.innerRef,p=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(u.mapToCssModules)(d()(s,"card",!!i&&"text-white",!!o&&"card-body",!!c&&(l?"border":"bg")+"-"+c),t);return n.a.createElement(m,Object(a.a)({},p,{className:b,ref:j}))};j.propTypes=m,j.defaultProps={tag:"div"},s.a=j},463:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(0),n=t.n(c),o=t(4),i=t.n(o),l=t(52),d=t.n(l),u=t(74),m=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:m,order:m,offset:m})]),p={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,xs:j,sm:j,md:j,lg:j,xl:j,widths:i.a.array},b={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,s,t){return!0===t||""===t?e?"col":"col-"+s:"auto"===t?e?"col-auto":"col-"+s+"-auto":e?"col-"+t:"col-"+s+"-"+t},g=function(e){var s=e.className,t=e.cssModule,c=e.hidden,o=e.widths,i=e.tag,l=e.check,m=e.size,j=e.for,p=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];o.forEach((function(s,a){var r=e[s];if(delete p[s],r||""===r){var c,n=!a;if(Object(u.isObject)(r)){var o,i=n?"-":"-"+s+"-";c=h(n,s,r.size),b.push(Object(u.mapToCssModules)(d()(((o={})[c]=r.size||""===r.size,o["order"+i+r.order]=r.order||0===r.order,o["offset"+i+r.offset]=r.offset||0===r.offset,o))),t)}else c=h(n,s,r),b.push(c)}}));var g=Object(u.mapToCssModules)(d()(s,!!c&&"sr-only",!!l&&"form-check-label",!!m&&"col-form-label-"+m,b,!!b.length&&"col-form-label"),t);return n.a.createElement(i,Object(a.a)({htmlFor:j},p,{className:g}))};g.propTypes=p,g.defaultProps=b,s.a=g},465:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(106),n=t(105),o=t(0),i=t.n(o),l=t(4),d=t.n(l),u=t(52),m=t.n(u),j=t(74),p={children:d.a.node,inline:d.a.bool,tag:j.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},b=function(e){function s(s){var t;return(t=e.call(this,s)||this).getRef=t.getRef.bind(Object(c.a)(t)),t.submit=t.submit.bind(Object(c.a)(t)),t}Object(n.a)(s,e);var t=s.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,s=e.className,t=e.cssModule,c=e.inline,n=e.tag,o=e.innerRef,l=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(j.mapToCssModules)(m()(s,!!c&&"form-inline"),t);return i.a.createElement(n,Object(a.a)({},l,{ref:o,className:d}))},s}(o.Component);b.propTypes=p,b.defaultProps={tag:"form"},s.a=b},467:function(e,s,t){"use strict";var a=t(13),r=t(18),c=t(0),n=t.n(c),o=t(4),i=t.n(o),l=t(52),d=t.n(l),u=t(74),m={tag:u.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},j=function(e){var s=e.className,t=e.cssModule,c=e.type,o=e.size,i=e.color,l=e.children,m=e.tag,j=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),p=Object(u.mapToCssModules)(d()(s,!!o&&"spinner-"+c+"-"+o,"spinner-"+c,!!i&&"text-"+i),t);return n.a.createElement(m,Object(a.a)({role:"status"},j,{className:p}),l&&n.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",t)},l))};j.propTypes=m,j.defaultProps={tag:"div",type:"border",children:"Loading..."},s.a=j}}]);
//# sourceMappingURL=273.cd33320e.chunk.js.map