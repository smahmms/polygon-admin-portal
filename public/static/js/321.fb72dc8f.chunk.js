(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[321],{1894:function(e,t,a){"use strict";a.r(t);var o=a(442),r=a(0),n=a(711),s=a(1687),i=a(437),c=a(1717),l=a(1841),u=a(469),d=a(443),g=a(460),p=a.n(g),m=a(598),b=a(5);t.default=e=>{let{TableDataLoading:t,roleList:a,setRefresh:g,refresh:h}=e;const O=localStorage.getItem("username"),{id:j}=Object(n.i)(),[f,v]=(Object(n.g)(),Object(r.useState)([])),[C,y]=Object(r.useState)([]),[x,k]=Object(r.useState)(!1),[S,N]=Object(r.useState)([]),[P,A]=Object(r.useState)(!1),[D,w]=Object(r.useState)(!1),[L,T]=Object(r.useState)([]),[_,E]=Object(r.useState)({role_name:"",sub_menu_ids:[],menu_ids:[]});console.log(S),Object(r.useEffect)((()=>{localStorage.setItem("useBMStoken",!1),localStorage.setItem("usePMStoken",!1),o.a.roleBasedPending().then((e=>{console.log("getAdminMenuSubmenuList",e),N(e.data.payload)})).catch((e=>{Object(i.a)(e),console.log(e)}))}),[]);const B=(e,t)=>p.a.fire({title:"Are you sure?",text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:()=>{const a={module_id:e,action:t};return console.log(a),o.a.roleBasedAction(a).then((e=>{Object(i.c)(e),console.log(e),w(!D)})).catch((e=>{console.log(e),Object(i.a)(e)}))},buttonsStyling:!1,allowOutsideClick:()=>!p.a.isLoading()}).then((function(e){e.isConfirmed})),M=[{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by"},{name:"Created At",minWidth:"250px",sortable:!0,sortType:(e,t)=>new Date(t.created_at)-new Date(e.created_at),selector:e=>e.created_at?Object(d.b)(e.created_at):null},{name:"Operation",minWidth:"100px",sortable:!0,selector:e=>Object(b.jsxs)(s.a,{color:Object(m.a)(e.action).color,pill:!0,className:"px-1",children:[" ",Object(m.a)(e.action).title," "]})},{name:"Module Name",minWidth:"200px",sortable:!0,selector:e=>{var t;return null===(t=e.module)||void 0===t?void 0:t.module_name}},{name:"Role Name",minWidth:"150px",sortable:!0,selector:e=>{var t;return"".concat(e.role_id,"-").concat(null===(t=e.roles)||void 0===t?void 0:t.role_name)}},{name:"Action",minWidth:"150px",selector:e=>e.created_by===O?"Pending":Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{title:"Approve",children:Object(b.jsx)(c.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:()=>{B(e.module_id,"approve")}})}),"\xa0\xa0",Object(b.jsx)("span",{title:"Reject",children:Object(b.jsx)(l.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:t=>{B(e.module_id,"reject")}})})]})}];return Object(b.jsx)(r.Fragment,{children:Object(b.jsx)(u.a,{column:M,TableData:S,TableDataLoading:t})})}},437:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s}));a(0);var o=a(107);const r=e=>{try{const t=e.response;404===t.status||401===t.status||400===t.status||500===t.status||409===t.status?o.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):o.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){o.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=e=>{try{const t=e.response;404!==t.status&&401!==t.status&&400!==t.status||o.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){o.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},s=e=>{const t=e.data.message||"success";o.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},443:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d}));var o=a(486),r=a.n(o);const n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},s=e=>new Date(e).toLocaleDateString(void 0,n),i=e=>{e.endsWith("Z")&&(e=e.slice(0,-1));const t=e.indexOf("+");return-1!==t&&(e=e.slice(0,t)),r()(e).format("MMMM D, YYYY [at] h:mm A")},c=e=>String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),l=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),u=async e=>{401===e&&(window.location.href="/Adminlogin",await localStorage.clear())},d=(e,t,a)=>{const o=document.createElement("a");let r=function(e){let a;return a="",a+=t.join(","),a+="\n",e.forEach((e=>{let o=0;t.forEach((t=>{o>0&&(a+=","),a+=e[t],o++})),a+="\n"})),a}(e);if(null===r)return;const n=JSON.parse(localStorage.getItem("userData")),s="".concat(a,"_").concat((new Date).toISOString(),"_").concat(n.fullname.replaceAll(/\s/g,""),".csv");r.match(/^data:text\/csv/i)||(r="data:text/csv;charset=utf-8,".concat(r)),o.setAttribute("href",encodeURI(r)),o.setAttribute("download",s),o.click()}},467:function(e,t,a){"use strict";var o=a(13),r=a(18),n=a(0),s=a.n(n),i=a(4),c=a.n(i),l=a(52),u=a.n(l),d=a(74),g={tag:d.tagPropType,type:c.a.string,size:c.a.string,color:c.a.string,className:c.a.string,cssModule:c.a.object,children:c.a.string},p=function(e){var t=e.className,a=e.cssModule,n=e.type,i=e.size,c=e.color,l=e.children,g=e.tag,p=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),m=Object(d.mapToCssModules)(u()(t,!!i&&"spinner-"+n+"-"+i,"spinner-"+n,!!c&&"text-"+c),a);return s.a.createElement(g,Object(o.a)({role:"status"},p,{className:m}),l&&s.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",a)},l))};p.propTypes=g,p.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=p},469:function(e,t,a){"use strict";var o=a(0),r=a(1719),n=a(467),s=a(471),i=a.n(s),c=a(474),l=a.n(c),u=a(5);t.a=e=>{let{column:t,TableData:a,TableDataLoading:s}=e;const[c,d]=Object(o.useState)(0);return Object(u.jsx)(o.Fragment,{children:Object(u.jsx)(l.a,{noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(u.jsx)(r.a,{size:10}),paginationDefaultPage:c+1,paginationComponent:()=>Object(u.jsx)(i.a,{previousLabel:"",nextLabel:"",forcePage:c,onPageChange:e=>(e=>{d(e.selected)})(e),pageCount:a.length?a.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"}),data:a,progressPending:s,progressComponent:Object(u.jsx)(n.a,{color:"primary"}),responsive:!0,pointerOnHover:!0,highlightOnHover:!0,striped:!0})})}},598:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c}));const o={1:{title:"Active",color:"light-success "},0:{title:"Pending",color:"light-primary"},5:{title:"Stopped",color:"light-danger"},11:{title:"Unpaid",color:"light-primary"}},r={1:{title:"Active",color:"light-success "},0:{title:"In-Active",color:"light-primary"}},n={Insert:{title:"Insert",color:"light-success "},Update:{title:"Update",color:"light-primary"},Delete:{title:"Delete",color:"light-danger"},INSERT:{title:"INSERT",color:"light-success "},UPDATE:{title:"UPDATE",color:"light-primary"},DELETE:{title:"DELETE",color:"light-danger"}},s=e=>o[e]||{title:"N/A",color:"light-danger"},i=e=>r[e]||{title:"N/A",color:"light-danger"},c=e=>n[e]||{title:"N/A",color:"light-danger"}}}]);
//# sourceMappingURL=321.fb72dc8f.chunk.js.map