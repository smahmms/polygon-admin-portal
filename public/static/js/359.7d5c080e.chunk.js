(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[359],{2651:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t(1748),o=t(1822),r=t(1687),l=t(452),i=t(446),c=t(445),m=t(449),b=t(450),u=t(451),d=t(442),j=t(437),p=t(460),g=t.n(p),h=t(444),O=t.n(h),x=t(651),f=t(532),v=t(535),C=t(530),y=t(465),k=t(1657),N=t(463),S=t(1680),L=t(432),P=t(467),w=t(461),D=t(448),B=t(5);var E=e=>{let{modal:a,toggleModal:t,subUserInfo:n,setsubUserInfo:o,setReset:r,resetData:l}=e;const[i,c]=Object(s.useState)(!1),[m,b]=Object(s.useState)({email:!1}),p=e=>{const a=/\S+@\S+\.\S+/.test(e.target.value);"email"===e.target.name&&a&&b({...m,email:!1}),"email"!==e.target.name||a||b({...m,email:!0}),o({...n,[e.target.name]:e.target.value})};return Object(B.jsxs)(f.a,{isOpen:a,toggle:t,className:"modal-dialog-centered",children:[Object(B.jsx)(v.a,{toggle:t,children:"Edit subUser"}),Object(B.jsx)(C.a,{children:Object(B.jsxs)(y.a,{className:"row",style:{width:"100%"},onSubmit:e=>{e.preventDefault();const{mobileno:a,email:s,firstname:o,lastname:i,userstatus:m}=n;if(!/\S+@\S+\.\S+/.test(s))return 0;console.log({mobile:a,email:s,firstname:o,lastname:i,subusertype:12,userstatus:m}),c(!0),d.a.editSubUserVendor({mobile:a,email:s,firstname:o,lastname:i,subusertype:12,userstatus:m}).then((e=>{r(!l),c(!1),console.log(e),t(),Object(j.c)(e)})).catch((e=>{c(!1),Object(j.a)(e),console.log(e)}))},autoComplete:"off",children:[Object(B.jsx)(u.a,{sm:"6",children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(N.a,{for:"firstname",children:"Firstname"}),Object(B.jsx)(S.a,{type:"text",name:"firstname",id:"firstname",value:n.firstname,onChange:p,required:!0,placeholder:"Jhon "})]})}),Object(B.jsx)(u.a,{sm:"6",children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(N.a,{for:"lastname",children:"Lastname"}),Object(B.jsx)(S.a,{type:"text",name:"lastname",id:"lastname",value:n.lastname,onChange:p,required:!0,placeholder:"Doe"})]})}),Object(B.jsx)(u.a,{sm:"6",children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(N.a,{for:"mobileno",children:"Mobile Number "}),Object(B.jsx)(S.a,{type:"text",disabled:!0,minLength:10,maxLength:10,name:"mobileno",id:"mobileno",value:n.mobileno,onChange:p,required:!0,placeholder:"123 4567"})]})}),Object(B.jsx)(u.a,{sm:"6",children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(N.a,{for:"Email",children:"Email"}),Object(B.jsx)(S.a,{type:"email",name:"email",id:"Email",value:n.email,onChange:p,required:!0,placeholder:"Example@gmail.com"}),m.email&&n.email&&Object(B.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Please Enter a valid Email"})]})}),Object(B.jsx)(u.a,{sm:"6",children:Object(B.jsxs)(k.a,{children:[Object(B.jsx)(N.a,{for:"Business",children:"Status"}),Object(B.jsx)(w.a,{theme:D.i,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",value:{value:n.userstatus,label:n.userstatus?"Active":"Inactive"},onChange:e=>{o({...n,userstatus:e.value})},options:[{value:0,label:"Inactive"},{value:1,label:"Active"}]})]})}),Object(B.jsx)(u.a,{sm:"12",className:"text-center",children:i?Object(B.jsxs)(L.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(B.jsx)(P.a,{color:"white",size:"sm"}),Object(B.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(B.jsx)(L.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(B.jsx)("span",{children:"Submit"})})})]})})]})};const T=O()(g.a);a.default=()=>{const[e,a]=Object(s.useState)(!0),[t,p]=Object(s.useState)(!0),[h,O]=Object(s.useState)([]),[f,v]=Object(s.useState)({}),[C,y]=Object(s.useState)(!1);Object(s.useEffect)((()=>{d.a.SubUserListVendor().then((e=>{console.log(e.data.payload),O(e.data.payload.map((e=>9===e.mobileno.length?(e.mobileno="0".concat(e.mobileno),e):e))),a(!1)})).catch((e=>{Object(j.a)(e),console.log(e),a(!1)}))}),[t]);const k=[{name:"Name",minWidth:"100px",sortable:!0,selector:e=>"".concat(e.firstname," ").concat(e.lastname)},{name:"Email",minWidth:"100px",sortable:!0,selector:"email"},{name:"Mobile",minWidth:"100px",sortable:!0,selector:"mobileno"},{name:"Status",minWidth:"100px",selector:e=>{const a={0:{title:"Inactive",color:"light-danger"},1:{title:"Active",color:"light-success"}};return Object(B.jsx)(r.a,{color:a[e.userstatus].color,pill:!0,className:"px-1",children:a[e.userstatus].title})}},{name:"Action",minWidth:"150px",selector:e=>Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("span",{title:"Edit",children:Object(B.jsx)(n.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:a=>{v(e),y(!0)}})}),"\xa0\xa0",Object(B.jsx)("span",{title:"Delete",children:Object(B.jsx)(o.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:a=>{return t=e.mobileno,s="Do you want to delete?",T.fire({title:s,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:()=>d.a.deleteSubUserVendor({mobile:t}).then((e=>{Object(j.c)(e),console.log(e),O(h.filter((e=>e.mobileno!==t)))})).catch((e=>{console.log(e.response),Object(j.a)(e)})),buttonsStyling:!1,allowOutsideClick:()=>!g.a.isLoading()}).then((function(e){e.isConfirmed}));var t,s}})})]})}];return Object(B.jsxs)(l.a,{children:[Object(B.jsx)(i.a,{className:"border-bottom",children:Object(B.jsx)(c.a,{tag:"h4",children:"My users"})}),Object(B.jsxs)(m.a,{children:[Object(B.jsx)(b.a,{children:Object(B.jsx)(u.a,{md:"12",children:Object(B.jsx)(x.a,{column:k,TableData:h,TableDataLoading:e})})}),Object(B.jsx)(E,{toggleModal:()=>y(!C),modal:C,resetData:t,setReset:p,subUserInfo:f,setsubUserInfo:v})]})]})}},437:function(e,a,t){"use strict";t.d(a,"a",(function(){return n})),t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return r}));t(0);var s=t(107);const n=e=>{try{const a=e.response;404===a.status||401===a.status||400===a.status||500===a.status||409===a.status?s.f.error(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=e=>{try{const a=e.response;404!==a.status&&401!==a.status&&400!==a.status||s.f.error(a.data.errors?a.data.errors[Object.keys(a.data.errors)[0]]:a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=e=>{const a=e.data.message||"success";s.f.success(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},651:function(e,a,t){"use strict";var s=t(0),n=t(1719),o=t(467),r=t(471),l=t.n(r),i=t(474),c=t.n(i),m=t(5);a.a=e=>{let{column:a,TableData:t,TableDataLoading:r}=e;const[i,b]=Object(s.useState)(0);return Object(m.jsx)(s.Fragment,{children:Object(m.jsx)(c.a,{noHeader:!0,pagination:!0,columns:a,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(m.jsx)(n.a,{size:10}),paginationDefaultPage:i+1,paginationComponent:()=>Object(m.jsx)(l.a,{previousLabel:"",nextLabel:"",forcePage:i,onPageChange:e=>(e=>{b(e.selected)})(e),pageCount:t.length?t.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"}),data:t,progressPending:r,progressComponent:Object(m.jsx)(o.a,{color:"primary"}),responsive:!0})})}}}]);
//# sourceMappingURL=359.7d5c080e.chunk.js.map