(this["webpackJsonprilac-web"]=this["webpackJsonprilac-web"]||[]).push([[303],{1420:function(e,s,a){},2036:function(e,s,a){},2583:function(e,s,a){"use strict";a.r(s);var t=a(0),c=a(27),l=a.n(c),i=a(485),n=a(108),r=a(75),d=a.n(r);const j=()=>e=>{d.a.get("/apps/chat/chats-and-contacts").then((s=>{e({type:"GET_CHAT_CONTACTS",data:s.data})}))},o=e=>s=>{d.a.get("/apps/chat/get-chat",{id:e}).then((e=>{s({type:"SELECT_CHAT",data:e.data}),s(j())}))};var b=a(52),h=a.n(b),m=a(745),O=a.n(m),u=a(1782),x=a(1781),p=a(1790),N=a(1833),g=a(1694),f=a(1786),v=a(1783),y=a(1765),w=a(1804),C=a(1662),S=a(1957),k=a(1666),z=a(1677),T=a(465),M=a(1678),R=a(1679),E=a(1322),P=a(1680),D=a(463),I=a(432),A=a(5);var L=e=>{const{handleUser:s,handleUserSidebarRight:a,handleSidebar:c,store:r,userSidebarLeft:j}=e,{userProfile:b,selectedUser:m}=r,L=Object(t.useRef)(null),U=Object(n.b)(),[F,_]=Object(t.useState)("");Object(t.useEffect)((()=>{Object.keys(m).length&&(l.a.findDOMNode(L.current).scrollTop=Number.MAX_SAFE_INTEGER)}),[m]);const H=e=>{var s;e.preventDefault(),F.length&&(U((s={...m,message:F},e=>{d.a.post("/apps/chat/send-msg",{obj:s}).then((a=>{e({type:"SEND_MSG",data:a.data}),e(o(s.contact.id))}))})),_(""))},W=Object.keys(m).length&&m.chat?O.a:"div";return Object(A.jsxs)("div",{className:"chat-app-window",children:[Object(A.jsxs)("div",{className:h()("start-chat-area",{"d-none":Object.keys(m).length}),children:[Object(A.jsx)("div",{className:"start-chat-icon mb-1",children:Object(A.jsx)(u.a,{})}),Object(A.jsx)("h4",{className:"sidebar-toggle start-chat-text",onClick:()=>{!Object.keys(m).length&&!j&&window.innerWidth<=1200&&c()},children:"Start Conversation"})]}),Object.keys(m).length?Object(A.jsxs)("div",{className:h()("active-chat",{"d-none":null===m}),children:[Object(A.jsx)("div",{className:"chat-navbar",children:Object(A.jsxs)("header",{className:"chat-header",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center",children:[Object(A.jsx)("div",{className:"sidebar-toggle d-block d-lg-none mr-1",onClick:c,children:Object(A.jsx)(x.a,{size:21})}),Object(A.jsx)(i.a,{imgHeight:"36",imgWidth:"36",img:m.contact.avatar,status:m.contact.status,className:"avatar-border user-profile-toggle m-0 mr-1",onClick:()=>{return e=m.contact,a(),void s(e);var e}}),Object(A.jsx)("h6",{className:"mb-0",children:m.contact.fullName})]}),Object(A.jsxs)("div",{className:"d-flex align-items-center",children:[Object(A.jsx)(p.a,{size:18,className:"cursor-pointer d-sm-block d-none mr-1"}),Object(A.jsx)(N.a,{size:18,className:"cursor-pointer d-sm-block d-none mr-1"}),Object(A.jsx)(g.a,{size:18,className:"cursor-pointer d-sm-block d-none"}),Object(A.jsxs)(C.a,{children:[Object(A.jsx)(S.a,{className:"btn-icon",color:"transparent",size:"sm",children:Object(A.jsx)(f.a,{size:"18"})}),Object(A.jsxs)(k.a,{right:!0,children:[Object(A.jsx)(z.a,{href:"/",onClick:e=>e.preventDefault(),children:"View Contact"}),Object(A.jsx)(z.a,{href:"/",onClick:e=>e.preventDefault(),children:"Mute Notifications"}),Object(A.jsx)(z.a,{href:"/",onClick:e=>e.preventDefault(),children:"Block Contact"}),Object(A.jsx)(z.a,{href:"/",onClick:e=>e.preventDefault(),children:"Clear Chat"}),Object(A.jsx)(z.a,{href:"/",onClick:e=>e.preventDefault(),children:"Report"})]})]})]})]})}),Object(A.jsx)(W,{ref:L,className:"user-chats",options:{wheelPropagation:!1},children:m.chat?Object(A.jsx)("div",{className:"chats",children:(()=>{let e=[];m.chat&&(e=m.chat.chat);const s=[];let a=e[0]?e[0].senderId:void 0,t={senderId:a,messages:[]};return e.forEach(((c,l)=>{a===c.senderId?t.messages.push({msg:c.message,time:c.time}):(a=c.senderId,s.push(t),t={senderId:c.senderId,messages:[{msg:c.message,time:c.time}]}),l===e.length-1&&s.push(t)})),s})().map(((e,s)=>Object(A.jsxs)("div",{className:h()("chat",{"chat-left":11!==e.senderId}),children:[Object(A.jsx)("div",{className:"chat-avatar",children:Object(A.jsx)(i.a,{className:"box-shadow-1 cursor-pointer",img:11===e.senderId?b.avatar:m.contact.avatar})}),Object(A.jsx)("div",{className:"chat-body",children:e.messages.map((e=>Object(A.jsx)("div",{className:"chat-content",children:Object(A.jsx)("p",{children:e.msg})},e.msg)))})]},s)))}):null}),Object(A.jsxs)(T.a,{className:"chat-app-form",onSubmit:e=>H(e),children:[Object(A.jsxs)(M.a,{className:"input-group-merge mr-1 form-send-message",children:[Object(A.jsx)(R.a,{addonType:"prepend",children:Object(A.jsx)(E.a,{children:Object(A.jsx)(v.a,{className:"cursor-pointer",size:14})})}),Object(A.jsx)(P.a,{value:F,onChange:e=>_(e.target.value),placeholder:"Type your message or use speech to text"}),Object(A.jsx)(R.a,{addonType:"append",children:Object(A.jsx)(E.a,{children:Object(A.jsxs)(D.a,{className:"attachment-icon mb-0",for:"attach-doc",children:[Object(A.jsx)(y.a,{className:"cursor-pointer text-secondary",size:14}),Object(A.jsx)("input",{type:"file",id:"attach-doc",hidden:!0})]})})})]}),Object(A.jsxs)(I.a,{className:"send",color:"primary",children:[Object(A.jsx)(w.a,{size:14,className:"d-lg-none"}),Object(A.jsx)("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},U=a(448),F=a(1656),_=a(1717),H=a(1709),W=a(1688),G=a(1822),V=a(504),B=a(1687),J=a(1654);var X=e=>{const{store:s,sidebar:a,handleSidebar:c,userSidebarLeft:l,handleUserSidebarLeft:r}=e,{chats:d,contacts:j,userProfile:b}=s,m=Object(n.b)(),[u,x]=Object(t.useState)(""),[p,N]=Object(t.useState)(""),[f,v]=Object(t.useState)({}),[y,w]=Object(t.useState)("online"),[C,S]=Object(t.useState)([]),[k,z]=Object(t.useState)([]),T=(e,s)=>{m(o(s)),v({type:e,id:s}),!0===a&&c()};return s?Object(A.jsx)("div",{className:"sidebar-left",children:Object(A.jsxs)("div",{className:"sidebar",children:[Object(A.jsxs)("div",{className:h()("chat-profile-sidebar",{show:l}),children:[Object(A.jsxs)("header",{className:"chat-profile-header",children:[Object(A.jsx)("div",{className:"close-icon",onClick:r,children:Object(A.jsx)(F.a,{size:14})}),Object(A.jsxs)("div",{className:"header-profile-sidebar",children:[Object(A.jsx)(i.a,{className:"box-shadow-1 avatar-border",img:b.avatar,status:y,size:"xl"}),Object(A.jsx)("h4",{className:"chat-user-name",children:b.fullName}),Object(A.jsx)("span",{className:"user-post",children:b.role})]})]}),Object(A.jsxs)(O.a,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(A.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(A.jsxs)("div",{className:"about-user",children:[Object(A.jsx)(P.a,{rows:"5",defaultValue:b.about,type:"textarea",onChange:e=>x(e.target.value),className:h()("char-textarea",{"text-danger":u&&u.length>120})}),Object(A.jsxs)("small",{className:"counter-value float-right",children:[Object(A.jsx)("span",{className:"char-count",children:b.about?b.about.length:0}),"/ 120"]})]}),Object(A.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Status"}),Object(A.jsxs)("ul",{className:"list-unstyled user-status",children:[Object(A.jsx)("li",{className:"pb-1",children:Object(A.jsx)(J.a,{type:"radio",className:"custom-control-primary",id:"online",label:"Online",onChange:e=>w("online"),checked:"online"===y})}),Object(A.jsx)("li",{className:"pb-1",children:Object(A.jsx)(J.a,{type:"radio",className:"custom-control-danger",id:"busy",label:"Do Not Disturb",onChange:e=>w("busy"),checked:"busy"===y})}),Object(A.jsx)("li",{className:"pb-1",children:Object(A.jsx)(J.a,{type:"radio",className:"custom-control-warning",id:"away",label:"Away",onChange:e=>w("away"),checked:"away"===y})}),Object(A.jsx)("li",{className:"pb-1",children:Object(A.jsx)(J.a,{type:"radio",className:"custom-control-secondary",id:"offline",label:"Offline",onChange:e=>w("offline"),checked:"offline"===y})})]}),Object(A.jsx)("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),Object(A.jsxs)("ul",{className:"list-unstyled",children:[Object(A.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center",children:[Object(A.jsx)(_.a,{className:"mr-75",size:"18"}),Object(A.jsx)("span",{className:"align-middle",children:"Two-step Verification"})]}),Object(A.jsx)(J.a,{type:"switch",id:"verification",name:"verification",label:"",defaultChecked:!0})]}),Object(A.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(A.jsxs)("div",{className:"d-flex align-items-center",children:[Object(A.jsx)(H.a,{className:"mr-75",size:"18"}),Object(A.jsx)("span",{className:"align-middle",children:"Notification"})]}),Object(A.jsx)(J.a,{type:"switch",id:"notifications",name:"notifications",label:""})]}),Object(A.jsxs)("li",{className:"d-flex align-items-center cursor-pointer mb-1",children:[Object(A.jsx)(W.a,{className:"mr-75",size:"18"}),Object(A.jsx)("span",{className:"align-middle",children:"Invite Friends"})]}),Object(A.jsxs)("li",{className:"d-flex align-items-center cursor-pointer",children:[Object(A.jsx)(G.a,{className:"mr-75",size:"18"}),Object(A.jsx)("span",{className:"align-middle",children:"Delete Account"})]})]}),Object(A.jsx)("div",{className:"mt-3",children:Object(A.jsx)(I.a,{color:"primary",children:"Logout"})})]})]}),Object(A.jsxs)("div",{className:h()("sidebar-content",{show:!0===a}),children:[Object(A.jsx)("div",{className:"sidebar-close-icon",onClick:c,children:Object(A.jsx)(F.a,{size:14})}),Object(A.jsx)("div",{className:"chat-fixed-search",children:Object(A.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(A.jsx)("div",{className:"sidebar-profile-toggle",onClick:r,children:Object.keys(b).length?Object(A.jsx)(i.a,{className:"avatar-border",img:b.avatar,status:y,imgHeight:"42",imgWidth:"42"}):null}),Object(A.jsxs)(M.a,{className:"input-group-merge ml-1 w-100",children:[Object(A.jsx)(R.a,{addonType:"prepend",children:Object(A.jsx)(E.a,{className:"round",children:Object(A.jsx)(g.a,{className:"text-muted",size:14})})}),Object(A.jsx)(P.a,{value:p,className:"round",placeholder:"Search or start a new chat",onChange:e=>{N(e.target.value);const s=s=>s.fullName.toLowerCase().includes(e.target.value.toLowerCase()),a=d.filter(s),t=j.filter(s);S([...a]),z([...t])}})]})]})}),Object(A.jsxs)(O.a,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[Object(A.jsx)("h4",{className:"chat-list-title",children:"Chats"}),Object(A.jsx)("ul",{className:"chat-users-list chat-list media-list",children:(()=>{if(d&&d.length){if(p.length&&!C.length)return Object(A.jsx)("li",{className:"no-results show",children:Object(A.jsx)("h6",{className:"mb-0",children:"No Chats Found"})});return(p.length&&C.length?C:d).map((e=>{const s=Object(U.c)(e.chat.lastMessage?e.chat.lastMessage.time:new Date);return Object(A.jsxs)("li",{className:h()({active:"chat"===f.type&&f.id===e.id}),onClick:()=>T("chat",e.id),children:[Object(A.jsx)(i.a,{img:e.avatar,imgHeight:"42",imgWidth:"42",status:e.status}),Object(A.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(A.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(A.jsx)(V.a,{className:"text-truncate",children:e.chat.lastMessage?e.chat.lastMessage.message:d[d.length-1].message})]}),Object(A.jsxs)("div",{className:"chat-meta text-nowrap",children:[Object(A.jsx)("small",{className:"float-right mb-25 chat-time ml-25",children:s}),e.chat.unseenMsgs>=1?Object(A.jsx)(B.a,{className:"float-right",color:"danger",pill:!0,children:e.chat.unseenMsgs}):null]})]},e.id)}))}return null})()}),Object(A.jsx)("h4",{className:"chat-list-title",children:"Contacts"}),Object(A.jsx)("ul",{className:"chat-users-list contact-list media-list",children:(()=>{if(j&&j.length){if(p.length&&!k.length)return Object(A.jsx)("li",{className:"no-results show",children:Object(A.jsx)("h6",{className:"mb-0",children:"No Chats Found"})});return(p.length&&k.length?k:j).map((e=>Object(A.jsxs)("li",{className:h()({active:"contact"===f.type&&f.id===e.id}),onClick:()=>T("contact",e.id),children:[Object(A.jsx)(i.a,{img:e.avatar,imgHeight:"42",imgWidth:"42"}),Object(A.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(A.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(A.jsx)(V.a,{className:"text-truncate",children:e.about})]})]},e.fullName)))}return null})()})]})]})]})}):null},q=a(1777),K=a(1727),Q=a(1817),Y=a(1813),Z=a(1811);var $=e=>{const{user:s,handleUserSidebarRight:a,userSidebarRight:t}=e;return Object(A.jsxs)("div",{className:h()("user-profile-sidebar",{show:!0===t}),children:[Object(A.jsxs)("header",{className:"user-profile-header",children:[Object(A.jsx)("span",{className:"close-icon",onClick:a,children:Object(A.jsx)(F.a,{size:14})}),Object(A.jsxs)("div",{className:"header-profile-sidebar",children:[Object(A.jsx)(i.a,{className:"box-shadow-1 avatar-border",size:"xl",status:s.status,img:s.avatar,imgHeight:"70",imgWidth:"70"}),Object(A.jsx)("h4",{className:"chat-user-name",children:s.fullName}),Object(A.jsx)("span",{className:"user-post",children:s.role})]})]}),Object(A.jsxs)(O.a,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(A.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(A.jsx)("p",{children:s.about}),Object(A.jsxs)("div",{className:"personal-info",children:[Object(A.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),Object(A.jsxs)("ul",{className:"list-unstyled",children:[Object(A.jsxs)("li",{className:"mb-1",children:[Object(A.jsx)(q.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:"lucifer@email.com"})]}),Object(A.jsxs)("li",{className:"mb-1",children:[Object(A.jsx)(p.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:" +1(123) 456 - 7890"})]}),Object(A.jsxs)("li",{children:[Object(A.jsx)(K.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:" Mon - Fri 10AM - 8PM"})]})]})]}),Object(A.jsxs)("div",{className:"more-options",children:[Object(A.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Options"}),Object(A.jsxs)("ul",{className:"list-unstyled",children:[Object(A.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(A.jsx)(Q.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:" Add Tag"})]}),Object(A.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(A.jsx)(Y.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:" Important Contact"})]}),Object(A.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(A.jsx)(y.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:" Shared Media"})]}),Object(A.jsxs)("li",{className:"cursor-pointer mb-1",children:[Object(A.jsx)(G.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:" Delete Contact"})]}),Object(A.jsxs)("li",{className:"cursor-pointer",children:[Object(A.jsx)(Z.a,{className:"mr-50",size:17}),Object(A.jsx)("span",{className:"align-middle",children:"Block Contact"})]})]})]})]})]})};a(2036),a(1420);s.default=()=>{const e=Object(n.b)(),s=Object(n.c)((e=>e.chat)),[a,c]=Object(t.useState)({}),[l,i]=Object(t.useState)(!1),[r,o]=Object(t.useState)(!1),[b,m]=Object(t.useState)(!1),O=()=>i(!l),u=()=>o(!r);return Object(t.useEffect)((()=>{e(j()),e((e=>d.a.get("/apps/chat/users/profile-user").then((s=>e({type:"GET_USER_PROFILE",userProfile:s.data})))))}),[e]),Object(A.jsxs)(t.Fragment,{children:[Object(A.jsx)(X,{store:s,sidebar:l,handleSidebar:O,userSidebarLeft:b,handleUserSidebarLeft:()=>m(!b)}),Object(A.jsx)("div",{className:"content-right",children:Object(A.jsx)("div",{className:"content-wrapper",children:Object(A.jsxs)("div",{className:"content-body",children:[Object(A.jsx)("div",{className:h()("body-content-overlay",{show:!0===r||!0===l||!0===b}),onClick:()=>{i(!1),o(!1),m(!1)}}),Object(A.jsx)(L,{store:s,handleUser:e=>c(e),handleSidebar:O,userSidebarLeft:b,handleUserSidebarRight:u}),Object(A.jsx)($,{user:a,userSidebarRight:r,handleUserSidebarRight:u})]})})})]})}},463:function(e,s,a){"use strict";var t=a(13),c=a(18),l=a(0),i=a.n(l),n=a(4),r=a.n(n),d=a(52),j=a.n(d),o=a(74),b=r.a.oneOfType([r.a.number,r.a.string]),h=r.a.oneOfType([r.a.bool,r.a.string,r.a.number,r.a.shape({size:b,order:b,offset:b})]),m={children:r.a.node,hidden:r.a.bool,check:r.a.bool,size:r.a.string,for:r.a.string,tag:o.tagPropType,className:r.a.string,cssModule:r.a.object,xs:h,sm:h,md:h,lg:h,xl:h,widths:r.a.array},O={tag:"label",widths:["xs","sm","md","lg","xl"]},u=function(e,s,a){return!0===a||""===a?e?"col":"col-"+s:"auto"===a?e?"col-auto":"col-"+s+"-auto":e?"col-"+a:"col-"+s+"-"+a},x=function(e){var s=e.className,a=e.cssModule,l=e.hidden,n=e.widths,r=e.tag,d=e.check,b=e.size,h=e.for,m=Object(c.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),O=[];n.forEach((function(s,t){var c=e[s];if(delete m[s],c||""===c){var l,i=!t;if(Object(o.isObject)(c)){var n,r=i?"-":"-"+s+"-";l=u(i,s,c.size),O.push(Object(o.mapToCssModules)(j()(((n={})[l]=c.size||""===c.size,n["order"+r+c.order]=c.order||0===c.order,n["offset"+r+c.offset]=c.offset||0===c.offset,n))),a)}else l=u(i,s,c),O.push(l)}}));var x=Object(o.mapToCssModules)(j()(s,!!l&&"sr-only",!!d&&"form-check-label",!!b&&"col-form-label-"+b,O,!!O.length&&"col-form-label"),a);return i.a.createElement(r,Object(t.a)({htmlFor:h},m,{className:x}))};x.propTypes=m,x.defaultProps=O,s.a=x},465:function(e,s,a){"use strict";var t=a(13),c=a(18),l=a(106),i=a(105),n=a(0),r=a.n(n),d=a(4),j=a.n(d),o=a(52),b=a.n(o),h=a(74),m={children:j.a.node,inline:j.a.bool,tag:h.tagPropType,innerRef:j.a.oneOfType([j.a.object,j.a.func,j.a.string]),className:j.a.string,cssModule:j.a.object},O=function(e){function s(s){var a;return(a=e.call(this,s)||this).getRef=a.getRef.bind(Object(l.a)(a)),a.submit=a.submit.bind(Object(l.a)(a)),a}Object(i.a)(s,e);var a=s.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,s=e.className,a=e.cssModule,l=e.inline,i=e.tag,n=e.innerRef,d=Object(c.a)(e,["className","cssModule","inline","tag","innerRef"]),j=Object(h.mapToCssModules)(b()(s,!!l&&"form-inline"),a);return r.a.createElement(i,Object(t.a)({},d,{ref:n,className:j}))},s}(n.Component);O.propTypes=m,O.defaultProps={tag:"form"},s.a=O},504:function(e,s,a){"use strict";var t=a(13),c=a(18),l=a(0),i=a.n(l),n=a(4),r=a.n(n),d=a(52),j=a.n(d),o=a(74),b={tag:o.tagPropType,className:r.a.string,cssModule:r.a.object},h=function(e){var s=e.className,a=e.cssModule,l=e.tag,n=Object(c.a)(e,["className","cssModule","tag"]),r=Object(o.mapToCssModules)(j()(s,"card-text"),a);return i.a.createElement(l,Object(t.a)({},n,{className:r}))};h.propTypes=b,h.defaultProps={tag:"p"},s.a=h}}]);
//# sourceMappingURL=303.9bd40a21.chunk.js.map